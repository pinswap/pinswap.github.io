(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["community"],{3690:function(e,s,t){},f7d6:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"community"},[t("div",{staticClass:"box"},[t("span",[e._v("社区代币地址")]),t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenAddress,expression:"tokenAddress"}],attrs:{type:"text"},domProps:{value:e.tokenAddress},on:{change:e.changeTokenAddress,input:function(s){s.target.composing||(e.tokenAddress=s.target.value)}}})]),t("span",[e._v("社区来源")]),t("div",{staticClass:"select-container"},[t("span",[e._v(e._s(e.source))]),t("span",{on:{click:function(s){e.sourceShow=!e.sourceShow}}},[e._v("▼")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.sourceShow,expression:"sourceShow"}],staticClass:"options"},[t("span",{on:{click:function(s){return e.selectSource("SunSwap")}}},[e._v("SunSwap")]),t("span",{on:{click:function(s){return e.selectSource("自定义")}}},[e._v("自定义")])])]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showPrice,expression:"showPrice"}]},[e._v("社区代币价格($)")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPrice,expression:"showPrice"}],staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenPrice,expression:"tokenPrice"}],attrs:{type:"number"},domProps:{value:e.tokenPrice},on:{input:function(s){s.target.composing||(e.tokenPrice=s.target.value)}}})]),t("span",[e._v("社区代币精度")]),t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.decimals,expression:"decimals"}],attrs:{type:"number",readonly:""},domProps:{value:e.decimals},on:{input:function(s){s.target.composing||(e.decimals=s.target.value)}}})]),t("span",[e._v("销毁地址")]),t("div",{staticClass:"select-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.destroyAddress,expression:"destroyAddress"}],attrs:{type:"text"},domProps:{value:e.destroyAddress},on:{input:function(s){s.target.composing||(e.destroyAddress=s.target.value)}}}),t("span",{on:{click:function(s){e.destroyShow=!e.destroyShow}}},[e._v("▼")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.destroyShow,expression:"destroyShow"}],staticClass:"options"},[t("span",{on:{click:function(s){return e.selectDestroyAddress("0x0000")}}},[e._v("0x0000")]),t("span",{on:{click:function(s){return e.selectDestroyAddress("0xdead")}}},[e._v("0xdead")])])]),t("van-button",{on:{click:e.addToken}},[e._v("确认")])],1)])},r=[],o=(t("b680"),t("96cf"),t("1da1")),i={"0x0000":"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb","0xdead":"T9yD14Nj9j7xAB4dbGeiX9h8upfCg3PBbY"},a={data:function(){return{sourceShow:!1,destroyShow:!1,tokenAddress:"",source:"",tokenPrice:"",decimals:"",destroyAddress:""}},computed:{showPrice:function(){return"SunSwap"!==this.source}},methods:{selectSource:function(e){this.source=e,this.sourceShow=!1},selectDestroyAddress:function(e){this.destroyAddress=e,this.destroyShow=!1},changeTokenAddress:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(window.tronWeb.isAddress(e.tokenAddress)){s.next=2;break}return s.abrupt("return",vant.Toast.fail("社区代币地址格式错误！"));case 2:return s.prev=2,s.next=5,e.$utils.callNotDeployed({contractAddress:e.tokenAddress,method:"decimals()"});case 5:e.decimals=s.sent.constant_result[0].decode(["uint"]),s.next=11;break;case 8:return s.prev=8,s.t0=s["catch"](2),s.abrupt("return",vant.Toast.fail("不是一个正确的社区代币地址！"));case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},addToken:function(){var e=this;if(""===this.tokenAddress)return vant.Toast.fail("请输入社区代币地址！");if(!window.tronWeb.isAddress(this.tokenAddress))return vant.Toast.fail("社区代币地址格式错误！");if(""===this.source)return vant.Toast.fail("请选择社区来源！");if("自定义"===this.source&&""===this.tokenPrice)return vant.Toast.fail("请输入社区代币价格！");if(""===this.destroyAddress)return vant.Toast.fail("请选择或输入销毁地址！");if(!i.hasOwnProperty(this.destroyAddress)&&!window.tronWeb.isAddress(this.destroyAddress))return vant.Toast.fail("销毁地址格式错误！");var s="SunSwap"===this.source?0:"1".toBN().div(this.tokenPrice).times(1e6).toFixed(0),t=i.hasOwnProperty(this.destroyAddress)?i[this.destroyAddress]:this.destroyAddress;this.$contracts.Community.addToken(this.tokenAddress,s,this.decimals,t).send().then(function(){var s=Object(o["a"])(regeneratorRuntime.mark((function s(t){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$loading(t);case 2:n=s.sent,n&&(e.tokenAddress="",e.source="",e.tokenPrice="",e.decimals="",e.destroyAddress="",vant.Toast.success("添加社区代币成功！"));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}())}}},d=a,c=d,u=(t("f7eb"),t("2877")),l=Object(u["a"])(c,n,r,!1,null,"ba978a08",null);s["default"]=l.exports},f7eb:function(e,s,t){"use strict";t("3690")}}]);