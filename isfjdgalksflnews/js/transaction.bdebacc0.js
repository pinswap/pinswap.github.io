(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transaction"],{"0430":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{attrs:{round:"",closeable:"",position:"bottom"},on:{"click-close-icon":t.close},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"trading-setup"},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("tradingSetup.text1")))]),n("div",{staticClass:"slippage-setting"},[n("div",{staticClass:"title"},[n("span",[t._v(t._s(t.$t("tradingSetup.text2")))]),n("div",[n("input",{attrs:{type:"number"},domProps:{value:t.value},on:{input:t.input}}),n("span",[t._v("%")])])]),n("van-slider",{attrs:{min:"1",max:"5",step:"0.5","button-size":"15","active-color":"#3C94FF","inactive-color":"#D8D8D8"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("div",{staticClass:"slider-items"},[n("span",[t._v("1%")]),n("span",[t._v("2%")]),n("span",[t._v("3%")]),n("span",[t._v("4%")]),n("span",[t._v("5%")])]),n("span",[t._v(t._s(t.$t("tradingSetup.text3")))])],1),n("div",{staticClass:"deadline"},[n("div",[n("span",[t._v(t._s(t.$t("tradingSetup.text4")))]),n("van-field",{attrs:{type:"number","input-align":"center"},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}}),n("span",[t._v(t._s(t.$t("tradingSetup.text5")))])],1),n("span",[t._v(t._s(t.$t("tradingSetup.text6")))])]),n("van-button",{attrs:{type:"info"},on:{click:t.setSlipPoint}},[t._v(t._s(t.$t("tradingSetup.text7")))])],1)])},a=[],s=(n("a9e3"),{data:function(){return{value:2,deadline:10,show:!1,slipPoint:2}},methods:{open:function(){this.show=!0},setSlipPoint:function(){this.$emit("change",{slipPoint:this.slipPoint,deadline:60*Number(this.deadline)}),this.show=!1},input:function(t){this.slipPoint=t.target.value}}}),o=s,i=o,c=(n("a454"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"5087dda0",null);e["default"]=u.exports},"068a":function(t,e,n){"use strict";n("4854")},"159b":function(t,e,n){var r=n("da84"),a=n("fdbc"),s=n("17c2"),o=n("9112");for(var i in a){var c=r[i],u=c&&c.prototype;if(u&&u.forEach!==s)try{o(u,"forEach",s)}catch(l){u.forEach=s}}},"173a":function(t,e,n){"use strict";n("4f17")},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,a=n("a640"),s=n("ae40"),o=a("forEach"),i=s("forEach");t.exports=o&&i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"20f0":function(t,e,n){},"243d":function(t,e,n){"use strict";n("807c")},"38fc":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-overlay",{attrs:{show:t.show},on:{click:t.toggle}},[n("div",{staticClass:"authorize",on:{click:function(t){t.stopPropagation()}}},[n("div",[n("div",{staticClass:"title"},[n("span",[t._v(t._s(t.$t("authorize.text1")))]),n("div",[t._v(t._s(t.type))])]),n("div",{staticClass:"authorize-type",class:{active:"general"===t.authorizeType},on:{click:function(e){t.authorizeType="general"}}},[n("div",[n("span",[t._v(t._s(t.$t("authorize.text2")))]),n("span",[t._v(t._s(t.$t("authorize.text3")))])]),n("span",[t._v(t._s(t.$t("authorize.text4")))])]),n("div",{staticClass:"authorize-type",class:{active:"super"===t.authorizeType},on:{click:function(e){t.authorizeType="super"}}},[n("div",[n("span",[t._v(t._s(t.$t("authorize.text5")))]),n("span",[t._v(t._s(t.$t("authorize.text6")))])]),n("span",[t._v(t._s(t.$t("authorize.text7")))])]),n("van-button",{on:{click:t.authorize}},[t._v(t._s(t.$t("authorize.text8")))])],1)])])},a=[],s=(n("a9e3"),n("d3b7"),n("25f0"),n("3952")),o={data:function(){return{show:!1,authorizeType:"general",amount:null,type:"USDT",contractName:null,contractAddress:null,decimals:6}},methods:{toggle:function(){this.show=!this.show},authorize:function(){var t=this,e=10*Number(this.amount),n="general"===this.authorizeType?e.toString().toSun(this.decimals):"100000".toSun(this.decimals),r="TECToken"===this.contractName?tronWeb.contract(s,"TDLzGujYbTnL5RE155mW74XFrqhNEeQ2DY"):this.$pingSwapContracts[this.contractName];r.approve(this.contractAddress,n).send({feeLimit:this.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.toggle(),t.$emit("send"))}))}))}}},i=o,c=(n("64a5"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"af768e8e",null);e["default"]=u.exports},3949:function(t,e,n){"use strict";n("4d81")},"3cab":function(t,e,n){"use strict";n("ffd1")},4160:function(t,e,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},4409:function(t,e,n){"use strict";n("20f0")},4854:function(t,e,n){},"4bfd":function(t,e,n){"use strict";n("b38d")},"4d81":function(t,e,n){},"4de4":function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").filter,s=n("1dde"),o=n("ae40"),i=s("filter"),c=o("filter");r({target:"Array",proto:!0,forced:!i||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f17":function(t,e,n){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5942:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{attrs:{show:t.show}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction,expression:"inTransaction"}],staticClass:"loading"},[r("span",[t._v(t._s(t.$t("transationState.text1")))]),r("div",{staticClass:"pair"},[r("div",[r("span",{domProps:{textContent:t._s(t.from.symbol)}}),r("span",{domProps:{textContent:t._s(t.from.amount)}})]),r("img",{attrs:{src:n("004e")}}),r("div",[r("span",{domProps:{textContent:t._s(t.to.symbol)}}),r("span",{domProps:{textContent:t._s(t.to.amount)}})])]),r("div",{staticClass:"info"},[r("div",[r("span",[t._v(t._s(t.$t("transationState.text2")))]),r("div",[r("span",[t._v("1 "+t._s(t.from.symbol)+"="+t._s(t.toPrice)+" "+t._s(t.to.symbol))]),r("span",[t._v("1 "+t._s(t.to.symbol)+"="+t._s(t.fromPrice)+" "+t._s(t.from.symbol))])])]),r("div",[r("span",[t._v(t._s(t.$t("transationState.text3")))]),r("span",[t._v(t._s(t.min)+" "+t._s(t.to.symbol))])]),r("div",[r("span",[t._v(t._s(t.$t("transationState.text4")))]),r("span",{domProps:{textContent:t._s(t.slipPoint)}})]),r("div",[r("span",[t._v(t._s(t.$t("transationState.text5")))]),r("span",[t._v(t._s(Number(t.from.amount)/1e3*3)+" "+t._s(t.from.symbol))])])]),r("van-button",{attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transationState.text6")}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction,expression:"!inTransaction"}],staticClass:"success"},[r("div",{staticClass:"state"},[r("img",{attrs:{src:n("6582")}}),r("span",[t._v(t._s(t.$t("transationState.text7")))])]),r("div",{staticClass:"pair"},[r("div",[r("span",{domProps:{textContent:t._s(t.from.symbol)}}),r("span",{domProps:{textContent:t._s(t.from.amount)}})]),r("img",{attrs:{src:n("004e")}}),r("div",[r("span",{domProps:{textContent:t._s(t.to.symbol)}}),r("span",{domProps:{textContent:t._s(t.to.amount)}})])]),r("van-button",{attrs:{type:"info"},on:{click:t.close}},[t._v(t._s(t.$t("transationState.text8")))]),r("span",[t._v(t._s(t.$t("transationState.text9")))])],1)])},a=[],s=(n("a9e3"),{props:{transaction:{type:Boolean,require:!0},from:{type:Object,require:!0},to:{type:Object,require:!0},slipPoint:{type:String,require:!0},toPrice:{type:[String,Number],require:!0},fromPrice:{type:[String,Number],require:!0}},data:function(){return{show:!1,inTransaction:!1}},methods:{close:function(){this.show=!1}},watch:{transaction:function(t){t&&(this.show=!0),this.inTransaction=t}}}),o=s,i=o,c=(n("4409"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"41ef5344",null);e["default"]=u.exports},"5d47":function(t,e,n){},6271:function(t,e,n){},"63ee":function(t,e,n){},"64a5":function(t,e,n){"use strict";n("883a")},"68d4":function(t,e,n){"use strict";n.r(e);var r,a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mk-header",class:t.isRead?"":"unread"},[r("div",{staticClass:"select-chain van-hairline--surround",on:{click:function(e){t.wallet=!t.wallet}}},[r("img",{attrs:{src:n("98c7")}}),r("span",[t._v("TRX")]),r("img",{attrs:{src:n("c5d4")}}),r("ul",{directives:[{name:"show",rawName:"v-show",value:t.wallet,expression:"wallet"}],on:{click:function(t){t.stopPropagation()}}},[r("li",[r("img",{attrs:{src:n("98c7")}}),r("span",{on:{click:function(e){t.wallet=!1}}},[t._v("TRX")])]),r("li",[r("img",{attrs:{src:n("685c")}}),r("span",{on:{click:t.stop}},[t._v("ETH")])]),r("li",[r("img",{attrs:{src:n("5bb7")}}),r("span",{on:{click:t.goBNB}},[t._v("BNB")])]),r("li",[r("img",{attrs:{src:n("ea1c")}}),r("span",{on:{click:t.stop}},[t._v("HT")])])])]),r("img",{attrs:{src:n("cf05")}}),r("div",{staticClass:"menu-container"},[r("div",{staticClass:"language"},[r("img",{attrs:{src:n("0fe2")},on:{click:function(e){t.showLang=!0}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showLang,expression:"showLang"}],staticClass:"overlay",on:{click:function(e){t.showLang=!1}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showLang,expression:"showLang"}],staticClass:"language-options"},[r("div",{class:"en"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("en")}}},[r("img",{attrs:{src:n("bc04")}}),r("span",[t._v("English")])]),r("div",{class:"zh"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("zh")}}},[r("img",{attrs:{src:n("be30")}}),r("span",[t._v("中文")])]),r("div",{class:"ko"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("ko")}}},[r("img",{attrs:{src:n("ed4a")}}),r("span",[t._v("한국어")])]),r("div",{class:"ja"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("ja")}}},[r("img",{attrs:{src:n("19ca")}}),r("span",[t._v("日本語")])]),r("div",{class:"hk"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("hk")}}},[r("img",{attrs:{src:n("5c5c")}}),r("span",[t._v("繁体中文")])])])]),r("img",{attrs:{src:n("bef3")},on:{click:function(e){t.menus=!t.menus}}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.menus||t.wallet,expression:"menus || wallet"}],staticClass:"overlay",on:{click:function(e){t.wallet=t.menus=!1}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.menus,expression:"menus"}],staticClass:"menus"},[t._m(0),r("div",{on:{click:function(e){return t.$router.push("/announcement")}}},[t._v(t._s(t.$t("mkHeader.text1")))]),r("div",{on:{click:function(e){return t.$router.push("./mining")}}},[t._v("V2.0")]),r("div",{on:{click:t.switchChain}},[t._v("V3.0")]),r("div",{on:{click:function(e){return t.$router.push("/join-fund-pool")}}},[t._v(t._s(t.$t("mkHeader.text3")))]),r("div",{on:{click:function(e){return t.$router.push("/about")}}},[t._v(t._s(t.$t("mkHeader.text4")))]),r("div",{on:{click:function(e){t.$router.push({path:"/detail",query:{token:JSON.stringify(t.toPair)}})}}},[t._v(t._s(t.$t("mkHeader.text6")))])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menusTitle"},[n("i",[t._v("Pin"),n("span",[t._v("Swap")])])])}],o=n("ade3"),i=(n("96cf"),n("1da1")),c=n("aca7"),u=(r={data:function(){return{wallet:!1,menus:!1,isRead:!1,showLang:!1,sendPair:c["b"],toPair:c["c"],toToken:{logo:n("0f62"),symbol:"USDT"}}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$utils&&t.init();case 1:case"end":return e.stop()}}),e)})))()}},Object(o["a"])(r,"created",(function(){this.isRead=!!localStorage.getItem("isRead05")})),Object(o["a"])(r,"methods",{stop:function(){vant.Toast.fail(this.$t("mkHeader.text5"))},changeLanguage:function(t){this.$i18n.locale=t,localStorage.setItem("language",t),this.showLang=!1},switchChain:function(){return vant.Toast.fail("V3.0系统已迁移至币安智能链，请切换到币安智能链访问！")},goBNB:function(){return vant.Toast.fail("请切换到币安智能链！")}}),r),l=u,d=l,p=(n("068a"),n("2877")),m=Object(p["a"])(d,a,s,!1,null,"a938b56c",null);e["default"]=m.exports},"6baf":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{attrs:{show:t.cardShow},on:{click:function(e){t.cardShow=!1}}},[r("div",{staticClass:"card",on:{click:function(t){t.stopPropagation()}}},[r("div",[r("div",{staticClass:"cardTitle"},[r("span",[t._v(t._s(t.$t("invitationCard.text1")))]),r("div",[t._v("PinSwap")])]),r("div",{staticClass:"cardTextInfo"},[r("img",{attrs:{src:n("42d3")}}),r("i",[t._v("Pin"),r("span",[t._v("Swap")])]),r("span",[t._v(t._s(t.$t("invitationCard.text2")))]),r("div",[r("div",[t._v(t._s(t.address))]),r("span",[t._v(t._s(t.$t("invitationCard.text3")))])])]),r("div",{staticClass:"line"}),r("div",{staticClass:"qcodeBox"},[r("div",{staticClass:"qrcode"},[r("div")]),r("span",[t._v(t._s(t.$t("invitationCard.text4")))])])])])])},a=[],s=(n("99af"),n("4160"),n("9911"),n("159b"),{data:function(){return{cardShow:!1,address:"******"}},methods:{init:function(t){this.address=t,this.link="".concat(location.origin,"?address=").concat(t),this.qrcodeBox=document.querySelector(".qrcode>div"),new QRCode(this.qrcodeBox,this.link),this.qrcodeBox.children.forEach((function(t){t.style.width="100%",t.style.height="100%"}))}}}),o=s,i=o,c=(n("4bfd"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"3b75fef1",null);e["default"]=u.exports},"742c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[r("div",{on:{click:function(t){t.stopPropagation()}}},[r("img",{attrs:{src:n("8cec")("./v"+t.lv+".png")}}),r("div",{staticClass:"title"},[r("span",[t._v(t._s(t.$t("upgrade.text1")))]),r("div",[t._v("V"+t._s(t.lv))])]),r("van-button",{on:{click:t.upgradeLevel}},[t._v(t._s(t.$t("upgrade.text2")))])],1)])},a=[],s={data:function(){return{show:!1,lv:0}},methods:{init:function(){},upgradeLevel:function(){var t=this;this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Relation.address,method:"upgradeLevel",options:{feeLimit:this.$store.state.generalFeeLimit.toSun()}}).then((function(e){e&&t.$pingSwapContracts.Relation.upgradeLevel().send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.show=!1,t.$getBalance(),vant.Toast.success(t.$t("upgrade.text3")))}))}))}))}},mounted:function(){}},o=s,i=o,c=(n("3cab"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"f2f1a294",null);e["default"]=u.exports},"807c":function(t,e,n){},"857a":function(t,e,n){var r=n("1d80"),a=/"/g;t.exports=function(t,e,n,s){var o=String(r(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(s).replace(a,"&quot;")+'"'),i+">"+o+"</"+e+">"}},"883a":function(t,e,n){},"88a3":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"transaction tabbar-page"},[r("mk-header"),r("router-link",{attrs:{to:"/bridge"}},[r("img",{attrs:{src:n("e7c0")("./transaction-banner-"+t.$i18n.locale+".png")}})]),r("div",{staticClass:"exchange-container"},[r("div",{staticClass:"exchange-box"},[r("div",{staticClass:"exchange"},[r("div",{staticClass:"input"},[r("van-field",{attrs:{type:"number",placeholder:t.$t("transaction.text1")},on:{input:t.input},model:{value:t.sendAmount,callback:function(e){t.sendAmount=e},expression:"sendAmount"}}),r("i"),r("div",{staticClass:"select",on:{click:function(e){return t.openSearch("send")}}},[r("img",{attrs:{src:t.sendToken.logo}}),r("div",[r("span",{domProps:{textContent:t._s(t.sendToken.symbol)}}),r("img",{attrs:{src:n("8d5b")}})])])],1),r("div",{staticClass:"balance"},[r("span",[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance))]),r("img",{attrs:{src:n("1b07")},on:{click:t.switchToken}})]),r("div",{staticClass:"input"},[r("van-field",{attrs:{type:"number",readonly:"",placeholder:t.$t("transaction.text3")},model:{value:t.toAmount,callback:function(e){t.toAmount=e},expression:"toAmount"}}),r("i"),r("div",{staticClass:"select",on:{click:function(e){return t.openSearch("to")}}},[r("img",{attrs:{src:t.toToken.logo}}),r("div",[r("span",{domProps:{textContent:t._s(t.toToken.symbol)}}),r("img",{attrs:{src:n("8d5b")}})])])],1),r("div",{staticClass:"setting-info"},[r("div",{staticClass:"assetspool"},[r("span",[t._v(t._s(t.$t("mkHeader.text3"))+" $ "+t._s(t.totalLiquidity))]),r("img",{attrs:{src:n("3c96")},on:{click:function(e){t.$router.push({path:"/detail",query:{token:JSON.stringify(t.toPair)}})}}})]),r("div",{staticClass:"rate"},[r("div",[t.rateChange?r("span",[t._v(t._s(t.$t("transaction.text4"))+" 1 "+t._s(t.toToken.symbol)+" ≈ "+t._s(t.fromPrice)+" "+t._s(t.sendToken.symbol))]):r("span",[t._v(t._s(t.$t("transaction.text4"))+" 1 "+t._s(t.sendToken.symbol)+" ≈ "+t._s(t.price)+" "+t._s(t.toToken.symbol))]),r("span",[t._v(t._s(t.$t("transationState.text10"))+" "+t._s(t.gasPrice))])]),r("img",{attrs:{src:n("1b07")},on:{click:function(e){t.rateChange=!t.rateChange}}})])]),r("div",{staticClass:"button"},[r("img",{attrs:{src:n("b012")},on:{click:t.openSetting}}),r("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction&&!t.inApprove,expression:"!inTransaction && !inApprove"}],attrs:{type:"info",disabled:t.disabled},on:{click:t.exchange}},[t._v(t._s(t.$t("transaction.text5")))]),r("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inApprove&&!t.inTransaction,expression:"inApprove && !inTransaction"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text6")}}),r("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction&&!t.inApprove,expression:"inTransaction && !inApprove"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text7")}})],1),r("div",{staticClass:"show-assets-pool",on:{click:function(e){t.poolToggle=!t.poolToggle}}},[r("span",[t._v(t._s(t.$t("transaction.text8")))]),r("img",{class:t.poolToggle?"active":"",attrs:{src:n("a284")}})])]),r("div",{staticClass:"assets-pool-container",class:t.poolToggle?"enter":""},[r("div",{staticClass:"assets-pool"},[r("span",[t._v(t._s(t.$t("transaction.text9")))]),t._l(t.assetsPoolList,(function(e){return r("van-row",{key:e,attrs:{type:"flex",justify:"space-between"}},t._l(e,(function(e){return r("van-col",{key:e.name,attrs:{span:"11"}},[r("img",{attrs:{src:e.icon}}),r("span",{domProps:{textContent:t._s(e.name)}})])})),1)})),r("div",{staticClass:"back",on:{click:function(e){t.poolToggle=!1}}},[r("img",{attrs:{src:n("a284")}}),r("span",[t._v(t._s(t.$t("transaction.text10")))])])],2)])]),t.record?t._e():r("div",{staticClass:"empty"},[r("img",{attrs:{src:n("1427")}}),r("span",[t._v(t._s(t.$t("record.text15")))])]),t.record?r("div",{staticClass:"record"},[r("div",[r("div",{staticClass:"title"},[r("span",[t._v(t._s(t.$t("transaction.text11")))]),r("span",{domProps:{textContent:t._s(t.record.date)}})]),r("div",{staticClass:"pair"},[r("div",[r("span",{domProps:{textContent:t._s(t.record.from.symbol)}}),r("span",{domProps:{textContent:t._s(t.record.from.amount)}})]),r("img",{attrs:{src:n("004e")}}),r("div",[r("span",{domProps:{textContent:t._s(t.record.to.symbol)}}),r("span",{domProps:{textContent:t._s(t.record.to.amount)}})])])])]):t._e()]),r("transation-state",{attrs:{transaction:t.inTransaction,from:{amount:t.sendAmount,symbol:t.sendToken.symbol},to:{amount:t.toAmount,symbol:t.toToken.symbol},"slip-point":t.slipPoint+"%",min:t.min,"to-price":t.price,"from-price":t.fromPrice}}),r("search-tokens",{ref:"searchTokens",on:{select:t.select}}),r("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},a=[],s=(n("99af"),n("caad"),n("c975"),n("fb6a"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),o=n("aca7"),i=n("a981"),c=n("3952"),u={data:function(){return{sendAmount:"",toAmount:"",poolToggle:!1,setupToggle:!1,assetsPool:[],sendPair:o["c"],toPair:o["a"],changed:!0,balance:0,sendToken:{logo:n("0f62"),symbol:"USDT"},toToken:{logo:"https://coin.top/production/upload/logo/TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU.png",symbol:"PIN"},price:0,slipPoint:2,deadline:600,inApprove:!1,inTransaction:!1,allowance:0,min:0,fromPrice:0,record:null,assetsPoolList:[[{icon:n("8e01"),name:"SunSwap"},{icon:n("41a2"),name:"PinSwap"}],[{icon:n("bc62"),name:"tron2get VIP"},{icon:n("80d6"),name:"Newdex"}],[{icon:n("a433"),name:"SalmonSwap"},{icon:n("c45a"),name:"Swap USDT"}],[{icon:n("988c"),name:"TronTrade"},{icon:n("1697"),name:"Zethyr Exchange"}],[{icon:n("ae69"),name:"USwap"},{icon:n("bda0"),name:"Poloni DEX"}]],disabled:!0,gasPrice:"0.3%",totalLiquidity:0,rateChange:!1}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$utils&&t.init();case 1:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=localStorage.getItem("record"),n&&(t.record=JSON.parse(n)),r=t.$route.query,r.token?t.select({token:JSON.parse(r.token),who:"to"}):t.select({token:t.toPair,who:"to"});case 4:case"end":return e.stop()}}),e)})))()},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},select:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.token,a=t.who,n.t0=a,n.next="send"===n.t0?4:"to"===n.t0?13:23;break;case 4:if(![e.toToken.symbol,e.toToken.tokenSymbol].includes(r.tokenSymbol)){n.next=8;break}return n.abrupt("return",e.switchToken());case 8:if("TRX"!==r.tokenSymbol){n.next=11;break}return e.sendPair=null,n.abrupt("break",23);case 11:return e["TRX"===e.toToken.symbol?"toPair":"sendPair"]=r,n.abrupt("break",23);case 13:if(![e.sendToken.symbol,e.sendToken.tokenSymbol].includes(r.tokenSymbol)){n.next=17;break}return n.abrupt("return",e.switchToken());case 17:if("TRX"!==r.tokenSymbol){n.next=21;break}return e.toPair=e.sendPair,e.sendPair=null,n.abrupt("break",23);case 21:return e.toPair=r,n.abrupt("break",23);case 23:if(e["send"===a?"sendToken":"toToken"]={logo:r.tokenLogoUrl,symbol:r.tokenSymbol},e.input(),![e.sendToken.symbol,e.toToken.symbol].includes("TRX")){n.next=38;break}if("TRX"!==e.sendToken.symbol){n.next=32;break}return n.next=29,e.getTrxToToken(1);case 29:n.t2=n.sent,n.next=35;break;case 32:return n.next=34,e.getTokenToTrx(1);case 34:n.t2=n.sent;case 35:n.t1=n.t2,n.next=41;break;case 38:return n.next=40,e.getTokenToToken(1);case 40:n.t1=n.sent;case 41:if(e.price=n.t1,![e.sendToken.symbol,e.toToken.symbol].includes("TRX")){n.next=55;break}if("TRX"!==e.sendToken.symbol){n.next=49;break}return n.next=46,e.getTokenToTrx(1);case 46:n.t4=n.sent,n.next=52;break;case 49:return n.next=51,e.getTrxToToken(1);case 51:n.t4=n.sent;case 52:n.t3=n.t4,n.next=58;break;case 55:return n.next=57,e.getTokenToToken(1,"to");case 57:n.t3=n.sent;case 58:if(e.fromPrice=n.t3,"TRX"===e.toPair.tokenSymbol){n.next=67;break}return n.next=62,Object(o["g"])(e.toPair.address);case 62:s=n.sent,i=s.data,e.totalLiquidity=Math.floor(i.totalLiquidity),n.next=72;break;case 67:return n.next=69,Object(o["g"])(e.sendPair.address);case 69:c=n.sent,u=c.data,e.totalLiquidity=Math.floor(u.totalLiquidity);case 72:if("TRX"===e.sendToken.symbol){n.next=80;break}return l="TRX"===e.toToken.symbol?"toPair":"sendPair",n.next=76,e.$utils.call({contractAddress:e[l].tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 76:return e.balance=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e[l].tokenDecimal),n.next=79,e.getAllowance();case 79:e.allowance=n.sent;case 80:case"end":return n.stop()}}),n)})))()},exchange:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.sendAmount>t.balance)){e.next=2;break}return e.abrupt("return",vant.Toast.fail(t.$t("transaction.text12")));case 2:if("TRX"!==t.sendToken.symbol){e.next=6;break}t.sendTrxToToken(),e.next=11;break;case 6:if(n="TRX"===t.toToken.symbol?t.toPair.tokenDecimal:t.sendPair.tokenDecimal,!t.sendAmount.toSun(n).toBN().isGreaterThan(t.allowance)){e.next=10;break}return e.next=10,t.approve();case 10:"TRX"===t.toToken.symbol?t.sendTokenToTrx():t.sendTokenToToken();case 11:case"end":return e.stop()}}),e)})))()},switchToken:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if([t.sendToken.symbol,t.toToken.symbol].includes("TRX")||(n=[t.toPair,t.sendPair],t.sendPair=n[0],t.toPair=n[1]),r=[t.toToken,t.sendToken],t.sendToken=r[0],t.toToken=r[1],t.input(),![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){e.next=18;break}if("TRX"!==t.sendToken.symbol){e.next=12;break}return e.next=9,t.getTrxToToken(1);case 9:e.t1=e.sent,e.next=15;break;case 12:return e.next=14,t.getTokenToTrx(1);case 14:e.t1=e.sent;case 15:e.t0=e.t1,e.next=21;break;case 18:return e.next=20,t.getTokenToToken(1);case 20:e.t0=e.sent;case 21:if(t.price=e.t0,![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){e.next=35;break}if("TRX"!==t.sendToken.symbol){e.next=29;break}return e.next=26,t.getTokenToTrx(1);case 26:e.t3=e.sent,e.next=32;break;case 29:return e.next=31,t.getTrxToToken(1);case 31:e.t3=e.sent;case 32:e.t2=e.t3,e.next=38;break;case 35:return e.next=37,t.getTokenToToken(1,"to");case 37:e.t2=e.sent;case 38:if(t.fromPrice=e.t2,"TRX"===t.sendToken.symbol||"TRX"===t.toToken.symbol){e.next=48;break}return e.next=42,t.$utils.call({contractAddress:t.sendPair.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 42:return t.balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun((t.sendPair||t.toPair).tokenDecimal),e.next=45,t.getAllowance();case 45:t.allowance=e.sent,e.next=60;break;case 48:if("TRX"===t.sendToken.symbol){e.next=57;break}return e.next=51,t.$utils.call({contractAddress:t.toPair.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 51:return t.balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun((t.sendPair||t.toPair).tokenDecimal),e.next=54,t.getAllowance();case 54:t.allowance=e.sent,e.next=60;break;case 57:return e.next=59,tronWeb.trx.getBalance(t.$address);case 59:t.balance=e.sent.fromSun();case 60:case"end":return e.stop()}}),e)})))()},input:function(){var t=this;if(""===this.sendAmount)return this.toAmount="",this.disabled=!0,!1;if(!this.changed)return!1;this.changed=!1,this.disabled=!1,this.gasPrice="".concat(this.sendAmount/1e3*3," ").concat(this.sendToken.symbol);var e=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.sendAmount.length>0)){n.next=18;break}if(![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){n.next=14;break}if("TRX"!==t.sendToken.symbol){n.next=8;break}return n.next=5,t.getTrxToToken(t.sendAmount);case 5:n.t1=n.sent,n.next=11;break;case 8:return n.next=10,t.getTokenToTrx(t.sendAmount);case 10:n.t1=n.sent;case 11:n.t0=n.t1,n.next=17;break;case 14:return n.next=16,t.getTokenToToken(t.sendAmount);case 16:n.t0=n.sent;case 17:t.toAmount=n.t0;case 18:t.changed=!0,clearTimeout(e);case 20:case"end":return n.stop()}}),n)}))),1e3)},getAllowance:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="TRX"===t.toToken.symbol?t.toPair.tokenAddress:t.sendPair.tokenAddress,r="TRX"===t.toToken.symbol?t.toPair.address:t.sendPair.address,e.next=4,t.$utils.call({contractAddress:n,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:r}]});case 4:return e.abrupt("return",e.sent.constant_result[0].decode(["uint256"]).toString());case 5:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t.sendToken.symbol,t.toToken.symbol].includes("TRX")?"toPair":"sendPair",r=tronWeb.contract(c,t[n].tokenAddress),e.abrupt("return",new Promise((function(e){r.approve(t[n].address,t.sendAmount.toSun(t[n].tokenDecimal)).send().then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,t.listeningTransaction(r,"inApprove");case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())})));case 3:case"end":return e.stop()}}),e)})))()},getTrxToToken:function(t,e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.$utils.call({contractAddress:n["send"===e?"sendPair":"toPair"].address,method:"getTrxToTokenInputPrice(uint256)",parameter:[{type:"uint256",value:t.toSun()}]});case 2:return r.abrupt("return",r.sent.constant_result[0].decode(["uint256"]).toString().fromSun(n["send"===e?"sendPair":"toPair"].tokenDecimal));case 3:case"end":return r.stop()}}),r)})))()},getTokenToTrx:function(t,e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.$utils.call({contractAddress:n["send"===e?"sendPair":"toPair"].address,method:"getTokenToTrxInputPrice(uint256)",parameter:[{type:"uint256",value:t.toSun(n["send"===e?"sendPair":"toPair"].tokenDecimal)}]});case 2:return r.abrupt("return",r.sent.constant_result[0].decode(["uint256"]).toString().fromSun());case 3:case"end":return r.stop()}}),r)})))()},getTokenToToken:function(t){var e=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.length>1&&void 0!==e[1]?e[1]:"send",r.next=3,n.getTokenToTrx(t,a);case 3:return s=r.sent,r.next=6,n.getTrxToToken(s,"send"===a?"to":"send");case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()},sendTrxToToken:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(i,t.toPair.address),r=t.toAmount.toSun(t.toPair.tokenDecimal).toBN(),a=r.minus(r.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),o=a.indexOf("."),c=o>0?a.slice(0,o):a,u=Math.floor((new Date).getTime()/1e3)+t.deadline,t.min=c.fromSun(t.toPair.tokenDecimal),n.trxToTokenSwapInput(c,u).send({callValue:t.sendAmount.toSun(),feeLimit:"100".toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}a=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},a[t.$address]&&Number(a[t.$address].time)===r?a[t.$address]={time:r,amount:Number(a[t.$address].amount)+Number(t.toAmount)}:a[t.$address]={time:r,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))()},sendTokenToTrx:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(i,t.toPair.address),r=t.sendAmount.toSun(t.toPair.tokenDecimal),a=t.toAmount.toSun().toBN(),o=a.minus(a.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),c=o.indexOf("."),u=c>0?o.slice(0,c):o,l=Math.floor((new Date).getTime()/1e3)+t.deadline,t.min=u.fromSun(),n.tokenToTrxSwapInput(r,u,l).send({feeLimit:"100".toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}a=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},a[t.$address]&&Number(a[t.$address].time)===r?a[t.$address]={time:r,amount:Number(a[t.$address].amount)+Number(t.toAmount)}:a[t.$address]={time:r,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))()},sendTokenToToken:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(i,t.sendPair.address),r=t.sendAmount.toSun(t.sendPair.tokenDecimal),a=t.toAmount.toSun(t.toPair.tokenDecimal).toBN(),o=a.minus(a.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),c=o.indexOf("."),u=c>0?o.slice(0,c):o,l="1".toSun(),d=Math.floor((new Date).getTime()/1e3)+t.deadline,p=t.toPair.tokenAddress,t.min=u.fromSun(t.toPair.tokenDecimal),n.tokenToTokenSwapInput(r,u,l,d,p).send({feeLimit:"100".toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}a=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},a[t.$address]&&Number(a[t.$address].time)===r?a[t.$address]={time:r,amount:Number(a[t.$address].amount)+Number(t.toAmount)}:a[t.$address]={time:r,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})))()},listeningTransaction:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inTransaction";return this[n]=!0,new Promise(function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=setInterval(Object(s["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,tronWeb.trx.getTransaction(t);case 2:s=r.sent,s.ret&&("SUCCESS"===s.ret[0].contractRet?(e[n]=!1,"inTransaction"===n&&(i={date:e.formatDate(s.raw_data.timestamp),from:{symbol:e.sendToken.symbol,amount:e.sendAmount},to:{symbol:e.toToken.symbol,amount:e.toAmount}},localStorage.setItem("record",JSON.stringify(i)),e.record=i),a(!0)):a(!1),clearInterval(o));case 4:case"end":return r.stop()}}),r)}))),2e3);case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())},formatDate:function(t){function e(t){return t<10?"0".concat(t):t}var n=new Date(t),r=n.getFullYear(),a=e(n.getMonth()+1),s=e(n.getDate()),o=e(n.getHours()),i=e(n.getMinutes());return"".concat(r,"/").concat(a,"/").concat(s," ").concat(o,":").concat(i)}},components:{"mk-header":function(){return Promise.resolve().then(n.bind(null,"68d4"))},"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))},"transation-state":function(){return Promise.resolve().then(n.bind(null,"5942"))}}},l=u,d=l,p=(n("969f"),n("3949"),n("2877")),m=Object(p["a"])(d,r,a,!1,null,"4086780e",null);e["default"]=m.exports},"8cec":function(t,e,n){var r={"./v0.png":"80fc","./v1.png":"37f9","./v1not.png":"627d","./v2.png":"81fb","./v2not.png":"9622","./v3.png":"6905","./v3not.png":"0bd6","./verify_status.png":"aef1","./version.png":"68da"};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="8cec"},"8d5b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAQCAQAAACrMwdZAAAAAXNSR0IArs4c6QAAAU5JREFUGBmVwU9oznEcAODn+9pmm1ptbFajHRQpubhJaQdKzYGSHFZqpDg4KCcuHOTCgVJy4DIXN2nJgQOTXZaWUIvtoDT/2rK332u/9/ehKP/2bu+eh9umHNOqfitsMuytvWTCnFPa1KfBViPCvHuMyIU5p7VbWoNtngph1iC9npgXys7qtLhG240Khc9OKvlhvYcqQtk53Wpr0mdMKEw7oeSXde7LhLILeixspd2eC4V3jir5Q4+7ykLmkl7/a9ZvXChMOiz5R7c7vgqZKzb4W7P9XgiFCQOSBaw1ZFbIXLPRby0OeilUvXJIUkOXm2aEihs2+6nVgNdC1bgDkkV0ue6LUHHLFqxyxIRQNWafZAmdrvokVAzZ4bg3Qu6Zfkkd1rjso/DNBzNC7rE9kjqtdtG0EELukV2SZehw3nsh90CfZJnanTFl2E5JDd8B8dZ4l22NkFAAAAAASUVORK5CYII="},"8e1a":function(t,e,n){"use strict";n("5d47")},"969f":function(t,e,n){"use strict";n("ddc5")},9911:function(t,e,n){"use strict";var r=n("23e7"),a=n("857a"),s=n("af03");r({target:"String",proto:!0,forced:s("link")},{link:function(t){return a(this,"a","href",t)}})},"9f4a":function(t,e,n){"use strict";n("63ee")},a454:function(t,e,n){"use strict";n("6271")},aca7:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return f})),n.d(e,"j",(function(){return v}));n("d3b7"),n("96cf");var r=n("1da1");function a(t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{cache:"reload"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}var o=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/liquidityuser?userAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/scan/statusinfo?exchangeAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/scan/transactions?exchangeAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://apilist.tronscan.org/api/token_trc20?contract=".concat(e,"&showAll=1"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://apilist.tronscan.org/api/contract?contract=".concat(e,"&type=contract"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/v2/tokenBrief?addr=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p={tokenAddress:"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/logo/trx.png",tokenSymbol:"TRX"},m={address:"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE",tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/logo/usdtlogo.png",tokenName:"Tether USD",tokenSymbol:"USDT"},f={address:"TUAtSJk6bePZ2uxzi7kF2hjeWqmoNAVbRe",tokenAddress:"TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/upload/logo/TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU.png",tokenName:"PinSwap",tokenSymbol:"PIN"},v="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},aef1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAACuklEQVRIS52WT4hOYRTGf09ZzMLCgrJQZsoUUSgLxaSpUaOoUSMUO2JKoSwopVlREjIysqBMUaYkyizIFJIsbAgh1IiFYmExC3X0fL3368439/vud+dd3j/v7z3POec5ryhZEbEBGAQ2AsuABemXr8Ab4BEwLul7q63U7GVE7AROAsuBZ8Ak8Bb4BcxL0NVAP7AEuO3vJX0r2nMWKCIWAtfTBiPAOUlTrU4bEX3AKWAdcETS1cbvZ4AiYjHwBJgG9kqyNG2viDgAXABGJR3N/1gHpUieJmm2SPrbNiH3YUQ4lw+BEUknsld50P2kdc9cIdmmSUrDBiXd8/MaKCV+DFhbVa4WxXQW2AV0S5rOQO+AiUZdq0oXEa7GSy534CXwETgj6aKSpi6ArrLqKqk8Q26lfrP8nyLClbhHUrdB54E1knqrRpDLSR7SK+l9Sokb3FGtMOgV8EDS8FxASa4skjokd4gfwHGDfgP7JVnXSqsMkqJyWiYNCsAnscW4Aq/Zw5zACjmZFUkuopvAvwy0WZLN0aAB4A5wrBmsnUhyoLvAlEFfUgnW/Ski7NbWfRasCiQd3DUwbpAdYUrSUF6qItgcIB2Aa2C3QYeT43Y15iQPAy7n+qRpThoOa1e3FS0yyLPE8vVLetwCZie3u7cFSbI51x2StmUW5MrolNRTVGkpMnf5jqwZy/ogIlYBrwEX2mQG6gTsd4VDq2zTAhXsFC9S7rfX3TuFmQ2tPknPq27ekBv34tY0DX7OACWYfW8fMFCUrzJ4qsoraTx4ePquUVtFd4bT7p80kofbHYIRsRK4kYanc1mHFIJy7uC5Yq1HgTFJn5vkYhNw0CrYnIEhSTW58qvVdcvN5rwdSlcr/2z7941ofjq5K8uHmUi3pZpfFq2moIbk+m63HljqNgB8cTHwQ82ZpT9l+fsPdNtLIY8CpwIAAAAASUVORK5CYII="},af03:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b38d:function(t,e,n){},cbc1:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[r("div",{staticClass:"winning",on:{click:function(t){t.stopPropagation()}}},[r("img",{attrs:{src:n("992d")}}),r("div",[r("div",{staticClass:"winningTitle"},[r("span",[t._v(t._s(t.luckyNumber))]),r("div",[t._v(t._s(t.$t("winning.text1")))])]),r("div",{staticClass:"winningInfo"},[r("div",[r("span",[t._v(t._s(t.$t("winning.text2")))]),r("span",[t._v(t._s(t.luckyBlock))])]),r("div",[r("span",[t._v(t._s(t.$t("winning.text3")))]),r("span",{domProps:{innerHTML:t._s(t.hash)}})])]),r("div",{staticClass:"winningList"},[r("div",[r("span",[t._v(t._s(t.$t("winning.text4")))]),r("span",[t._v(t._s(t.$t("winning.text5")))]),r("span",[t._v("USDT")]),r("span",[t._v(t._s(t.$t("winning.text6")))])]),t._l(t.list,(function(e,n){return r("div",{key:n},[r("span",[t._v(t._s(e.address))]),r("span",[t._v(t._s(e.index))]),r("span",[t._v(t._s(e.USDT))]),r("span",[t._v(t._s(e.amount))])])}))],2),r("van-button",{on:{click:t.doSettlement}},[t._v(t._s(t.$t("winning.text7")))])],1)])])},a=[],s=(n("96cf"),n("1da1")),o={data:function(){return{show:!1,list:[],luckyNumber:"",luckyBlock:"",hash:""}},methods:{init:function(){},doSettlement:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("cancelGetData"),e.t0=parseInt,e.next=4,t.$tronWeb.getBlockTime();case 4:e.t1=e.sent,e.t2=(0,e.t0)(e.t1),n=e.t2+600,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"doSettlement",parameter:[t.$route.query.id,n],option:{feeLimit:t.$store.state.generalFeeLimit.toSun()}}).then((function(e){e&&t.$pingSwapContracts.Pin.doSettlement(t.$route.query.id,n).send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.show=!1,t.$getBalance(),t.$emit("refreshData"),vant.Toast.success(t.$t("winning.text8")))}))}))}));case 8:case"end":return e.stop()}}),e)})))()},display:function(t,e,n,r){console.log("object"),this.luckyNumber=t,this.luckyBlock=e,this.hash=n,this.list=r,this.show=!0}},mounted:function(){this.$pingSwapContracts&&this.init()}},i=o,c=i,u=(n("d1d1"),n("2877")),l=Object(u["a"])(c,r,a,!1,null,"ad1f27ae",null);e["default"]=l.exports},d1d1:function(t,e,n){"use strict";n("e626")},d701:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start"},[n("img",{attrs:{src:t.url}})])},a=[],s=(n("ac1f"),n("5319"),{data:function(){return{url:n("d290")}},created:function(){var t=this,e=n("d290"),r=setInterval((function(){t.$utils&&(clearInterval(r),t.$router.replace("/transaction")),t.url="",t.$nextTick((function(){t.url=e}))}),2e3)}}),o=s,i=(n("9f4a"),n("2877")),c=Object(i["a"])(o,r,a,!1,null,"15cc4061",null);e["default"]=c.exports},dbb4:function(t,e,n){var r=n("23e7"),a=n("83ab"),s=n("56ef"),o=n("fc6a"),i=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),a=i.f,u=s(r),l={},d=0;while(u.length>d)n=a(r,e=u[d++]),void 0!==n&&c(l,e,n);return l}})},ddc5:function(t,e,n){},e439:function(t,e,n){var r=n("23e7"),a=n("d039"),s=n("fc6a"),o=n("06cf").f,i=n("83ab"),c=a((function(){o(1)})),u=!i||c;r({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},e531:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{attrs:{show:t.show},on:{click:t.swithShow}},[r("div",{staticClass:"fastJoin",on:{click:function(t){t.stopPropagation()}}},[r("div",[r("div",{staticClass:"fastJoinTitle"},[r("span",[t._v(t._s(t.$t("fastJoin.text1")))]),r("div",[t._v(t._s(t.$t("fastJoin.text2")))])]),r("div",{staticClass:"fastJoinStep"},[r("div",[r("div",[r("span",[t._v(t._s(t.$t("fastJoin.text3")))]),r("div"),r("span",[t._v(t._s(t.$t("fastJoin.text4")))])]),r("div",[r("span",[t._v(t._s(t.$t("fastJoin.text5")))]),r("div"),r("span",[t._v(t._s(t.$t("fastJoin.text6")))])]),r("div",[r("span",[t._v(t._s(t.$t("fastJoin.text7")))]),r("div"),r("span",[t._v(t._s(t.$t("fastJoin.text8")))])])])]),r("div",{staticClass:"fastJoinInput"},[r("span",[t._v(t._s(t.$t("fastJoin.text9")))]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.earnestAmount,expression:"earnestAmount"}],attrs:{type:"number",disabled:"disabled"},domProps:{value:t.earnestAmount},on:{input:function(e){e.target.composing||(t.earnestAmount=e.target.value)}}}),r("div",{staticClass:"bule",on:{click:function(e){return t.$router.push("/margin")}}},[r("span",[t._v(t._s(t.$t("record.text12")))]),r("img",{attrs:{src:n("93cf")}})])])]),r("div",{staticClass:"fastJoinInput"},[r("span",[t._v(t._s(t.$t("fastJoin.text11")))]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"number",placeholder:"0",disabled:"disabled"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),r("div",[r("span",[t._v("USDT")])])])]),r("van-button",{directives:[{name:"ButClickLimit",rawName:"v-ButClickLimit"}],attrs:{disabled:Boolean(t.time)},on:{click:t.match}},[t.time?t._e():r("span",[t._v(t._s(t.$t("fastJoin.text13")))]),t.time?r("span",[t._v(t._s(t.$t("fastJoin.text21")))]):t._e(),t.time?r("van-count-down",{attrs:{time:t.time}}):t._e()],1)],1)]),r("self-authorize",{ref:"authorize",on:{send:t.match}})],1)},a=[],s=(n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("5530"),i={components:{"self-authorize":function(){return Promise.resolve().then(n.bind(null,"38fc"))}},data:function(){return{show:!1,active:"",earnestAmount:"",value:500,time:0,isJoin:!1}},computed:Object(o["a"])(Object(o["a"])({},Vuex.mapState(["isMiner"])),Vuex.mapState(["orderResult"])),methods:{swithShow:function(){this.show=!this.show},init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"players",parameter:[t.$address]});case 2:n=e.sent,r=n.earnestAmount,t.earnestAmount=r.toString().fromSun().toFixed(4);case 5:case"end":return e.stop()}}),e)})))()},match:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Number(t.value),r=Number(t.earnestAmount),e.next=4,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.UsdtToken.address,method:"allowance",parameter:[t.$address,t.$pingSwapContracts.Pin.address]}).then();case 4:if(a=e.sent.toString().fromSun(),""!=n){e.next=9;break}return e.abrupt("return",vant.Toast.fail(t.$t("fastJoin.text14")));case 9:if(r&&!(n>r)){e.next=13;break}return e.abrupt("return",vant.Toast.fail(t.$t("fastJoin.text16")));case 13:if(t.isMiner){e.next=18;break}return t.show=!1,e.abrupt("return",t.$store.commit("registerShow",!0));case 18:if(!(n>a)){e.next=23;break}return t.$refs.authorize.amount=n,t.$refs.authorize.contractName="UsdtToken",t.$refs.authorize.contractAddress=t.$pingSwapContracts.Pin.address,e.abrupt("return",t.$refs.authorize.toggle());case 23:t.doPin(0);case 24:case"end":return e.stop()}}),e)})))()},doPin:function(t){var e=this;if(this.orderResult)return vant.Toast.fail(this.$t("fastJoin.text18"));this.$pingSwapContracts.Pin.doPin(t).send({feeLimit:this.$store.state.generalFeeLimit.toSun()}).then((function(t){e.$loading(t).then((function(t){t&&(e.swithShow(),e.$store.commit("orderResult",!0),vant.Toast.success(e.$t("fastJoin.text19")),e.$getBalance(),e.$nextTick((function(){e.$emit("refreshList")})))}))})).catch((function(t){console.log(t)}))},getSpecifyTime:function(t,e){var n=new Date(new Date(1e3*t).toLocaleDateString()).getTime()/1e3;return n+60*e*60}},mounted:function(){this.$pingSwapContracts&&this.init()}},c=i,u=c,l=(n("173a"),n("2877")),d=Object(l["a"])(u,r,a,!1,null,"3a6742bc",null);e["default"]=d.exports},e626:function(t,e,n){},e7c0:function(t,e,n){var r={"./transaction-banner-en.png":"5ca4","./transaction-banner-hk.png":"49b4","./transaction-banner-ja.png":"162d","./transaction-banner-ko.png":"e0e0","./transaction-banner-zh.png":"f809"};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="e7c0"},ea78:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{staticClass:"register",attrs:{show:t.registerShow,"lock-scroll":!1},on:{click:t.swithShow}},[r("div",{on:{click:function(t){t.stopPropagation()}}},[r("div",{staticClass:"registerTitle"},[r("img",{attrs:{src:n("42d3")}}),r("div",[r("div",[t._v(t._s(t.$t("register.text1"))),r("span",[t._v("PinSwap")])]),r("p",[t._v(t._s(t.$t("register.text2")))])])]),r("div",{staticClass:"registerInput"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.fromAddress,expression:"fromAddress"}],attrs:{type:"text",placeholder:t.$t("register.text4")},domProps:{value:t.fromAddress},on:{input:function(e){e.target.composing||(t.fromAddress=e.target.value)}}})]),r("div",{staticClass:"balance"},[r("div",[t._v(t._s(t.$t("register.text7"))+" "),r("span",[t._v(t._s(t.fee))]),t._v(" TRX")]),r("div",[r("span",[t._v(t._s(t.$t("register.text8"))+" "+t._s(t.$store.state.balance.trx))])])]),r("div",{staticClass:"registerButton"},[r("van-button",{staticClass:"but",attrs:{disabled:!t.checked},on:{click:t.detect}},[t._v(t._s(t.$t("register.text9")))]),r("van-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(t._s(t.$t("register.text10"))),r("span",{on:{click:function(e){e.stopPropagation(),t.joinRule=!0}}},[t._v(t._s(t.$t("register.text11")))]),t._v(t._s(t.$t("register.text12")))])],1),r("self-authorize",{ref:"authorize",on:{send:t.superNode}}),r("van-overlay",{staticClass:"joinRule",attrs:{show:t.joinRule,"lock-scroll":!1},on:{click:function(e){t.joinRule=!1}}},[r("div",[r("div",{staticClass:"title van-hairline--bottom"},[r("img",{attrs:{src:n("42d3")}}),r("i",[t._v("Pin"),r("span",[t._v("Swap")])])]),r("div",{staticClass:"content"},[r("pre",[t._v(t._s(t.$t("register.text17"))+"\n"),r("span",[t._v(t._s(t.$t("register.text18")))]),t._v("\n"),r("span",[t._v(t._s(t.$t("register.text19")))]),t._v("\n\n"+t._s(t.$t("register.text20"))+"\n"),r("span",[t._v(t._s(t.$t("register.text21")))]),t._v("\n"),r("span",[t._v(t._s(t.$t("register.text22")))]),t._v("\n\n"),r("span",[t._v(t._s(t.$t("register.text23")))]),t._v("\n    "+t._s(t.$t("register.text24")))])]),r("span",[t._v(t._s(t.$t("register.text29")))])])])],1)])},a=[],s=(n("a9e3"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("5530"),i=n("aca7"),c={components:{"self-authorize":function(){return Promise.resolve().then(n.bind(null,"38fc"))}},data:function(){return{checked:!1,fromAddress:"",fee:300,joinRule:!1}},computed:Object(o["a"])(Object(o["a"])({},Vuex.mapState(["registerShow"])),Vuex.mapState(["balance"])),methods:{swithShow:function(){this.$store.commit("registerShow",!this.registerShow)},detect:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.fromAddress.length<=0)){e.next=4;break}return e.abrupt("return",vant.Toast.fail(t.$t("register.text30")));case 4:if(window.tronWeb.isAddress(t.fromAddress)){e.next=8;break}return e.abrupt("return",vant.Toast.fail(t.$t("register.text31")));case 8:if(!(Number(t.balance.trx)<t.fee)){e.next=10;break}return e.abrupt("return",vant.Toast.fail(t.$t("register.text32")));case 10:return e.next=12,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"_recommerMapping",parameter:[t.fromAddress]});case 12:if(n=e.sent,n!==i["j"]){e.next=15;break}return e.abrupt("return",vant.Toast.fail(t.$t("register.text33")));case 15:t.bind(t.fromAddress);case 16:case"end":return e.stop()}}),e)})))()},bind:function(t){var e=this;this.$pingSwapContracts.Relation.addRelationEx(t).send({feeLimit:this.$store.state.generalFeeLimit.toSun(),callValue:this.fee.toString().toSun()}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$loading(n);case 2:r=t.sent,r?(localStorage.setItem("bind","true"),e.swithShow(),e.$getBalance(),vant.Toast.success(e.$t("register.text35")),e.$emit("refreshData")):(vant.Toast.fail(e.$t("register.text36")),console.log(err),console.log(err.output.contractResult[0].hexToString()));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=c,l=u,d=(n("243d"),n("2877")),p=Object(d["a"])(l,r,a,!1,null,"6ac306e2",null);e["default"]=p.exports},fbe3:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[r("div",{staticClass:"redemption-all",on:{click:function(t){t.stopPropagation()}}},[r("div",{staticClass:"note"},[t._v("质押挖矿合约已升级迁移至币安智能链，请赎回你v2质押的TRX-PIN/LP资产；分两步操作，第一步赎回质押，第二步撤回流动池。")]),r("div",{staticClass:"content"},[r("div",{staticClass:"title"},[r("span",[t._v(t._s(t.$t("partakepledge.text7")))]),r("div",[r("span",[t._v(t._s(t.pledgeLp)+" LP")]),r("span",[t._v("≈$"+t._s(t.lpEqUSD.toFixed(4)))])])]),r("div",{staticClass:"amounts"},[r("div",[r("img",{attrs:{src:n("c9f9")}}),r("span",[t._v(t._s(t.lpEqTrx.toFixed(6))+" TRX")])]),r("div",[r("img",{attrs:{src:n("0caa")}}),r("span",[t._v(t._s(t.lpEqPin.toFixed(6))+" PIN")])])])]),r("span",[t._v("扣除算力"),r("span",[t._v(t._s(t.gainPower))])]),r("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction,expression:"!inTransaction"}],on:{click:t.redemption}},[t._v(t._s(t.hasPledge?"赎回质押":"撤回流动池"))]),r("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction,expression:"inTransaction"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.hasPledge?"赎回质押中...":"撤回流动池中..."}}),r("div",{staticClass:"steps"},[r("span",{staticClass:"active"},[t._v("1")]),r("i",{class:t.hasPledge?"":"active"}),r("span",{class:t.hasPledge?"":"active"},[t._v("2")])])],1)])},a=[],s=(n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o={data:function(){return{show:!1,pledgeLp:0,lpEqTrx:0,lpEqPin:0,lpEqUSD:0,gainPower:0,myLP:0,hasPledge:!1,inTransaction:!1}},created:function(){this.$pingSwapContracts&&this.init()},methods:{init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,s,o,i,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pledge.address,method:"getMinerInfo",parameter:[0]});case 2:return n=e.sent,r=n.pledgeLp,a=n.gainPower,t.pledgeLp=r.toString().fromSun(),t.show=t.pledgeLp>0,t.hasPledge=t.pledgeLp>0,t.gainPower=a.toString(),e.next=11,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.pin_trx.address,method:"totalSupply"});case 11:return s=e.sent.toString(),e.next=14,window.tronWeb.trx.getBalance(t.$pingSwapContracts.pin_trx.address);case 14:return o=e.sent,e.next=17,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.PinToken.address,method:"balanceOf",parameter:[t.$pingSwapContracts.pin_trx.address]});case 17:if(i=e.sent.toString(),c=r.toString().toBN().div(s).times(100),u=o.toBN().times(c).div(100).toString().fromSun(),l=i.toBN().times(c).div(100).toString().fromSun(),t.lpEqTrx=u,t.lpEqPin=l,!(u<=0)){e.next=27;break}e.t0=0,e.next=30;break;case 27:return e.next=29,t.$utils.call({contractAddress:t.$pingSwapContracts.usdt_trx.address,method:"getTrxToTokenInputPrice(uint256)",parameter:[{type:"uint256",value:u.toSun().toFixed(0)}]});case 29:e.t0=e.sent.constant_result[0].decode(["uint"]).toString().toBN().times(2).toString().fromSun();case 30:return d=e.t0,t.lpEqUSD=d,e.next=34,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.pin_trx.address,method:"balanceOf",parameter:[t.$address]});case 34:t.myLP=e.sent.toString(),t.show||(t.show=t.myLP>0);case 36:case"end":return e.stop()}}),e)})))()},redemption:function(){this.hasPledge?this.unDoPledge():this.removeLiquidity()},unDoPledge:function(){var t=this;this.$pingSwapContracts.Pledge.unDoPledge(0,this.pledgeLp.toSun()).send({feeLimit:this.$store.state.generalFeeLimit.toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.inTransaction=!0,e.next=3,t.$loading(n,!1);case 3:r=e.sent,t.inTransaction=!1,r&&t.init();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},removeLiquidity:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+600;this.$pingSwapContracts.pin_trx.removeLiquidity(this.myLP,1,1,e).send().then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.inTransaction=!0,e.next=3,t.$loading(n,!1);case 3:r=e.sent,t.inTransaction=!1,r&&t.init();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},i=o,c=i,u=(n("8e1a"),n("2877")),l=Object(u["a"])(c,r,a,!1,null,"7bb11863",null);e["default"]=l.exports},ffd1:function(t,e,n){}}]);