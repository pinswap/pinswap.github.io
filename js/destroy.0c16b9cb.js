(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["destroy"],{7856:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Computingpower"},[n("div",{staticClass:"title"},[n("div",{staticClass:"head"},[n("span",[t._v(t._s(t.$t("destory.text1")))]),n("div",[n("span",[t._v(t._s(t.$t("destory.text2")))]),n("span",[t._v(t._s(t.balance))])])]),n("div",{staticClass:"middle"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{placeholder:t.$t("destory.text3"),type:"number"},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=e.target.value)},t.input]}}),n("van-button",{on:{click:function(e){t.amount=t.balance}}},[t._v(t._s(t.$t("destory.text4")))])],1),n("div",{staticClass:"takeover"},[t._v(t._s(t.$t("destory.text5")))]),n("div",{staticClass:"bottom"},[n("input",{attrs:{type:"text",readonly:""},domProps:{value:t.burnAddress}})]),n("div",{staticClass:"canGetPower"},[n("span",[t._v(t._s(t.$t("destory.text6")))]),n("span",[t._v(t._s(t.power))])]),n("van-button",{on:{click:t.destroy}},[t._v(t._s(t.$t("destory.text7")))])],1),n("div",{staticClass:"Detail"},[t._v(t._s(t.$t("destory.text8")))]),n("div",{staticClass:"record"},[n("div",{staticClass:"content"},[n("div",[n("span",[t._v(t._s(t.$t("destory.text9")))]),n("span",[t._v(t._s(t.$t("destory.text10")))]),n("span",[t._v(t._s(t.$t("destory.text11")))])]),t._l(t.list,(function(e){return n("div",{key:e},[n("span",[t._v(t._s(e.time))]),n("span",[t._v(t._s(e.amount))]),n("span",{staticClass:"blue"},[t._v("+"+t._s(e.power))])])}))],2)])])},a=[],s=(n("a9e3"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("aca7"),i={data:function(){return{burnAddress:o["d"],balance:0,allowance:0,amount:"",power:0,inputing:!1,list:[],isStart:!1}},created:function(){this.$pingSwapContracts&&this.init()},methods:{init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Community.address,method:"isStart"});case 2:return t.isStart=e.sent,e.next=5,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.PinToken.address,method:"balanceOf",parameter:[t.$address]});case 5:return t.balance=e.sent.toString().fromSun(),e.next=8,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.PinToken.address,method:"allowance",parameter:[t.$address,t.$pingSwapContracts.Community.address]});case 8:t.allowance=e.sent.toString().fromSun(),t.$tronWeb.event({contractAddress:t.$pingSwapContracts.Community.address,method:"Destory"}).then((function(e){for(var n=[],r=0;r<e.length;r++)window.tronWeb.address.fromHex(e[r].result.owner)==t.$address&&n.push({time:t.$toTime(Number(e[r].result.time),"Y/M/D H:i"),amount:e[r].result.amount.toString().fromSun(),power:e[r].result.power.toString()});t.list=n}));case 10:case"end":return e.stop()}}),e)})))()},input:function(){var t=this;if(this.inputing||this.amount<=0)return this.power=0,!1;this.inputing=!0;var e=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Community.address,method:"getDestoryGainPower",parameter:[t.amount.toSun()]});case 2:t.power=n.sent.toString(),t.inputing=!1,clearTimeout(e);case 5:case"end":return n.stop()}}),n)}))),1e3)},destroy:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isStart){e.next=4;break}return e.abrupt("return",vant.Toast.fail("暂未开放！"));case 4:if(!(Number(t.amount)<=0)){e.next=8;break}return e.abrupt("return",vant.Toast.fail(t.$t("destory.text12")));case 8:if(!(Number(t.amount)>Number(t.balance))){e.next=12;break}return e.abrupt("return",vant.Toast.fail(t.$t("destory.text13")));case 12:if(!(Number(t.amount)>t.allowance)){e.next=14;break}return e.abrupt("return",t.approve());case 14:t.$pingSwapContracts.Community.destory(t.amount.toSun()).send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$loading(n);case 2:r=e.sent,r&&(t.init(),t.amount="",vant.Toast.success(t.$t("destory.text14")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;this.$pingSwapContracts.PinToken.approve(this.$pingSwapContracts.Community.address,"100000000".toSun()).send({feeLimit:this.$store.state.generalFeeLimit.toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$loading(n);case 2:if(r=e.sent,!r){e.next=8;break}return e.next=6,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.PinToken.address,method:"allowance",parameter:[t.$address,t.$pingSwapContracts.Community.address]});case 6:t.allowance=e.sent.toString().fromSun(),t.destroy();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},u=i,c=u,p=(n("94ab"),n("2877")),d=Object(p["a"])(c,r,a,!1,null,"277d5dca",null);e["default"]=d.exports},"94ab":function(t,e,n){"use strict";n("9729")},9729:function(t,e,n){},aca7:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"j",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"d",(function(){return w}));n("d3b7"),n("96cf");var r=n("1da1");function a(t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{cache:"reload"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}var o=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/liquidityuser?userAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/scan/statusinfo?exchangeAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/scan/transactions?exchangeAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://apilist.tronscan.org/api/token_trc20?contract=".concat(e,"&showAll=1"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://apilist.tronscan.org/api/contract?contract=".concat(e,"&type=contract"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/v2/tokenBrief?addr=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l={tokenAddress:"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/logo/trx.png",tokenSymbol:"TRX"},m={address:"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE",tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/logo/usdtlogo.png",tokenName:"Tether USD",tokenSymbol:"USDT"},f={address:"TUAtSJk6bePZ2uxzi7kF2hjeWqmoNAVbRe",tokenAddress:"TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/upload/logo/TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU.png",tokenName:"PinSwap",tokenSymbol:"PIN"},h="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb",w="T9yD14Nj9j7xAB4dbGeiX9h8upfCg3PBbY"}}]);