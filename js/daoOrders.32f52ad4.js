(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["daoOrders"],{"159b":function(t,e,s){var r=s("da84"),a=s("fdbc"),i=s("17c2"),n=s("9112");for(var o in a){var d=r[o],c=d&&d.prototype;if(c&&c.forEach!==i)try{n(c,"forEach",i)}catch(u){c.forEach=i}}},"17c2":function(t,e,s){"use strict";var r=s("b727").forEach,a=s("a640"),i=s("ae40"),n=a("forEach"),o=i("forEach");t.exports=n&&o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,s){"use strict";var r=s("23e7"),a=s("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"5d26":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"orders"},[r("div",{staticClass:"title"},[r("img",{attrs:{src:s("7d1b")},on:{click:function(e){return t.$router.back()}}}),r("span",[t._v(t._s(t.$t("orders.text1")))])]),r("div",{staticClass:"list"},t._l(t.orders,(function(e,s){return r("div",{key:e.id,staticClass:"box"},[r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[r("div",[t._v(" "+t._s(t.$t("orders.text2"))+" : "),r("span",[t._v(t._s(e.id))])]),r("div",{staticClass:"status"},[t._v(t._s(t.statusName[e.status]))])]),r("div",{staticClass:"content"},[r("div",{staticClass:"lp"},[r("div",{},[r("span",[t._v(t._s(t.$t("orders.text3"))+" :")]),r("div",[r("span",[t._v(t._s(e.lpNum)+" LP")]),r("span",[t._v("â‰ˆ$"+t._s(e.usd.toFixed(2)))])])]),r("div",[t._v(t._s(t.$t("orders.text7"))+" : "+t._s(e.power))])]),r("div",[t._v(" "+t._s(t.$t("orders.text4"))+" : "),r("span",[t._v(t._s(e.address))])]),r("div",[t._v(" "+t._s(t.$t("orders.text5"))+" : "),r("span",[t._v(t._s(e.createTime))])])]),r("div",{staticClass:"bottom-content"},[r("div",[t._v(" "+t._s(t.$t("orders.text6"))+" : "),r("span",[t._v(t._s(e.unlockTime))])]),r("button",{attrs:{disabled:1!=e.status},on:{click:function(e){return t.openRedeem(s)}}},[t._v(t._s(t.$t("orders.btn1")))])])])])})),0),t.orderInfo?r("board-redeem",{ref:"boardRedeem",attrs:{orderInfo:t.orderInfo},on:{reload:t.init}}):t._e()],1)},a=[],i=(s("99af"),s("4160"),s("a9e3"),s("b680"),s("d3b7"),s("159b"),s("96cf"),s("1da1")),n=s("90b9"),o={components:{"board-redeem":function(){return s.e("chunk-32df1626").then(s.bind(null,"4f04"))}},data:function(){return{statusName:[this.$t("orders.status1"),this.$t("orders.status2"),this.$t("orders.status3")],orders:[],redeemIndex:0}},computed:{orderInfo:function(){return this.orders[this.redeemIndex]}},created:function(){this.$daoContracts&&this.init()},methods:{openRedeem:function(t){this.redeemIndex=t,this.$refs.boardRedeem.display()},init:function(){var t=this,e=new this.$web3.BatchRequest,s=this.$daoContracts.USDTMock._address,r=this.$daoContracts.AIToken._address;e.add(this.$daoContracts.Pair.methods.totalSupply().call.request({from:this.$address})),e.add(this.$daoContracts.Pair.methods.getReserves().call.request({from:this.$address})),e.requestManager.sendBatch(e.requests,(function(e,a){if(!e){var o=("string"===typeof a[0]?a[0]:a[0].result).decode(["uint256"]),d=a[1].result.decode([{name:"_reserve0",type:"uint112"},{name:"_reserve1",type:"uint112"},{name:"_blockTimestampLast",type:"uint32"}]),c=d._reserve0,u=d._reserve1,f=s.toBN().lt(r.toBN()),l=(f?c:u).toBN(),m=(f?u:c).toBN();t.$daoContracts.Shareholders.methods.queryOrders(t.$address).call({from:t.$address},function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(s,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s){e.next=5;break}return e.next=3,Object(n["a"])(t.$web3);case 3:a=e.sent,r.forEach((function(e,s){var r=e.amount.toBN().div(o).times(100),i=l.times(r).div(100).toFixed().fromWei(),n=m.times(r).div(100).toFixed().fromWei();t.orders.push({usd:i,pin:n,id:s,lpNum:e.amount.fromWei(),power:e.gainPower,address:t.$address,status:t.getStatus(e,a),createTime:t.formatDate(e.createTime),unlockTime:t.formatDate(e.unlockTime)})}));case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())}}))},getStatus:function(t,e){return Number(t.redeemTime)>0?2:e>=Number(t.unlockTime)?1:0},formatDate:function(t){var e=new Date(1e3*Number(t)),s=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),i=e.getHours(),n=e.getMinutes();return"".concat(s,"/").concat(r,"/").concat(a," ").concat(i,":").concat(n)}}},d=o,c=d,u=(s("c10c"),s("2877")),f=Object(u["a"])(c,r,a,!1,null,"37c600c2",null);e["default"]=f.exports},"7d1b":function(t,e,s){t.exports=s.p+"img/back.d11ad5ff.svg"},"9e4a":function(t,e,s){},c10c:function(t,e,s){"use strict";s("9e4a")},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);