(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transaction"],{"0c27":function(t,e,n){},"0f78":function(t,e,n){},"188f":function(t,e,n){"use strict";n("328b")},"1f6b":function(t,e,n){"use strict";n("89c8")},"20f0":function(t,e,n){},"2fe3":function(t,e,n){"use strict";n("4f95")},"31ae":function(t,e,n){"use strict";n("0c27")},"328b":function(t,e,n){},"38fc":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-overlay",{attrs:{show:t.show},on:{click:t.toggle}},[n("div",{staticClass:"authorize",on:{click:function(t){t.stopPropagation()}}},[n("div",[n("div",{staticClass:"title"},[n("span",[t._v(t._s(t.$t("authorize.text1")))]),n("div",[t._v(t._s(t.type))])]),n("div",{staticClass:"authorize-type",class:{active:"general"===t.authorizeType},on:{click:function(e){t.authorizeType="general"}}},[n("div",[n("span",[t._v(t._s(t.$t("authorize.text2")))]),n("span",[t._v(t._s(t.$t("authorize.text3")))])]),n("span",[t._v(t._s(t.$t("authorize.text4")))])]),n("div",{staticClass:"authorize-type",class:{active:"super"===t.authorizeType},on:{click:function(e){t.authorizeType="super"}}},[n("div",[n("span",[t._v(t._s(t.$t("authorize.text5")))]),n("span",[t._v(t._s(t.$t("authorize.text6")))])]),n("span",[t._v(t._s(t.$t("authorize.text7")))])]),n("van-button",{on:{click:t.authorize}},[t._v(t._s(t.$t("authorize.text8")))])],1)])])},a=[],r=(n("a9e3"),n("d3b7"),n("25f0"),{data:function(){return{show:!1,authorizeType:"general",amount:null,type:"USDT",contractName:null,contractAddress:null,decimals:6}},methods:{toggle:function(){this.show=!this.show},authorize:function(){var t=this,e=10*Number(this.amount),n="general"===this.authorizeType?e.toString().toSun(this.decimals):"100000".toSun(this.decimals);this.$pingSwapContracts[this.contractName].methods.approve(this.contractAddress,n).send({feeLimit:this.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.toggle(),t.$emit("send"))}))}))}}}),o=r,i=(n("d051"),n("2877")),c=Object(i["a"])(o,s,a,!1,null,"f03c30b4",null);e["default"]=c.exports},"3cab":function(t,e,n){"use strict";n("ffd1")},"3ec8":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"joinGroupHistoryBox"},[s("div",{staticClass:"joinGroupHistory"},[s("div",{staticClass:"title"},[s("div",[s("div",{class:{active:!t.selectList},on:{click:function(e){t.selectList=!1}}},[t._v(t._s(t.$t("joinGroupHistory.text2")))]),s("div",{class:{active:t.selectList},on:{click:function(e){t.selectList=!0}}},[t._v(t._s(t.$t("joinGroupHistory.text1")))])])]),s("div",{staticClass:"list"},[t._l(t.selectList?t.allList:t.myList,(function(e,a){return s("div",{key:a,staticClass:"content",on:{click:function(n){return t.$router.push({path:"/Piece",query:{id:e.number}})}}},[s("div",[s("div",[s("div",[s("span",[t._v(t._s(t.$t("joinGroupHistory.text3")))]),s("span",[t._v(t._s(e.number))])]),s("div",[s("span",[t._v(t._s(t.$t("joinGroupHistory.text4")))]),s("span",[t._v(t._s(e.block))])])]),s("div",[s("div",[s("span",[t._v(t._s(t.$t("joinGroupHistory.text5")))]),s("span",[t._v(t._s(e.statu))])]),s("div",[s("span",[t._v(t._s(t.$t("joinGroupHistory.text6")))]),s("span",[t._v(t._s(e.value))])])])]),s("div",{staticClass:"joinGroupHistoryHash"},[s("span",[t._v(t._s(t.$t("joinGroupHistory.text7")))]),s("span",{domProps:{innerHTML:t._s(e.hash)}})]),s("img",{attrs:{src:n("93cf")}})])})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.selectList?!t.allList.length:!t.myList.length,expression:"selectList ? !allList.length : !myList.length"}],staticClass:"empty"},[s("img",{attrs:{src:n("c4ee")}}),s("span",[t._v("暂无记录")])])],2)])])},a=[],r=(n("99af"),n("4160"),n("baa5"),n("d3b7"),n("159b"),n("ddb0"),{data:function(){return{selectList:!1,allList:[],myList:[]}},methods:{init:function(){var t=this;this.allList=[],this.myList=[],this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Pin.address,method:"infos",parameter:[!1]}).then((function(e){t.listPush(t.allList,e)})).catch((function(t){})),this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Pin.address,method:"infos",parameter:[!0]}).then((function(e){t.listPush(t.myList,e),e.status[0]<4&&t.$store.commit("orderResult",!0)})).catch((function(t){}))},listPush:function(t,e){var n=this,s=[this.$t("joinGroupHistory.text8"),this.$t("joinGroupHistory.text9"),this.$t("joinGroupHistory.text10"),this.$t("joinGroupHistory.text11"),this.$t("joinGroupHistory.text12")];e.hashs.forEach((function(a,r){var o;o=e.status[r]>2&&5!=e.status[r]?n.hashResult(e.hashs[r],e.values[r]).newHash:"".concat(n.$t("joinGroupHistory.text13"),'<span class="notShow">0</span>'),t.push({number:e.numbers[r].toNumber(),block:e.blocks[r].toNumber(),luckyer:e.values[r],hash:o,value:e.status[r]>=3&&5!=e.status[r]?e.values[r]:"暂无",statu:s[e.status[r]-1]})}))},hashResult:function(t,e){var n=t.lastIndexOf(e);if(n===t.length-1){var s="".concat(t.substring(0,n),"<span>").concat(e,"</span>");return{newHash:"".concat(s.substr(0,5),"...").concat(s.substr(48)),originalHash:t}}var a="".concat(t.substring(0,n),"<span>").concat(e,"</span>").concat(t.substring(n+1,t.length));return{newHash:"".concat(a.substr(0,5),"...").concat(a.substr(48)),originalHash:t}}},mounted:function(){this.$pingSwapContracts&&this.init()}}),o=r,i=o,c=(n("b8f1"),n("8b33"),n("2877")),u=Object(c["a"])(i,s,a,!1,null,"3e157e6a",null);e["default"]=u.exports},4409:function(t,e,n){"use strict";n("20f0")},"4f95":function(t,e,n){},5942:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-overlay",{attrs:{show:t.show}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction,expression:"inTransaction"}],staticClass:"loading"},[s("span",[t._v(t._s(t.$t("transationState.text1")))]),s("div",{staticClass:"pair"},[s("div",[s("span",{domProps:{textContent:t._s(t.from.symbol)}}),s("span",{domProps:{textContent:t._s(t.from.amount)}})]),s("img",{attrs:{src:n("004e")}}),s("div",[s("span",{domProps:{textContent:t._s(t.to.symbol)}}),s("span",{domProps:{textContent:t._s(t.to.amount)}})])]),s("div",{staticClass:"info"},[s("div",[s("span",[t._v(t._s(t.$t("transationState.text2")))]),s("div",[s("span",[t._v("1 "+t._s(t.from.symbol)+"="+t._s(t.toPrice)+" "+t._s(t.to.symbol))]),s("span",[t._v("1 "+t._s(t.to.symbol)+"="+t._s(t.fromPrice)+" "+t._s(t.from.symbol))])])]),s("div",[s("span",[t._v(t._s(t.$t("transationState.text3")))]),s("span",[t._v(t._s(t.min)+" "+t._s(t.to.symbol))])]),s("div",[s("span",[t._v(t._s(t.$t("transationState.text4")))]),s("span",{domProps:{textContent:t._s(t.slipPoint)}})]),s("div",[s("span",[t._v(t._s(t.$t("transationState.text5")))]),s("span",[t._v(t._s(Number(t.from.amount)/1e3*3)+" "+t._s(t.from.symbol))])])]),s("van-button",{attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transationState.text6")}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction,expression:"!inTransaction"}],staticClass:"success"},[s("div",{staticClass:"state"},[s("img",{attrs:{src:n("6582")}}),s("span",[t._v(t._s(t.$t("transationState.text7")))])]),s("div",{staticClass:"pair"},[s("div",[s("span",{domProps:{textContent:t._s(t.from.symbol)}}),s("span",{domProps:{textContent:t._s(t.from.amount)}})]),s("img",{attrs:{src:n("004e")}}),s("div",[s("span",{domProps:{textContent:t._s(t.to.symbol)}}),s("span",{domProps:{textContent:t._s(t.to.amount)}})])]),s("van-button",{attrs:{type:"info"},on:{click:t.close}},[t._v(t._s(t.$t("transationState.text8")))]),s("span",[t._v(t._s(t.$t("transationState.text9")))])],1)])},a=[],r=(n("a9e3"),{props:{transaction:{type:Boolean,require:!0},from:{type:Object,require:!0},to:{type:Object,require:!0},slipPoint:{type:String,require:!0},toPrice:{type:[String,Number],require:!0},fromPrice:{type:[String,Number],require:!0}},data:function(){return{show:!1,inTransaction:!1}},methods:{close:function(){this.show=!1}},watch:{transaction:function(t){t&&(this.show=!0),this.inTransaction=t}}}),o=r,i=o,c=(n("4409"),n("2877")),u=Object(c["a"])(i,s,a,!1,null,"41ef5344",null);e["default"]=u.exports},"63ee":function(t,e,n){},"68d4":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mk-header"},[s("div",{staticClass:"select-chain van-hairline--surround",on:{click:function(e){t.wallet=!t.wallet}}},[s("img",{attrs:{src:n("98c7")}}),s("span",[t._v("TRX")]),s("img",{attrs:{src:n("c5d4")}}),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.wallet,expression:"wallet"}],on:{click:function(t){t.stopPropagation()}}},[s("li",[s("img",{attrs:{src:n("98c7")}}),s("span",{on:{click:function(e){t.wallet=!1}}},[t._v("TRX")])]),s("li",[s("img",{attrs:{src:n("685c")}}),s("span",{on:{click:t.stop}},[t._v("ETH")])]),s("li",[s("img",{attrs:{src:n("5bb7")}}),s("span",{on:{click:t.stop}},[t._v("BNB")])]),s("li",[s("img",{attrs:{src:n("ea1c")}}),s("span",{on:{click:t.stop}},[t._v("HT")])])])]),s("img",{attrs:{src:n("cf05")}}),s("img",{attrs:{src:n("bef3")},on:{click:function(e){t.menus=!t.menus}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.menus||t.wallet,expression:"menus || wallet"}],staticClass:"overlay",on:{click:function(e){t.wallet=t.menus=!1}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.menus,expression:"menus"}],staticClass:"menus"},[t._m(0),s("div",{staticClass:"language"},[s("div",[s("div",{class:"zh"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("zh")}}},[t._v("中文")]),s("div",{class:"en"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("en")}}},[t._v("EN")])])]),s("div",{on:{click:function(e){t.menus=!1}}},[t._v(t._s(t.$t("mkHeader.text1")))]),s("div",{on:{click:function(e){return t.$router.push("./mining")}}},[t._v(t._s(t.$t("mkHeader.text2")))]),s("div",{on:{click:function(e){return t.$router.push("/join-fund-pool")}}},[t._v(t._s(t.$t("mkHeader.text3")))]),s("div",{on:{click:function(e){return t.$router.push("/about")}}},[t._v(t._s(t.$t("mkHeader.text4")))])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menusTitle"},[n("i",[t._v("Pin"),n("span",[t._v("Swap")])])])}],r={data:function(){return{wallet:!1,menus:!1}},methods:{stop:function(){vant.Toast.fail(this.$t("mkHeader.text5"))},changeLanguage:function(t){this.$i18n.locale=t,localStorage.setItem("language",t)}}},o=r,i=o,c=(n("1f6b"),n("2877")),u=Object(c["a"])(i,s,a,!1,null,"414b9a12",null);e["default"]=u.exports},"6baf":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-overlay",{attrs:{show:t.cardShow},on:{click:function(e){t.cardShow=!1}}},[s("div",{staticClass:"card",on:{click:function(t){t.stopPropagation()}}},[s("div",[s("div",{staticClass:"cardTitle"},[s("span",[t._v(t._s(t.$t("invitationCard.text1")))]),s("div",[t._v("PinSwap")])]),s("div",{staticClass:"cardTextInfo"},[s("img",{attrs:{src:n("42d3")}}),s("i",[t._v("Pin"),s("span",[t._v("Swap")])]),s("span",[t._v(t._s(t.$t("invitationCard.text2")))]),s("div",[s("div",[t._v(t._s(t.code))]),s("span",[t._v(t._s(t.$t("invitationCard.text3")))])])]),s("div",{staticClass:"line"}),s("div",{staticClass:"qcodeBox"},[s("div",{staticClass:"qrcode"},[s("div")]),s("span",[t._v(t._s(t.$t("invitationCard.text4")))])])])])])},a=[],r=(n("99af"),n("4160"),n("9911"),n("159b"),{data:function(){return{cardShow:!1,code:"******"}},mounted:function(){this.init()},methods:{init:function(){this.link="".concat(location.origin,"?code=").concat(this.code),this.qrcodeBox=document.querySelector(".qrcode>div"),new QRCode(this.qrcodeBox,this.link),this.qrcodeBox.children.forEach((function(t){t.style.width="100%",t.style.height="100%"}))}}}),o=r,i=o,c=(n("2fe3"),n("2877")),u=Object(c["a"])(i,s,a,!1,null,"4dbbca2e",null);e["default"]=u.exports},"742c":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[s("div",{on:{click:function(t){t.stopPropagation()}}},[s("img",{attrs:{src:n("8cec")("./v"+t.lv+".png")}}),s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("upgrade.text1")))]),s("div",[t._v("V"+t._s(t.lv))])]),s("van-button",{on:{click:t.upgradeLevel}},[t._v(t._s(t.$t("upgrade.text2")))])],1)])},a=[],r={data:function(){return{show:!1,lv:0}},methods:{init:function(){},upgradeLevel:function(){var t=this;this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Relation.address,method:"upgradeLevel",options:{feeLimit:this.$store.state.generalFeeLimit.toSun()}}).then((function(e){e&&t.$pingSwapContracts.Relation.upgradeLevel().send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.show=!1,t.$getBalance(),t.$toast.success(t.$t("upgrade.text3")))}))}))}))}},mounted:function(){}},o=r,i=o,c=(n("3cab"),n("2877")),u=Object(c["a"])(i,s,a,!1,null,"f2f1a294",null);e["default"]=u.exports},"7b76":function(t,e,n){},"857a":function(t,e,n){var s=n("1d80"),a=/"/g;t.exports=function(t,e,n,r){var o=String(s(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),i+">"+o+"</"+e+">"}},"88a3":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"transaction tabbar-page"},[s("mk-header"),s("router-link",{attrs:{to:"/mining"}},[s("img",{attrs:{src:n("e7c0")("./transaction-banner-"+t.$i18n.locale+".png")}})]),s("div",{staticClass:"exchange-container"},[s("div",{staticClass:"exchange-box"},[s("div",{staticClass:"exchange"},[s("div",{staticClass:"input"},[s("van-field",{attrs:{type:"number",placeholder:t.$t("transaction.text1")},on:{input:t.input},model:{value:t.sendAmount,callback:function(e){t.sendAmount=e},expression:"sendAmount"}}),s("i"),s("div",{staticClass:"select",on:{click:function(e){return t.openSearch("send")}}},[s("img",{attrs:{src:t.sendToken.logo}}),s("div",[s("span",{domProps:{textContent:t._s(t.sendToken.symbol)}}),s("img",{attrs:{src:n("716f")}})])])],1),s("div",{staticClass:"balance"},[s("span",[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance))]),s("img",{attrs:{src:n("1b07")},on:{click:t.switchToken}})]),s("div",{staticClass:"input"},[s("van-field",{attrs:{type:"number",readonly:"",placeholder:t.$t("transaction.text3")},model:{value:t.toAmount,callback:function(e){t.toAmount=e},expression:"toAmount"}}),s("i"),s("div",{staticClass:"select",on:{click:function(e){return t.openSearch("to")}}},[s("img",{attrs:{src:t.toToken.logo}}),s("div",[s("span",{domProps:{textContent:t._s(t.toToken.symbol)}}),s("img",{attrs:{src:n("716f")}})])])],1),s("div",{staticClass:"rate"},[s("div",[s("span",[t._v(t._s(t.$t("transaction.text4"))+" 1"+t._s(t.sendToken.symbol)+" ≈ "+t._s(t.price)+t._s(t.toToken.symbol))]),s("span",[t._v("1"+t._s(t.toToken.symbol)+" ≈ "+t._s(t.fromPrice)+t._s(t.sendToken.symbol))]),"zh"===t.$i18n.locale?s("span",[t._v("手续费 "+t._s(t.gasPrice))]):s("span",[t._v("Fee "+t._s(t.gasPrice))])]),s("img",{attrs:{src:n("3c96")},on:{click:function(e){t.$router.push({path:"/detail",query:{token:JSON.stringify(t.toPair)}})}}})]),s("div",{staticClass:"button"},[s("img",{attrs:{src:n("b012")},on:{click:t.openSetting}}),s("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction&&!t.inApprove,expression:"!inTransaction && !inApprove"}],attrs:{type:"info",disabled:t.disabled},on:{click:t.exchange}},[t._v(t._s(t.$t("transaction.text5")))]),s("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inApprove&&!t.inTransaction,expression:"inApprove && !inTransaction"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text6")}}),s("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction&&!t.inApprove,expression:"inTransaction && !inApprove"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text7")}})],1),s("div",{staticClass:"show-assets-pool",on:{click:function(e){t.poolToggle=!t.poolToggle}}},[s("span",[t._v(t._s(t.$t("transaction.text8")))]),s("img",{class:t.poolToggle?"active":"",attrs:{src:n("a284")}})])]),s("div",{staticClass:"assets-pool-container",class:t.poolToggle?"enter":""},[s("div",{staticClass:"assets-pool"},[s("span",[t._v(t._s(t.$t("transaction.text9")))]),t._l(t.assetsPoolList,(function(e){return s("van-row",{key:e,attrs:{type:"flex",justify:"space-between"}},t._l(e,(function(e){return s("van-col",{key:e.name,attrs:{span:"11"}},[s("img",{attrs:{src:e.icon}}),s("span",{domProps:{textContent:t._s(e.name)}})])})),1)})),s("div",{staticClass:"back",on:{click:function(e){t.poolToggle=!1}}},[s("img",{attrs:{src:n("a284")}}),s("span",[t._v(t._s(t.$t("transaction.text10")))])])],2)])]),t.record?t._e():s("img",{attrs:{src:n("1427")}}),t.record?s("div",{staticClass:"record"},[s("div",[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("transaction.text11")))]),s("span",{domProps:{textContent:t._s(t.record.date)}})]),s("div",{staticClass:"pair"},[s("div",[s("span",{domProps:{textContent:t._s(t.record.from.symbol)}}),s("span",{domProps:{textContent:t._s(t.record.from.amount)}})]),s("img",{attrs:{src:n("004e")}}),s("div",[s("span",{domProps:{textContent:t._s(t.record.to.symbol)}}),s("span",{domProps:{textContent:t._s(t.record.to.amount)}})])])])]):t._e()]),s("transation-state",{attrs:{transaction:t.inTransaction,from:{amount:t.sendAmount,symbol:t.sendToken.symbol},to:{amount:t.toAmount,symbol:t.toToken.symbol},"slip-point":t.slipPoint+"%",min:t.min,"to-price":t.price,"from-price":t.fromPrice}}),s("search-tokens",{ref:"searchTokens",on:{select:t.select}}),s("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},a=[],r=(n("99af"),n("4de4"),n("4160"),n("caad"),n("c975"),n("fb6a"),n("b0c0"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("2532"),n("159b"),n("3835")),o=(n("96cf"),n("1da1")),i=n("aca7"),c=n("a981"),u=n("3952"),l={data:function(){return{sendAmount:"",toAmount:"",poolToggle:!1,setupToggle:!1,assetsPool:[],sendPair:null,toPair:null,changed:!0,balance:0,sendToken:{logo:n("90bd"),symbol:"TRX"},toToken:{logo:n("0f62"),symbol:"USDT"},price:0,slipPoint:2,deadline:600,inApprove:!1,inTransaction:!1,allowance:0,min:0,fromPrice:0,record:null,assetsPoolList:[[{icon:n("8e01"),name:"JustSwap"},{icon:n("41a2"),name:"PinSwap"}],[{icon:n("bc62"),name:"tron2get VIP"},{icon:n("80d6"),name:"Newdex"}],[{icon:n("a433"),name:"SalmonSwap"},{icon:n("c45a"),name:"Swap USDT"}],[{icon:n("988c"),name:"TronTrade"},{icon:n("1697"),name:"Zethyr Exchange"}],[{icon:n("ae69"),name:"USwap"},{icon:n("bda0"),name:"Poloni DEX"}]],disabled:!0,gasPrice:"0.3%"}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$utils&&t.init(),Object(i["a"])().then((function(e){var n=[];e.tokens.forEach((function(t){n.push({name:t.name,icon:t.logoURI})})),t.assetsPool=n}));case 2:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s,a,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("record"),n&&(t.record=JSON.parse(n)),s=t.$route.query,!s.token){e.next=10;break}return t.select({token:JSON.parse(s.token),who:"to"}),e.next=7,tronWeb.trx.getBalance(t.$address);case 7:t.balance=e.sent.fromSun(),e.next=25;break;case 10:return e.next=12,Object(i["e"])("usdt");case 12:return a=e.sent,o=a.data,c=o.list.filter((function(t){return"USDT"===t.tokenSymbol})),u=Object(r["a"])(c,1),l=u[0],t.toPair=l,e.next=18,tronWeb.trx.getBalance(t.$address);case 18:return t.balance=e.sent.fromSun(),e.next=21,t.getTrxToToken(1);case 21:return t.price=e.sent,e.next=24,t.getTokenToTrx(1);case 24:t.fromPrice=e.sent;case 25:case"end":return e.stop()}}),e)})))()},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},select:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=t.token,a=t.who,n.t0=a,n.next="send"===n.t0?4:"to"===n.t0?13:26;break;case 4:if(s.tokenSymbol!==e.toToken.symbol){n.next=8;break}return n.abrupt("return",e.switchToken());case 8:if("TRX"!==s.tokenSymbol){n.next=11;break}return e.sendPair=null,n.abrupt("break",26);case 11:return e["TRX"===e.toToken.symbol?"toPair":"sendPair"]=s,n.abrupt("break",26);case 13:if(s.tokenSymbol!==e.sendToken.symbol){n.next=17;break}return n.abrupt("return",e.switchToken());case 17:if("TRX"!==s.tokenSymbol){n.next=23;break}return e.toPair=e.sendPair,e.sendPair=null,n.abrupt("break",26);case 23:"TRX"!==e.sendToken.symbol&&(e.sendPair=e.toPair);case 24:return e.toPair=s,n.abrupt("break",26);case 26:if(e["send"===a?"sendToken":"toToken"]={logo:s.tokenLogoUrl,symbol:s.tokenSymbol},e.input(),![e.sendToken.symbol,e.toToken.symbol].includes("TRX")){n.next=41;break}if("TRX"!==e.sendToken.symbol){n.next=35;break}return n.next=32,e.getTrxToToken(1);case 32:n.t2=n.sent,n.next=38;break;case 35:return n.next=37,e.getTokenToTrx(1);case 37:n.t2=n.sent;case 38:n.t1=n.t2,n.next=44;break;case 41:return n.next=43,e.getTokenToToken(1);case 43:n.t1=n.sent;case 44:if(e.price=n.t1,![e.sendToken.symbol,e.toToken.symbol].includes("TRX")){n.next=58;break}if("TRX"!==e.sendToken.symbol){n.next=52;break}return n.next=49,e.getTokenToTrx(1);case 49:n.t4=n.sent,n.next=55;break;case 52:return n.next=54,e.getTrxToToken(1);case 54:n.t4=n.sent;case 55:n.t3=n.t4,n.next=61;break;case 58:return n.next=60,e.getTokenToToken(1,"to");case 60:n.t3=n.sent;case 61:if(e.fromPrice=n.t3,"TRX"===e.sendToken.symbol){n.next=70;break}return r="TRX"===e.toToken.symbol?"toPair":"sendPair",n.next=66,e.$utils.call({contractAddress:e[r].tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 66:return e.balance=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e[r].tokenDecimal),n.next=69,e.getAllowance();case 69:e.allowance=n.sent;case 70:case"end":return n.stop()}}),n)})))()},exchange:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.sendAmount>t.balance)){e.next=2;break}return e.abrupt("return",vant.Toast.fail(t.$t("transaction.text12")));case 2:if("TRX"!==t.sendToken.symbol){e.next=6;break}t.sendTrxToToken(),e.next=11;break;case 6:if(n="TRX"===t.toToken.symbol?t.toPair.tokenDecimal:t.sendPair.tokenDecimal,!t.sendAmount.toSun(n).toBN().isGreaterThan(t.allowance)){e.next=10;break}return e.next=10,t.approve();case 10:"TRX"===t.toToken.symbol?t.sendTokenToTrx():t.sendTokenToToken();case 11:case"end":return e.stop()}}),e)})))()},switchToken:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if([t.sendToken.symbol,t.toToken.symbol].includes("TRX")||(n=t.sendPair,t.sendPair=t.toPair,t.toPair=n),s=t.sendToken,t.sendToken=t.toToken,t.toToken=s,t.input(),![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){e.next=18;break}if("TRX"!==t.sendToken.symbol){e.next=12;break}return e.next=9,t.getTrxToToken(1);case 9:e.t1=e.sent,e.next=15;break;case 12:return e.next=14,t.getTokenToTrx(1);case 14:e.t1=e.sent;case 15:e.t0=e.t1,e.next=21;break;case 18:return e.next=20,t.getTokenToToken(1);case 20:e.t0=e.sent;case 21:if(t.price=e.t0,![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){e.next=35;break}if("TRX"!==t.sendToken.symbol){e.next=29;break}return e.next=26,t.getTokenToTrx(1);case 26:e.t3=e.sent,e.next=32;break;case 29:return e.next=31,t.getTrxToToken(1);case 31:e.t3=e.sent;case 32:e.t2=e.t3,e.next=38;break;case 35:return e.next=37,t.getTokenToToken(1,"to");case 37:e.t2=e.sent;case 38:if(t.fromPrice=e.t2,"TRX"===t.sendToken.symbol){e.next=48;break}return e.next=42,t.$utils.call({contractAddress:(t.sendPair||t.toPair).tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 42:return t.balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun((t.sendPair||t.toPair).tokenDecimal),e.next=45,t.getAllowance();case 45:t.allowance=e.sent,e.next=51;break;case 48:return e.next=50,tronWeb.trx.getBalance(t.$address);case 50:t.balance=e.sent.fromSun();case 51:case"end":return e.stop()}}),e)})))()},input:function(){var t=this;if(""===this.sendAmount)return this.toAmount="",this.disabled=!0,!1;if(!this.changed)return!1;this.changed=!1,this.disabled=!1,this.gasPrice="".concat(this.sendAmount/1e3*3," ").concat(this.sendToken.symbol);var e=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.sendAmount.length>0)){n.next=18;break}if(![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){n.next=14;break}if("TRX"!==t.sendToken.symbol){n.next=8;break}return n.next=5,t.getTrxToToken(t.sendAmount);case 5:n.t1=n.sent,n.next=11;break;case 8:return n.next=10,t.getTokenToTrx(t.sendAmount);case 10:n.t1=n.sent;case 11:n.t0=n.t1,n.next=17;break;case 14:return n.next=16,t.getTokenToToken(t.sendAmount);case 16:n.t0=n.sent;case 17:t.toAmount=n.t0;case 18:t.changed=!0,clearTimeout(e);case 20:case"end":return n.stop()}}),n)}))),1e3)},getAllowance:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="TRX"===t.toToken.symbol?t.toPair.tokenAddress:t.sendPair.tokenAddress,s="TRX"===t.toToken.symbol?t.toPair.address:t.sendPair.address,e.next=4,t.$utils.call({contractAddress:n,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:s}]});case 4:return e.abrupt("return",e.sent.constant_result[0].decode(["uint256"]).toString());case 5:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t.sendToken.symbol,t.toToken.symbol].includes("TRX")?"toPair":"sendPair",s=tronWeb.contract(u,t[n].tokenAddress),e.abrupt("return",new Promise((function(e){s.approve(t[n].address,t.sendAmount.toSun(t[n].tokenDecimal)).send().then(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(s){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,t.listeningTransaction(s,"inApprove");case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())})));case 3:case"end":return e.stop()}}),e)})))()},getTrxToToken:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,n.$utils.call({contractAddress:n["send"===e?"sendPair":"toPair"].address,method:"getTrxToTokenInputPrice(uint256)",parameter:[{type:"uint256",value:t.toSun()}]});case 2:return s.abrupt("return",s.sent.constant_result[0].decode(["uint256"]).toString().fromSun(n["send"===e?"sendPair":"toPair"].tokenDecimal));case 3:case"end":return s.stop()}}),s)})))()},getTokenToTrx:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,n.$utils.call({contractAddress:n["send"===e?"sendPair":"toPair"].address,method:"getTokenToTrxInputPrice(uint256)",parameter:[{type:"uint256",value:t.toSun(n["send"===e?"sendPair":"toPair"].tokenDecimal)}]});case 2:return s.abrupt("return",s.sent.constant_result[0].decode(["uint256"]).toString().fromSun());case 3:case"end":return s.stop()}}),s)})))()},getTokenToToken:function(t){var e=arguments,n=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.length>1&&void 0!==e[1]?e[1]:"send",s.next=3,n.getTokenToTrx(t,a);case 3:return r=s.sent,s.next=6,n.getTrxToToken(r,"send"===a?"to":"send");case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}}),s)})))()},sendTrxToToken:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(c,t.toPair.address),s=t.toAmount.toSun(t.toPair.tokenDecimal).toBN(),a=s.minus(s.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),r=a.indexOf("."),i=r>0?a.slice(0,r):a,u=Math.floor((new Date).getTime()/1e3)+t.deadline,t.min=i.fromSun(t.toPair.tokenDecimal),n.trxToTokenSwapInput(i,u).send({callValue:t.sendAmount.toSun(),feeLimit:"100".toSun()}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}a=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},a[t.$address]&&Number(a[t.$address].time)===s?a[t.$address]={time:s,amount:Number(a[t.$address].amount)+Number(t.toAmount)}:a[t.$address]={time:s,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))()},sendTokenToTrx:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,i,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(c,t.toPair.address),s=t.sendAmount.toSun(t.toPair.tokenDecimal),a=t.toAmount.toSun().toBN(),r=a.minus(a.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),i=r.indexOf("."),u=i>0?r.slice(0,i):r,l=Math.floor((new Date).getTime()/1e3)+t.deadline,t.min=u.fromSun(),n.tokenToTrxSwapInput(s,u,l).send({feeLimit:"100".toSun()}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}a=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},a[t.$address]&&Number(a[t.$address].time)===s?a[t.$address]={time:s,amount:Number(a[t.$address].amount)+Number(t.toAmount)}:a[t.$address]={time:s,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))()},sendTokenToToken:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,i,u,l,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(c,t.sendPair.address),s=t.sendAmount.toSun(t.sendPair.tokenDecimal),a=t.toAmount.toSun(t.toPair.tokenDecimal).toBN(),r=a.minus(a.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),i=r.indexOf("."),u=i>0?r.slice(0,i):r,l="1".toSun(),d=Math.floor((new Date).getTime()/1e3)+t.deadline,m=t.toPair.tokenAddress,t.min=u.fromSun(t.toPair.tokenDecimal),n.tokenToTokenSwapInput(s,u,l,d,m).send({feeLimit:"100".toSun()}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}a=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},a[t.$address]&&Number(a[t.$address].time)===s?a[t.$address]={time:s,amount:Number(a[t.$address].amount)+Number(t.toAmount)}:a[t.$address]={time:s,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})))()},listeningTransaction:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inTransaction";return this[n]=!0,new Promise(function(){var s=Object(o["a"])(regeneratorRuntime.mark((function s(a){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r=setInterval(Object(o["a"])(regeneratorRuntime.mark((function s(){var o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,tronWeb.trx.getTransaction(t);case 2:o=s.sent,o.ret&&("SUCCESS"===o.ret[0].contractRet?(e[n]=!1,"inTransaction"===n&&(i={date:e.formatDate(o.raw_data.timestamp),from:{symbol:e.sendToken.symbol,amount:e.sendAmount},to:{symbol:e.toToken.symbol,amount:e.toAmount}},localStorage.setItem("record",JSON.stringify(i)),e.record=i),a(!0)):a(!1),clearInterval(r));case 4:case"end":return s.stop()}}),s)}))),2e3);case 1:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())},formatDate:function(t){function e(t){return t<10?"0".concat(t):t}var n=new Date(t),s=n.getFullYear(),a=e(n.getMonth()+1),r=e(n.getDate()),o=e(n.getHours()),i=e(n.getMinutes());return"".concat(s,"/").concat(a,"/").concat(r," ").concat(o,":").concat(i)}},components:{"mk-header":function(){return Promise.resolve().then(n.bind(null,"68d4"))},"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))},"transation-state":function(){return Promise.resolve().then(n.bind(null,"5942"))}}},d=l,m=d,p=(n("969f"),n("f305"),n("2877")),f=Object(p["a"])(m,s,a,!1,null,"a681f70c",null);e["default"]=f.exports},"89c8":function(t,e,n){},"8b33":function(t,e,n){"use strict";n("d31f")},"8cec":function(t,e,n){var s={"./v0.png":"80fc","./v1.png":"37f9","./v1not.png":"627d","./v2.png":"81fb","./v2not.png":"9622","./v3.png":"6905","./v3not.png":"0bd6"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="8cec"},"956e":function(t,e,n){},"969f":function(t,e,n){"use strict";n("ddc5")},9911:function(t,e,n){"use strict";var s=n("23e7"),a=n("857a"),r=n("af03");s({target:"String",proto:!0,forced:r("link")},{link:function(t){return a(this,"a","href",t)}})},"9f4a":function(t,e,n){"use strict";n("63ee")},af03:function(t,e,n){var s=n("d039");t.exports=function(t){return s((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b8f1:function(t,e,n){"use strict";n("7b76")},baa5:function(t,e,n){var s=n("23e7"),a=n("e58c");s({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},cbc1:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[s("div",{staticClass:"winning",on:{click:function(t){t.stopPropagation()}}},[s("img",{attrs:{src:n("992d")}}),s("div",[s("div",{staticClass:"winningTitle"},[s("span",[t._v(t._s(t.luckyNumber))]),s("div",[t._v(t._s(t.$t("winning.text1")))])]),s("div",{staticClass:"winningInfo"},[s("div",[s("span",[t._v(t._s(t.$t("winning.text2")))]),s("span",[t._v(t._s(t.luckyBlock))])]),s("div",[s("span",[t._v(t._s(t.$t("winning.text3")))]),s("span",{domProps:{innerHTML:t._s(t.hash)}})])]),s("div",{staticClass:"winningList"},[s("div",[s("span",[t._v(t._s(t.$t("winning.text4")))]),s("span",[t._v(t._s(t.$t("winning.text5")))]),s("span",[t._v("USDT")]),s("span",[t._v(t._s(t.$t("winning.text6")))])]),t._l(t.list,(function(e,n){return s("div",{key:n},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.index))]),s("span",[t._v(t._s(e.USDT))]),s("span",[t._v(t._s(e.amount))])])}))],2),s("van-button",{on:{click:t.doSettlement}},[t._v(t._s(t.$t("winning.text7")))])],1)])])},a=[],r=(n("96cf"),n("1da1")),o={data:function(){return{show:!1,list:[],luckyNumber:"",luckyBlock:"",hash:""}},methods:{init:function(){},doSettlement:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("cancelGetData"),e.t0=parseInt,e.next=4,t.$tronWeb.getBlockTime().then();case 4:e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.t3=600,n=e.t2+e.t3,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"doSettlement",parameter:[t.$route.query.id,n],option:{feeLimit:t.$store.state.generalFeeLimit.toSun()}}).then((function(e){e&&t.$pingSwapContracts.Pin.doSettlement(t.$route.query.id,n).send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.show=!1,t.$getBalance(),t.$emit("refreshData"),t.$toast.success(t.$t("winning.text8")))}))}))}));case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.$pingSwapContracts&&this.init()}},i=o,c=i,u=(n("f364"),n("2877")),l=Object(u["a"])(c,s,a,!1,null,"aee5ab50",null);e["default"]=l.exports},d051:function(t,e,n){"use strict";n("f572")},d31f:function(t,e,n){},d701:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start"},[n("img",{attrs:{src:t.url}})])},a=[],r=(n("ac1f"),n("5319"),{data:function(){return{url:n("d290")}},created:function(){var t=this,e=n("d290"),s=setInterval((function(){t.$utils&&(clearInterval(s),t.$router.replace("/transaction")),t.url="",t.$nextTick((function(){t.url=e}))}),2e3)}}),o=r,i=(n("9f4a"),n("2877")),c=Object(i["a"])(o,s,a,!1,null,"15cc4061",null);e["default"]=c.exports},ddc5:function(t,e,n){},e531:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-overlay",{attrs:{show:t.show},on:{click:t.swithShow}},[s("div",{staticClass:"fastJoin",on:{click:function(t){t.stopPropagation()}}},[s("div",[s("div",{staticClass:"fastJoinTitle"},[s("span",[t._v(t._s(t.$t("fastJoin.text1")))]),s("div",[t._v(t._s(t.$t("fastJoin.text2")))])]),s("div",{staticClass:"fastJoinStep"},[s("div",[s("div",[s("span",[t._v(t._s(t.$t("fastJoin.text3")))]),s("div"),s("span",[t._v(t._s(t.$t("fastJoin.text4")))])]),s("div",[s("span",[t._v(t._s(t.$t("fastJoin.text5")))]),s("div"),s("span",[t._v(t._s(t.$t("fastJoin.text6")))])]),s("div",[s("span",[t._v(t._s(t.$t("fastJoin.text7")))]),s("div"),s("span",[t._v(t._s(t.$t("fastJoin.text8")))])])])]),s("div",{staticClass:"fastJoinInput"},[s("span",[t._v(t._s(t.$t("fastJoin.text9")))]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.earnestAmount,expression:"earnestAmount"}],attrs:{type:"number",disabled:"disabled"},domProps:{value:t.earnestAmount},on:{input:function(e){e.target.composing||(t.earnestAmount=e.target.value)}}}),s("div",{staticClass:"bule",on:{click:function(e){return t.$router.push("/margin")}}},[s("span",[t._v(t._s(t.$t("fastJoin.text10")))]),s("img",{attrs:{src:n("93cf")}})])])]),s("div",{staticClass:"fastJoinInput"},[s("span",[t._v(t._s(t.$t("fastJoin.text11")))]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"number",placeholder:"0",disabled:"disabled"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),s("div",[s("span",[t._v("USDT")])])])]),s("div",{staticClass:"fastJoinSelect"},t._l(t.selectList,(function(e,n){return s("div",{key:n,class:{active:t.active===n},on:{click:function(s){t.active=n,t.value=e}}},[t._v(t._s(e))])})),0),s("div",{staticClass:"balance"},[t._v(t._s(t.$t("fastJoin.text12"))+" "+t._s(t.$store.state.balance.usdt)+" USDT")]),s("van-button",{directives:[{name:"ButClickLimit",rawName:"v-ButClickLimit"}],attrs:{disabled:Boolean(t.time)},on:{click:t.match}},[t.time?t._e():s("span",[t._v(t._s(t.$t("fastJoin.text13")))]),t.time?s("span",[t._v(t._s(t.$t("fastJoin.text21")))]):t._e(),t.time?s("van-count-down",{attrs:{time:t.time}}):t._e()],1)],1)]),s("self-authorize",{ref:"authorize",on:{send:t.match}})],1)},a=[],r=(n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("5530"),i={components:{"self-authorize":function(){return Promise.resolve().then(n.bind(null,"38fc"))}},data:function(){return{show:!1,active:"",earnestAmount:"",value:200,time:0,isJoin:!1}},computed:Object(o["a"])(Object(o["a"])({},Vuex.mapState(["isMiner"])),Vuex.mapState(["orderResult"])),methods:{swithShow:function(){this.show=!this.show},init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=parseInt,e.next=3,t.$tronWeb.getBlockTime().then();case 3:e.t1=e.sent,n=(0,e.t0)(e.t1),s=new Date(1e3*n).getHours(),s>=20?t.time=1e3*(t.getSpecifyTime(n,33)-n):s>=15&&!(n>t.getSpecifyTime(n,19)&&n<t.getSpecifyTime(n,20))?t.time=1e3*(t.getSpecifyTime(n,19)-n):s>=10&&!(n>t.getSpecifyTime(n,14)&&n<t.getSpecifyTime(n,15))&&s<19?t.time=1e3*(t.getSpecifyTime(n,14)-n):s<9&&(t.time=1e3*(t.getSpecifyTime(n,9)-n)),t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"myAwards"}).then((function(e){t.earnestAmount=e.earnestAmount.toString().fromSun().toFixed(4)}));case 8:case"end":return e.stop()}}),e)})))()},match:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Number(t.value),s=Number(t.$store.state.balance.usdt),a=Number(t.earnestAmount),e.next=5,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.UsdtToken.address,method:"allowance",parameter:[t.$address,t.$pingSwapContracts.Pin.address]}).then();case 5:return r=e.sent.toString().fromSun(),e.t0=parseInt,e.next=9,t.$tronWeb.getBlockTime().then();case 9:if(e.t1=e.sent,o=(0,e.t0)(e.t1),""!=n){e.next=15;break}return e.abrupt("return",t.$toast.fail(t.$t("fastJoin.text14")));case 15:if(!(n>s)){e.next=19;break}return e.abrupt("return",t.$toast.fail(t.$t("fastJoin.text15")));case 19:if(a&&!(n>a)){e.next=23;break}return e.abrupt("return",t.$toast.fail(t.$t("fastJoin.text16")));case 23:if(t.isMiner){e.next=28;break}return t.show=!1,e.abrupt("return",t.$store.commit("registerShow",!0));case 28:if(!(n>r)){e.next=35;break}return t.$refs.authorize.amount=n,t.$refs.authorize.contractName="UsdtToken",t.$refs.authorize.contractAddress=t.$pingSwapContracts.Pin.address,e.abrupt("return",t.$refs.authorize.toggle());case 35:if(o>t.getSpecifyTime(o,9)&&o<t.getSpecifyTime(o,10)||o>t.getSpecifyTime(o,14)&&o<t.getSpecifyTime(o,15)||o>t.getSpecifyTime(o,19)&&o<t.getSpecifyTime(o,20)){e.next=37;break}return e.abrupt("return",t.$toast.fail(t.$t("fastJoin.text17")));case 37:for(i in t.selectList)t.selectList[i]===n&&t.doPin(i);case 38:case"end":return e.stop()}}),e)})))()},doPin:function(t){var e=this;if(this.orderResult)return this.$toast.fail(this.$t("fastJoin.text18"));this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Pin.address,method:"doPin",parameter:[t],options:{feeLimit:this.$store.state.generalFeeLimit.toSun()}}).then((function(n){n&&e.$pingSwapContracts.Pin.doPin(t).send({feeLimit:e.$store.state.generalFeeLimit.toSun()}).then((function(t){e.$loading(t).then((function(t){t&&(e.swithShow(),e.$emit("refreshList"),e.$store.commit("orderResult",!0),e.init(),e.$getBalance(),e.$toast.success(e.$t("fastJoin.text19")))}))}))}))},getSpecifyTime:function(t,e){var n=new Date(new Date(1e3*t).toLocaleDateString()).getTime()/1e3;return n+60*e*60}},mounted:function(){this.$pingSwapContracts&&this.init()}},c=i,u=c,l=(n("188f"),n("2877")),d=Object(l["a"])(u,s,a,!1,null,"217a1c34",null);e["default"]=d.exports},e58c:function(t,e,n){"use strict";var s=n("fc6a"),a=n("a691"),r=n("50c4"),o=n("a640"),i=n("ae40"),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),m=i("indexOf",{ACCESSORS:!0,1:0}),p=l||!d||!m;t.exports=p?function(t){if(l)return u.apply(this,arguments)||0;var e=s(this),n=r(e.length),o=n-1;for(arguments.length>1&&(o=c(o,a(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in e&&e[o]===t)return o||0;return-1}:u},e7c0:function(t,e,n){var s={"./transaction-banner-en.png":"5ca4","./transaction-banner-zh.png":"f809"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="e7c0"},ea78:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-overlay",{staticClass:"register",attrs:{show:t.registerShow,"lock-scroll":!1},on:{click:t.swithShow}},[s("div",{on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"registerTitle"},[s("img",{attrs:{src:n("42d3")}}),s("div",[s("div",[t._v(t._s(t.$t("register.text1"))),s("span",[t._v("PinSwap")])]),s("p",[t._v(t._s("register"==t.type?t.$t("register.text2"):t.$t("register.text3")))])])]),s("div",{staticClass:"registerInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.toCode,expression:"toCode"}],attrs:{type:"text",placeholder:t.$t("register.text4"),maxlength:"6"},domProps:{value:t.toCode},on:{input:[function(e){e.target.composing||(t.toCode=e.target.value)},function(e){t.toCode=t.toCode.replace(/[\W]/g,"")}]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fromCode,expression:"fromCode"}],attrs:{type:"text",placeholder:t.$t("register.text5"),maxlength:"6"},domProps:{value:t.fromCode},on:{input:[function(e){e.target.composing||(t.fromCode=e.target.value)},function(e){t.fromCode=t.fromCode.replace(/[\W]/g,"")}]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:t.$t("register.text6"),maxlength:"6"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"balance"},[s("div",[t._v(t._s(t.$t("register.text7"))+" "),s("span",[t._v(t._s(t.fee))]),t._v(" "+t._s("register"==t.type?"TRX":"USDT"))]),s("div",[s("span",[t._v(t._s(t.$t("register.text8"))+" "+t._s("register"==t.type?t.$store.state.balance.trx:t.$store.state.balance.usdt))]),s("div",{on:{click:function(e){t.$router.push("./startTeam"),t.swithShow()}}},[s("span",[t._v(t._s(t.$t("register.text37")))]),s("van-icon",{attrs:{name:"arrow"}})],1)])]),"register"==t.type?s("div",{staticClass:"registerButton"},[s("van-button",{staticClass:"but",attrs:{disabled:!t.checked},on:{click:t.detect}},[t._v(t._s(t.$t("register.text9")))]),s("van-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(t._s(t.$t("register.text10"))),s("span",{on:{click:function(e){e.stopPropagation(),t.joinRule=!0}}},[t._v(t._s(t.$t("register.text11")))]),t._v(t._s(t.$t("register.text12")))])],1):s("div",{staticClass:"startTeamButton"},[s("van-button",{staticClass:"but",on:{click:t.detect}},[t._v(t._s(t.$t("register.text9")))]),s("div",[s("p",[t._v(t._s(t.$t("register.text13")))]),s("div",{staticClass:"StartTeamText"},[s("div",[s("img",{attrs:{src:n("a48b")}}),s("span",[t._v(t._s(t.$t("register.text14")))])]),s("div",[s("img",{attrs:{src:n("21fb")}}),s("span",[t._v(t._s(t.$t("register.text15")))])]),s("div",[s("img",{attrs:{src:n("2a9c")}}),s("span",[t._v(t._s(t.$t("register.text16")))])])])])],1),s("self-authorize",{ref:"authorize",on:{send:t.superNode}}),s("van-overlay",{staticClass:"joinRule",attrs:{show:t.joinRule,"lock-scroll":!1},on:{click:function(e){t.joinRule=!1}}},[s("div",[s("div",{staticClass:"title van-hairline--bottom"},[s("img",{attrs:{src:n("42d3")}}),s("i",[t._v("Pin"),s("span",[t._v("Swap")])])]),s("div",{staticClass:"content"},[s("pre",[t._v(t._s(t.$t("register.text17"))+"\n"),s("span",[t._v(t._s(t.$t("register.text18")))]),t._v("\n\n"),s("span",[t._v(t._s(t.$t("register.text19")))]),t._v("\n"+t._s(t.$t("register.text20"))+"\n\n"),s("span",[t._v(t._s(t.$t("register.text21")))]),t._v("\n"+t._s(t.$t("register.text22"))+"\n\n"),s("span",[t._v(t._s(t.$t("register.text23")))]),t._v("\n    "+t._s(t.$t("register.text24"))+"\n\n"),s("span",[t._v(t._s(t.$t("register.text25")))]),t._v("\n"+t._s(t.$t("register.text26"))+"\n\n"),s("span",[t._v(t._s(t.$t("register.text27")))]),t._v("\n    "+t._s(t.$t("register.text28")))])]),s("span",[t._v(t._s(t.$t("register.text29")))])])])],1)])},a=[],r=(n("b0c0"),n("a9e3"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("5530"),i={components:{"self-authorize":function(){return Promise.resolve().then(n.bind(null,"38fc"))}},data:function(){return{checked:!1,toCode:"",fromCode:"",name:"",fee:2e3,type:"register",joinRule:!1}},computed:Object(o["a"])(Object(o["a"])({},Vuex.mapState(["registerShow"])),Vuex.mapState(["balance"])),methods:{swithShow:function(){this.$store.commit("registerShow",!this.registerShow)},detect:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=(new Date).getTime(),!(n<1617408e6)){e.next=3;break}return e.abrupt("return",vant.Toast.fail("前端维护，明日8:00开放..."));case 3:if(/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,s="register"==t.type?t.balance.trx:t.balance.usdt,6===t.fromCode.length){e.next=8;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text30")));case 8:if(!(t.toCode.length<=5&&t.toCode.length>=1)){e.next=12;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text31")));case 12:if(!(Number(s)<t.fee)){e.next=14;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text32")));case 14:return a=t.fromCode.toUpperCase().stringToHex(),r=t.name.stringToHex(),o=t.toCode.length?t.toCode.toUpperCase().stringToHex():"000000".toUpperCase().stringToHex(),e.next=19,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"shortCodeToAddress",issuerAddress:t.$address,parameter:[a]}).then();case 19:return i=e.sent,e.next=22,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"shortCodeToAddress",issuerAddress:t.$address,parameter:[o]}).then();case 22:if(c=e.sent,"410000000000000000000000000000000000000000"!==window.tronWeb.address.toHex(c)){e.next=27;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text33")));case 27:if("410000000000000000000000000000000000000000"==window.tronWeb.address.toHex(i)){e.next=29;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text34")));case 29:if("register"==t.type){e.next=38;break}return e.next=32,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.UsdtToken.address,method:"allowance",parameter:[t.$address,t.$pingSwapContracts.Relation.address]}).then();case 32:if(u=e.sent.toString().fromSun(),!(t.fee>u)){e.next=38;break}return t.$refs.authorize.amount=t.fee,t.$refs.authorize.contractName="UsdtToken",t.$refs.authorize.contractAddress=t.$pingSwapContracts.Relation.address,e.abrupt("return",t.$refs.authorize.toggle());case 38:"register"==t.type?t.bind(c,a,t.PrefixZero(r,32)):t.superNode(c,a,t.PrefixZero(r,32));case 39:case"end":return e.stop()}}),e)})))()},bind:function(t,e,n){var s=this;this.$store.commit("loadingShow",!0),this.$pingSwapContracts.Relation.addRelationEx(t,e,n).send({shouldPollResponse:!0,feeLimit:this.$store.state.generalFeeLimit.toSun(),callValue:this.fee.toString().toSun()}).then((function(t){s.$store.commit("loadingShow",!1),localStorage.setItem("bind","true"),s.swithShow(),s.$getBalance(),s.$toast.success(s.$t("register.text35")),s.$emit("refreshData")})).catch((function(t){s.$store.commit("loadingShow",!1),s.$toast.fail(s.$t("register.text36")),console.log(t),console.log(t.output.contractResult[0].hexToString())}))},superNode:function(t,e,n){var s=this;this.$store.commit("loadingShow",!0),this.$pingSwapContracts.Relation.addSupperRelationEx(t,e,n).send({shouldPollResponse:!0,feeLimit:this.$store.state.generalFeeLimit.toSun(),callValue:this.fee.toString().toSun()}).then((function(t){s.$store.commit("loadingShow",!1),s.swithShow(),s.$getBalance(),s.$toast.success(s.$t("register.text35")),s.$emit("refreshData")})).catch((function(t){s.$store.commit("loadingShow",!1),s.$toast.fail(s.$t("register.text36")),console.log(t),console.log(t.output.contractResult[0].hexToString())}))}}},c=i,u=c,l=(n("31ae"),n("2877")),d=Object(l["a"])(u,s,a,!1,null,"4f4a3374",null);e["default"]=d.exports},f305:function(t,e,n){"use strict";n("0f78")},f364:function(t,e,n){"use strict";n("956e")},f572:function(t,e,n){},ffd1:function(t,e,n){}}]);