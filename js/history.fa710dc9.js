(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["history"],{"10de":function(t,e,s){},"42c1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"joinGroupHistoryBox"},[a("div",{staticClass:"joinGroupHistory"},[a("div",{staticClass:"title"},[a("div",[a("div",{class:{active:!t.active,isJoin:t.isJoin},on:{click:function(e){t.active=!1}}},[t._v(" "+t._s(t.$t("joinGroupHistory.text2"))+" ")]),a("div",{class:{active:t.active},on:{click:function(e){t.active=!0}}},[t._v(" "+t._s(t.$t("joinGroupHistory.text1"))+" ")])])]),a("div",{staticClass:"list"},[t._l(t.active?t.allList:t.myList,(function(e){return a("div",{key:e.id,staticClass:"content"},[a("div",{staticClass:"title"},[a("div",[a("span",[t._v(" "+t._s(t.$t("history.text1"))+": ")]),a("span",[t._v(t._s(e.id))])]),a("div",[a("span",[t._v(t._s(t.$t("history.text2")))]),a("span",{staticClass:"state"},[t._v(t._s(e.stateText))])])]),a("div",{staticClass:"middle"},[a("div",{staticClass:"left-middle"},[a("div",[a("span",[t._v(t._s(t.$t("history.text3")))]),a("span",{staticClass:"blue"},[t._v(t._s(e.awardBlock))])]),a("div",[a("span",[t._v(t._s(t.$t("history.text4")))]),a("span",{staticClass:"blue"},[t._v(t._s(3===e.status?e.luckyNum:t.$t("history.text6")))])]),a("div",[a("span",[t._v(t._s(t.$t("history.text7")))]),a("div",[a("span",{staticClass:"bull"},[t._v(t._s(e.popleNum))]),a("span",[t._v("/10")])])])]),a("div",[a("img",{attrs:{src:s("fb37"),alt:""}}),a("button",{on:{click:function(s){return t.$router.push({path:"/Piece",query:{id:e.id}})}}},[t._v(t._s(t.$t("history.text8")))])])]),a("div",{staticClass:"hash"},[t._v(t._s(t.$t("history.text9"))+t._s(e.hash))])])})),a("div",{directives:[{name:"show",rawName:"v-show",value:t.active?!t.allList.length:!t.myList.length,expression:"active ? !allList.length : !myList.length"}],staticClass:"empty"},[a("img",{attrs:{src:s("c4ee")}}),a("span",[t._v(t._s(t.$t("history.text10")))])])],2)])])},n=[],r=(s("99af"),s("fb6a"),s("a9e3"),s("d3b7"),s("96cf"),s("1da1")),i={data:function(){return{active:!1,allList:[],myList:[],isJoin:!1}},created:function(){this.$contracts&&this.init()},methods:{init:function(){var t=this,e=new this.$web3.BatchRequest;e.add(this.$contracts.Pin.methods.getMyNewRounds(this.$address).call.request({from:this.$address})),e.add(this.$contracts.Pin.methods.getWorldNewRound().call.request({from:this.$address})),e.requestManager.sendBatch(e.requests,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(s,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s){e.next=9;break}return n=a[0].result.decode(["uint256[]"]),r=a[1].result.decode(["uint256[]"]),e.next=5,t.getList(n);case 5:return t.myList=e.sent,e.next=8,t.getList(r);case 8:t.allList=e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())},getList:function(t){var e=this;return new Promise((function(s){var a=[],n=new e.$web3.BatchRequest;n.add(e.$web3.eth.getBlockNumber.request());for(var i=0;i<t.length;i++)n.add(e.$contracts.Pin.methods.rounds(t[i]).call.request({from:e.$address})),n.add(e.$contracts.Pin.methods.getRoundPlayers(t[i]).call.request({from:e.$address}));n.requestManager.sendBatch(n.requests,function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(r,i){var c,u,o,l,d,h,p,v,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r){n.next=30;break}c=Number(i[0].result),u=i.slice(1),o=0;case 4:if(!(o<u.length)){n.next=29;break}if(l=u[o].result.decode([{name:"payment",type:"uint256"},{name:"prepareBlock",type:"uint256"},{name:"power",type:"uint256"},{name:"stallIndex",type:"uint8"},{name:"luckyValue",type:"uint8"},{name:"sender",type:"address"}]),d=l.payment,h=l.prepareBlock,p=l.luckyValue,v=u[o+1].result.decode(["address[]"]),m=e.getDrawState(Number(h),Number(p),c),n.t0=a,n.t1=m,n.t2=d.fromWei(),n.t3=e.getStateText(m),n.t4=t[Math.ceil(o/2)],n.t5=Number(h)+10,n.t6=Number(p),n.t7=v.length,3!==m){n.next=22;break}return n.next=19,e.getBlockHash(Number(h)+10);case 19:n.t8=n.sent,n.next=23;break;case 22:n.t8=e.$t("history.text12");case 23:n.t9=n.t8,n.t10={status:n.t1,currentAward:n.t2,stateText:n.t3,id:n.t4,awardBlock:n.t5,luckyNum:n.t6,popleNum:n.t7,hash:n.t9},n.t0.push.call(n.t0,n.t10);case 26:o+=2,n.next=4;break;case 29:s(a);case 30:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}())}))},getDrawState:function(t,e,s){return 0===t?1:s>=t&&s<=t+10?2:s>t+10&&e>=0&&e<10?3:s>t&&s<t+255?4:5},getStateText:function(t){switch(t){case 1:return this.$t("history.text13");case 2:return this.$t("history.text14");case 3:return this.$t("history.text11");case 4:return this.$t("history.text15");default:return this.$t("history.text16")}},getBlockHash:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$web3.eth.getBlock(t);case 2:return a=s.sent,s.abrupt("return","".concat(a.hash.slice(0,5),"...").concat(a.hash.slice(-30)));case 4:case"end":return s.stop()}}),s)})))()}}},c=i,u=c,o=(s("9e24"),s("2877")),l=Object(o["a"])(u,a,n,!1,null,"6b2d4e4c",null);e["default"]=l.exports},"9e24":function(t,e,s){"use strict";s("10de")},c4ee:function(t,e,s){t.exports=s.p+"img/mining-empty.5b74e5fe.png"},fb37:function(t,e,s){t.exports=s.p+"img/delegationlogo.d0dc217b.png"}}]);