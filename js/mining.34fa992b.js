(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mining"],{"159b":function(t,n,e){var i=e("da84"),a=e("fdbc"),s=e("17c2"),r=e("9112");for(var c in a){var o=i[c],u=o&&o.prototype;if(u&&u.forEach!==s)try{r(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(t,n,e){"use strict";var i=e("b727").forEach,a=e("a640"),s=e("ae40"),r=a("forEach"),c=s("forEach");t.exports=r&&c?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,n,e){"use strict";var i=e("23e7"),a=e("17c2");i({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4e23":function(t,n,e){"use strict";e("7be1")},"7be1":function(t,n,e){},"89b4":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"mining tabbar-page"},[i("div",{staticClass:"miningTop"},[i("div",{staticClass:"miningMenus"},[i("div",{staticClass:"miningMenusText"},[t._m(0),i("span",[t._v(t._s(t.$t("mining.text1")))])]),i("div",{staticClass:"menus"},[i("span",[t._v("V2")]),i("img",{attrs:{src:e("88d5")},on:{click:function(n){t.miningMenus=!t.miningMenus}}})]),i("van-overlay",{staticClass:"miningMenusNav",attrs:{show:t.miningMenus},on:{click:function(n){t.miningMenus=!t.miningMenus}}},[i("div",{on:{click:function(t){t.stopPropagation()}}},[i("div",{on:{click:function(n){return t.$router.push("./margin")}}},[i("img",{attrs:{src:e("91cd")}}),i("span",[t._v(t._s(t.$t("mining.text3")))]),i("img",{attrs:{src:e("93cf")}})]),i("div",{on:{click:function(n){return t.$router.push("./income")}}},[i("img",{attrs:{src:e("bced")}}),i("span",[t._v(t._s(t.$t("mining.text4")))]),i("img",{attrs:{src:e("93cf")}})]),i("div",{on:{click:t.stop}},[i("img",{attrs:{src:e("f23e")}}),i("span",[t._v(t._s(t.$t("mining.text5")))]),i("img",{attrs:{src:e("93cf")}})]),i("div",{on:{click:t.stop}},[i("img",{attrs:{src:e("d9eb")}}),i("span",[t._v(t._s(t.$t("mining.text6")))]),i("img",{attrs:{src:e("93cf")}})]),i("div",{on:{click:function(n){return t.$router.push("/transaction")}}},[i("img",{attrs:{src:e("a3e4")}}),i("span",[t._v("PinSwap")]),i("img",{attrs:{src:e("93cf")}})]),i("div",{on:{click:function(n){return t.$router.push("/token-info")}}},[i("img",{attrs:{src:e("398a")}}),i("span",[t._v(t._s(t.$t("mining.text8")))]),i("img",{attrs:{src:e("93cf")}})]),i("div",{on:{click:function(n){return t.$router.push("/assets")}}},[i("img",{attrs:{src:e("a7ec")}}),i("span",[t._v(t._s(t.$t("mining.text9")))]),i("img",{attrs:{src:e("93cf")}})])])])],1),i("div",{staticClass:"luckyMining"},[i("span",[t._v(t._s(t.info.canDraw.toFixed(6)))]),i("van-button",{directives:[{name:"ButClickLimit",rawName:"v-ButClickLimit"}],attrs:{disabled:!(!1===t.info.isMiner||!0===t.info.isMiner)},on:{click:t.registerClick}},[t._v(t._s(!1===t.info.isMiner?t.$t("mining.text11"):!0===t.info.isMiner?t.$t("mining.text12"):t.$t("mining.text22")))]),i("div",{staticClass:"luckyMiningData"},[i("div",{on:{click:function(n){return t.$router.push({path:"/record",query:{type:2}})}}},[i("span",[t._v(t._s(t.$t("mining.text13")))]),i("span",[t._v(t._s(t.info.myPower))])]),i("div"),i("div",{on:{click:function(n){return t.$router.push({path:"/record",query:{type:3}})}}},[i("span",[t._v(t._s(t.$t("mining.text14")))]),i("span",[t._v(t._s(t.info.totalMing))])])])],1)]),i("div",{staticClass:"joinGroup"},[i("div",[i("span",[t._v(t._s(t.$t("mining.text15"))+"Pin"+t._s(t.$t("mining.text16")))]),i("span",[t._v(t._s(t.$t("mining.text17")))]),i("van-button",{on:{click:t.stop}},[t._v(t._s(t.$t("mining.text18")))])],1),i("div",[i("span",[t._v(t._s(t.$t("mining.text23")))]),i("span",[t._v(t._s(t.$t("mining.text24")))]),i("van-button",{on:{click:t.stop}},[t._v(t._s(t.$t("mining.text25")))])],1)]),i("div",{staticClass:"LatestParticipation"},[i("span",[t._v(t._s(t.$t("mining.text26")))]),i("span",{on:{click:t.stop}},[t._v(t._s(t.$t("mining.text27"))+">")])]),t._l(t.latestJoin,(function(n){return i("div",{key:n.id,staticClass:"Matching"},[i("div",{staticClass:"center"},[i("div",{staticClass:"canvas"},[i("div",{staticClass:"pieChart"}),i("div",{staticClass:"Middlenumber"},[i("div",{staticClass:"up"}),i("i"),i("div",{staticClass:"center-number"},[t._v(t._s(n.luckyNum))]),i("div",{staticClass:"down"})])]),i("div",{staticClass:"Leftinformation"},[i("div",{staticClass:"leftMatching"},[0===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"zh"==t.$i18n.locale,expression:"$i18n.locale == 'zh' "}],attrs:{src:e("fb3f")}}):1===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"zh"==t.$i18n.locale,expression:"$i18n.locale == 'zh' "}],attrs:{src:e("758e")}}):2===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"zh"==t.$i18n.locale,expression:"$i18n.locale == 'zh' "}],attrs:{src:e("e49d")}}):3===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"zh"==t.$i18n.locale,expression:"$i18n.locale == 'zh' "}],attrs:{src:e("fd98")}}):i("img",{directives:[{name:"show",rawName:"v-show",value:"zh"==t.$i18n.locale,expression:"$i18n.locale == 'zh' "}],attrs:{src:e("4b7f")}}),0===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"en"==t.$i18n.locale,expression:"$i18n.locale == 'en' "}],attrs:{src:e("d93f")}}):1===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"en"==t.$i18n.locale,expression:"$i18n.locale == 'en' "}],attrs:{src:e("6a71")}}):2===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"en"==t.$i18n.locale,expression:"$i18n.locale == 'en' "}],attrs:{src:e("61a0")}}):3===n.status?i("img",{directives:[{name:"show",rawName:"v-show",value:"en"==t.$i18n.locale,expression:"$i18n.locale == 'en' "}],attrs:{src:e("d99a")}}):i("img",{directives:[{name:"show",rawName:"v-show",value:"en"==t.$i18n.locale,expression:"$i18n.locale == 'en' "}],attrs:{src:e("6eda")}})]),i("span",[t._v(t._s(t.$t("mining.text28"))+t._s(n.id))]),i("span",[t._v(t._s(t.$t("mining.text29"))+t._s(n.awardBlock))]),i("span",[t._v(t._s(t.$t("mining.text30"))+t._s(n.luckyNum))]),i("div",{staticClass:"usdt"},[i("img",{attrs:{src:e("495a"),alt:""}}),i("span",[t._v(t._s(n.payment)+" USDT")])]),i("div",{staticClass:"Matchdetails"},[i("button",{on:{click:t.stop}},[t._v(t._s(t.$t("mining.text31")))]),i("button",{on:{click:t.stop}},[t._v(t._s(t.$t("mining.text33")))])])])])])})),i("register",{ref:"register",on:{refreshData:t.init}}),t.getShiftSwitch?i("fast-join",{ref:"fastJoin",on:{refreshList:t.refreshList}}):t._e()],2)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("i",[e("span",[t._v("Pin")]),t._v("Swap")])}],s=(e("99af"),e("4160"),e("caad"),e("baa5"),e("d81d"),e("a9e3"),e("b680"),e("d3b7"),e("25f0"),e("2532"),e("3ca3"),e("159b"),e("ddb0"),e("3835")),r=(e("96cf"),e("1da1")),c=e("d4ec"),o=e("bee2"),u=function(){function t(n){Object(c["a"])(this,t),this.echart=echarts.init(n),this.echart.setOption({tooltip:{show:!1},color:["#2D92FD","#57AEFD","#57AEFD","#1870D9","#1B7AE7","#1E84F5","#2D92FD","#409FFD","#57AEFD","#6BBBFD"],series:[{name:"访问来源",type:"pie",radius:["50%","90%"],avoidLabelOverlap:!1,label:{show:!0,position:"inside",color:"#fff",fontSize:"10"},animation:!1,emphasis:{scaleSize:10},startAngle:109,labelLine:{show:!1},data:[{value:1,name:"0"},{value:1,name:"1"},{value:1,name:"2"},{value:1,name:"3"},{value:1,name:"4"},{value:1,name:"5"},{value:1,name:"6"},{value:1,name:"7"},{value:1,name:"8"},{value:1,name:"9"}]}]})}return Object(o["a"])(t,[{key:"set",value:function(t){this.echart.setOption({color:t})}}]),t}(),l={components:{register:function(){return Promise.all([e.e("tokenInfo"),e.e("communityManagement~transaction"),e.e("transaction")]).then(e.bind(null,"ea78"))},"fast-join":function(){return Promise.all([e.e("tokenInfo"),e.e("communityManagement~transaction"),e.e("transaction")]).then(e.bind(null,"e531"))}},data:function(){return{miningMenus:!1,info:{isMiner:"",canDraw:0,myPower:0,totalMing:0},lv:0,getShiftSwitch:!1,latestJoin:[]}},created:function(){this.$pingSwapContracts&&this.init()},methods:{init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.miningMenus=!1,Promise.all([t.$tronWeb.callNotDeployed({contractAddress:t.$pingSwapContracts.Mine.address,method:"mineInfo()"}).then(),t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"myIsMiner",parameter:[t.$address]}).then()]).then((function(n){var e=Object(s["a"])(n,2),i=e[0],a=e[1],r=i.constant_result[0].decode(["uint256","uint256","uint256","uint256","bool"],["myPower","canDraw","drawed","todayAmount","isMiner"]);t.info={isMiner:a,canDraw:r.canDraw.toString().fromSun().toFixed(4),myPower:r.myPower.toString().toFixed(4),totalMing:r.drawed.toString().fromSun().toFixed(4)},t.$store.commit("isMiner",a)})),t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"getShiftSwitch"}).then((function(n){t.getShiftSwitch=n})),t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"infos",parameter:[!1]}).then((function(n){var e=[];n.hashs.forEach((function(t,i){e.push({status:n.status[i]-1,id:n.numbers[i].toNumber(),awardBlock:n.blocks[i].toNumber(),luckyNum:n.values[i]>=0&&n.values[i]<=9?n.values[i]:"?",payment:500,isPin:!1})})),t.latestJoin=e,t.$nextTick((function(){var t=document.querySelectorAll(".pieChart");t.forEach((function(t,n){var i=["#10499A","#1155B4","#1666CB","#1870D9","#1B7AE7","#1E84F5","#2D92FD","#409FFD","#57AEFD","#6BBBFD"],a=["#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5","#C9D7F5"];a[e[n].luckyNum]=i[e[n].luckyNum];var s=new u(t);s.set(a),s.echart.dispatchAction({type:"highlight",dataIndex:e[n].id})}))}))})).catch((function(t){}));case 4:case"end":return n.stop()}}),n)})))()},hashResult:function(t,n){var e=t.lastIndexOf(n);if(e===t.length-1){var i="".concat(t.substring(0,e),"<span>").concat(n,"</span>");return{newHash:"".concat(i.substr(0,5),"...").concat(i.substr(48)),originalHash:t}}var a="".concat(t.substring(0,e),"<span>").concat(n,"</span>").concat(t.substring(e+1,t.length));return{newHash:"".concat(a.substr(0,5),"...").concat(a.substr(48)),originalHash:t}},getDrawState:function(t,n){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==t){i.next=2;break}return i.abrupt("return",1);case 2:return i.next=4,e.$tronWeb.getBlockNumber();case 4:if(a=i.sent,!(a>=t&&a<=t+10)){i.next=9;break}return i.abrupt("return",2);case 9:if(!(a>t+10&&n>=0&&n<10)){i.next=13;break}return i.abrupt("return",3);case 13:if(!(a>t&&a<t+255)){i.next=17;break}return i.abrupt("return",4);case 17:return i.abrupt("return",5);case 18:case"end":return i.stop()}}),i)})))()},searchIsPin:function(t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$tronWeb.call({contractAddress:n.$pingSwapContracts.Pin.address,method:"getRoundPlayers",parameter:[t]});case 2:return i=e.sent,e.abrupt("return",i.map((function(t){return window.tronWeb.address.fromHex(t)})).includes(n.$address));case 4:case"end":return e.stop()}}),e)})))()},refreshList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"getMyNewRounds",parameter:[t.$address]});case 2:e=n.sent,e.length>0&&t.$router.push({path:"/Piece",query:{id:e[0].toString()}});case 4:case"end":return n.stop()}}),n)})))()},drawPin:function(){var t=this;if(!Number(this.info.canDraw))return this.$toast.fail(this.$t("mining.text19"));this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Mine.address,method:"drawPin",options:{feeLimit:this.$store.state.generalFeeLimit.toSun()}}).then((function(n){n&&t.$pingSwapContracts.Mine.drawPin().send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(n){t.$loading(n).then((function(n){n&&(t.init(),t.$getBalance(),t.$toast.success(t.$t("mining.text20")))}))}))}))},startTeam:function(){this.info.isMiner?(this.miningMenus=!1,vant.Toast.fail(this.$t("mining.text21"))):this.$router.push("./startTeam")},registerClick:function(){if(!this.info.isMiner)return vant.Toast.fail("暂未开放");this.drawPin()},stop:function(){return vant.Toast.fail("暂未开放")}}},m=l,d=m,h=(e("4e23"),e("2877")),f=Object(h["a"])(d,i,a,!1,null,"7d4b847d",null);n["default"]=f.exports},"93cf":function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAXCAYAAADZTWX7AAABu0lEQVQ4T3WSsWsUQRTGv/fm9iSChc2hEgyCRSyVoBaBFAFTeNztzuH8DZaaNkVOEUuvPvwPxt2ZwusMGBAEMYE7UghaiMSAjQpi5aw+meMirre+amb48b433/soz/NrSqkHRLSdpulL1BQ55ywR3QJwmGXZ+VqoKIolZn4LoAmgn2XZvX9Big/OubtE9EhEfjSbzTPtdvvr3+AUGg6HJ1ut1jsA54hoZzweb/T7/V/H4BSKVRTFFWbej2el1NVOp/N6DhIR8t4/JaKbIvKxLMtLxpjvEfzTKV6stQtJksR5ThDRZpqmgzloJnuHmQfxE2VZLhtj3lc6Hc/gnDskokUReaK1NrVQURTXmfkFgAYzt2uhmXdviGgZwN7/5NaiX7ETEd2uhbz3R9FYAK8mk8nqHOS93447jJIhhBVjzH4FGo1Gp0MIn+KyReSh1nqr4pO1ViVJsgtgFcC3EMIFY8yXCuS9XwcQhwUz3+h2u88qu5vJfABwCsBBCOGyMeZnBXLOxfhuiUgAcFZr/bmSpzzPV5RS01iIyEBrvTmXTOfcLhGticiR1nqxNuPW2ouNRuO+iDzu9XrP66DfAtetSatIZ0YAAAAASUVORK5CYII="},baa5:function(t,n,e){var i=e("23e7"),a=e("e58c");i({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},e58c:function(t,n,e){"use strict";var i=e("fc6a"),a=e("a691"),s=e("50c4"),r=e("a640"),c=e("ae40"),o=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,m=r("lastIndexOf"),d=c("indexOf",{ACCESSORS:!0,1:0}),h=l||!m||!d;t.exports=h?function(t){if(l)return u.apply(this,arguments)||0;var n=i(this),e=s(n.length),r=e-1;for(arguments.length>1&&(r=o(r,a(arguments[1]))),r<0&&(r=e+r);r>=0;r--)if(r in n&&n[r]===t)return r||0;return-1}:u}}]);