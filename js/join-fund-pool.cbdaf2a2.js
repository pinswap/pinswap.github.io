(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["join-fund-pool"],{1308:function(t,e,n){t.exports=n.p+"img/pancanke.bc00dba4.svg"},1500:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"join-fund-pool"},[a("div",{staticClass:"container-box"},[a("div",{staticClass:"form-container"},[a("div",{staticClass:"liquidity"},[a("span",[t._v(t._s(t.$t("joinFundPool.text15")))]),a("img",{attrs:{src:n("356a")}})]),a("div",{staticClass:"tokens"},[a("div",{staticClass:"token"},[t._m(0),a("span",{domProps:{textContent:t._s(t.$t("joinFundPool.text2"))}}),a("span",[t._v(t._s(t.trx))])]),a("div",{staticClass:"logos"},[a("img",{attrs:{src:n("90bd")}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.tokenInfo.tokenLogoUrl,expression:"tokenInfo.tokenLogoUrl"}],attrs:{src:t.tokenInfo.tokenLogoUrl}})]),a("div",{staticClass:"token"},[a("div",{staticClass:"symbol select",on:{click:t.openSearch}},[a("span",[t._v(t._s(t.tokenInfo.tokenSymbol||t.$t("joinFundPool.text3")))]),a("img",{attrs:{src:n("8d5b")}})]),a("span",{domProps:{textContent:t._s(t.$t("joinFundPool.text2"))}}),a("span",[t._v(t._s(t.token))])])]),a("div",{staticClass:"inputs"},[a("van-field",{attrs:{type:"number",placeholder:t.$t("joinFundPool.text4")},on:{input:t.inputTRX},model:{value:t.assets1,callback:function(e){t.assets1=e},expression:"assets1"}}),a("span",[t._v("+")]),a("van-field",{attrs:{type:"number",placeholder:t.$t("joinFundPool.text4")},on:{input:t.inputToken},model:{value:t.assets2,callback:function(e){t.assets2=e},expression:"assets2"}})],1),a("div",{staticClass:"rate"},[a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1 TRX = "+t._s(t.rate)+" "+t._s(t.tokenInfo.tokenSymbol))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1 "+t._s(t.tokenInfo.tokenSymbol)+" = "+t._s(t.rate)+" TRX")]),a("img",{attrs:{src:n("1b07")},on:{click:t.switchRate}})]),a("div",{staticClass:"assetspool"},[t._v(t._s(t.$t("mkHeader.text3"))+" $ "+t._s(t.assetsPool))]),a("span",[t._v(t._s(t.$t("joinFundPool.text6"))+" "+t._s(t.prop))])]),a("van-button",{attrs:{type:"info"},on:{click:t.addLiquidity}},[t._v(t._s(t.$t("joinFundPool.text7")))])],1),t._l(t.list,(function(e){return a("div",{key:e.address,staticClass:"your-share"},[a("div",[a("div",{staticClass:"logos"},[a("img",{attrs:{src:n("90bd")}}),a("img",{attrs:{src:e.logo}})]),a("div",{staticClass:"lp"},[a("span",[t._v("LP: "+t._s(e.lp))]),a("span",[t._v(t._s(e.myShare)+"%")])])]),a("div",[a("div",{staticClass:"info"},[a("span",[t._v("TRX： "+t._s(e.trx))]),a("span",[t._v(t._s(e.symbol)+"： "+t._s(e.token))])]),a("van-button",{attrs:{type:"info"},on:{click:function(n){t.$router.push({path:"/redemption",query:{info:JSON.stringify(e)}})}}},[t._v(t._s(t.$t("joinFundPool.text11")))])],1)])}))],2),a("search-tokens",{ref:"searchTokens",on:{select:t.select}})],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"symbol"},[n("span",[t._v("TRX")])])}],i=(n("99af"),n("4de4"),n("d81d"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("b4e9"),r=n("a981"),u=n("3952"),l={components:{"mk-navbar":function(){return Promise.all([n.e("tokenInfo"),n.e("join-fund-pool")]).then(n.bind(null,"0861"))},"search-tokens":function(){return Promise.all([n.e("tokenInfo"),n.e("join-fund-pool")]).then(n.bind(null,"bab4"))}},data:function(){return{assets1:"",assets2:"",list:[],tokenInfo:o["c"],trx:"--",token:"--",rate:"--",prop:"0%",exTrxBalance:0,exTokenBalace:0,totalLiquidity:0,contract:null,trxInputing:!1,tokenInputing:!1,allowance:0,rateChanged:!1,assetsPool:0}},created:function(){this.$utils&&this.init()},methods:{openSearch:function(){this.$refs.searchTokens.open()},select:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s,i,u,l,p,d,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.token,"TRX"!==a.tokenSymbol){n.next=3;break}return n.abrupt("return",vant.Toast.fail(e.$t("joinFundPool.text12")));case 3:return e.tokenInfo=a,e.contract=tronWeb.contract(r,a.address),n.next=7,e.$utils.call({contractAddress:a.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 7:return e.token=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(a.tokenDecimal).toFixed(2),n.next=10,Object(o["q"])(e.tokenInfo.address);case 10:return s=n.sent,i=s.data,e.assetsPool=Math.floor(i.totalLiquidity),n.next=15,e.$utils.call({contractAddress:"TCNYd8L5hBey9FwPpvgtvDaY2cHjMFVLZu",method:"getSingleInfo(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:a.tokenAddress}]});case 15:u=n.sent.constant_result[0].tronDecode(["address","uint256","uint256","uint256","uint256","uint256","uint256","uint256"],["_exchangeAddr","_allowance","_exTokenBalace","_exTrxBalance","_totalLiquidity","_userUniAmount","_userTrxAmount","_userTokenAmount"]),l=u._exTrxBalance,p=u._exTokenBalace,d=u._totalLiquidity,c=u._allowance,e.exTrxBalance=l.toString().tronToBN(),e.exTokenBalace=p.toString().tronToBN(),e.totalLiquidity=d.toString().tronToBN(),e.allowance=c.toString().fromSun(a.tokenDecimal),e.rate="1".toSun().tronToBN().multipliedBy(e.exTokenBalace).div(e.exTrxBalance).toString().fromSun(e.tokenInfo.tokenDecimal);case 25:case"end":return n.stop()}}),n)})))()},addLiquidity:function(){var t=this;if(this.trx<Number(this.assets1))return vant.Toast.fail("TRX"+this.$t("joinFundPool.text13"));if(this.token<Number(this.assets2))return vant.Toast.fail("".concat(this.tokenInfo.tokenSymbol).concat(this.$t("joinFundPool.text13")));if(this.allowance<Number(this.assets2))return this.approve();var e=Math.floor((new Date).getTime()/1e3)+600,n=this.assets1.toSun().tronToBN(),a=n.multipliedBy(.05);this.contract.addLiquidity(n.minus(a).div(this.exTrxBalance).multipliedBy(this.totalLiquidity).toFixed(0),n.plus(a).multipliedBy(this.exTokenBalace).div(this.exTrxBalance).toFixed(0),e).send({callValue:this.assets1.toSun()}).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$loading(n);case 2:a=e.sent,a&&(t.assets1="",t.assets2="",t.init());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},approve:function(){var t=this,e=tronWeb.contract(u,this.tokenInfo.tokenAddress);e.approve(this.tokenInfo.address,this.assets2.toSun(this.tokenInfo.tokenDecimal)).send().then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$loading(n);case 2:if(a=e.sent,!a){e.next=8;break}return e.next=6,t.$utils.call({contractAddress:t.tokenInfo.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:t.tokenInfo.address}]});case 6:t.allowance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun(t.tokenInfo.tokenDecimal),t.addLiquidity();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},switchRate:function(){if(!this.tokenInfo.address)return vant.Toast.fail(this.$t("joinFundPool.text14"));this.rateChanged=!this.rateChanged,this.rateChanged?this.rate="1".toSun(this.tokenInfo.tokenDecimal).tronToBN().multipliedBy(this.exTrxBalance).div(this.exTokenBalace).toString().fromSun().toFixed(6):this.rate="1".toSun().tronToBN().multipliedBy(this.exTokenBalace).div(this.exTrxBalance).toString().fromSun(this.tokenInfo.tokenDecimal)},inputTRX:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.tokenInputing){e.next=2;break}return e.abrupt("return",t.tokenInputing=!1);case 2:if(""!==t.assets1){e.next=6;break}return t.assets2="",t.prop="--",e.abrupt("return",!1);case 6:t.trxInputing=!0,t.assets1.length>0&&(t.assets2=t.assets1.toSun().tronToBN().multipliedBy(t.exTokenBalace).div(t.exTrxBalance).toString().fromSun(t.tokenInfo.tokenDecimal).toFixed(t.tokenInfo.tokenDecimal)),n=t.assets1.toSun().tronToBN(),t.prop="".concat(n.div(t.exTrxBalance.plus(n)).multipliedBy("100".tronToBN()).toString().toFixed(6),"%");case 10:case"end":return e.stop()}}),e)})))()},inputToken:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.trxInputing){e.next=2;break}return e.abrupt("return",t.trxInputing=!1);case 2:if(""!==t.assets2){e.next=6;break}return t.assets1="",t.prop="--",e.abrupt("return",!1);case 6:t.tokenInputing=!0,t.assets2.length>0&&(t.assets1=t.assets2.toSun(t.tokenInfo.tokenDecimal).tronToBN().multipliedBy(t.exTrxBalance).div(t.exTokenBalace).toString().fromSun().toFixed(6)),n=t.assets1.toSun().tronToBN(),t.prop="".concat(n.div(t.exTrxBalance.plus(n)).multipliedBy("100".tronToBN()).toString().toFixed(6),"%");case 10:case"end":return e.stop()}}),e)})))()},init:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,r,u,l,p,d,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query,n.token?t.select({token:JSON.parse(n.token)}):t.select({token:o["c"]}),e.next=4,tronWeb.trx.getBalance(t.$address);case 4:return t.trx=e.sent.fromSun().toFixed(2),e.next=7,Object(o["n"])(t.$address);case 7:return a=e.sent.data.liquidityList.filter((function(t){return t.jswapBalance>0})),s=a.map((function(t){return t.address})),e.next=11,t.$utils.call({contractAddress:"TCNYd8L5hBey9FwPpvgtvDaY2cHjMFVLZu",method:"getPool(address,address[])",parameter:[{type:"address",value:t.$address},{type:"address[]",value:s}]});case 11:for(i=e.sent.constant_result[0].decode(["uint256[]","uint256[]","uint256[]","uint256[]"],["_token","_trx","_uniToken","_totalsupply"]),r=i._token,u=i._trx,l=i._uniToken,p=i._totalsupply,d=[],c=0;c<s.length;c++)d.push({logo:a[c].tokenLogoUrl,symbol:a[c].tokenSymbol,token:r[c].toString().fromSun(a[c].tokenDecimal),trx:u[c].toString().fromSun(),lp:l[c].toString().fromSun(),myShare:l[c].toString().tronToBN().div(p[c].toString().tronToBN()).multipliedBy("100".tronToBN()).toString().toFixed(2),address:a[c].address,tokenAddress:a[c].tokenAddress,tokenDecimal:a[c].tokenDecimal});t.list=d;case 19:case"end":return e.stop()}}),e)})))()}}},p=l,d=p,c=(n("2512"),n("2877")),y=Object(c["a"])(d,a,s,!1,null,"2ac6cb9c",null);e["default"]=y.exports},"1b07":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAArCAMAAAAniNp/AAACB1BMVEUAAAAAAACAgIBVVVWAgIBmZmZVVVWAgIBgYGBmZmZqampiYmJ2dnZtbW1mZmZ3d3dwcHBpaWl4eHhxcXFra2tzc3NtbW1oaGh0dHRvb29qampwcHBsbGxoaGhxcXFtbW1qampycnJubm5zc3NwcHBsbGxxcXFtbW1xcXFubm5ycnJvb29wcHBra2txcXFxcXFtbW1wcHBra2twcHBubm5sbGxvb29tbW1xcXFtbW1sbGxubm5xcXFvb29wcHBubm5vb29xcXFvb29wcHBwcHBxcXFvb29ubm5wcHBwcHBwcHBvb29ubm5ubm5vb29wcHBvb29wcHBwcHBwcHBxcXFwcHBubm5wcHBvb29wcHBvb29wcHBvb29wcHBvb29wcHBvb29vb29vb29wcHBwcHBxcXFwcHBwcHBvb29wcHBwcHBxcXFwcHBvb29wcHBvb29wcHBvb29vb29vb29vb29wcHBwcHBwcHBwcHBvb29wcHBvb29wcHBvb29wcHBvb29wcHBvb29wcHBvb29wcHBwcHBvb29vb29wcHBwcHBwcHBwcHBvb29wcHBwcHBwcHBwcHBvb29wcHBwcHBwcHBvb29wcHBvb29wcHBwcHBwcHBvb29wcHBwcHBvb29vb29wcHBvb29wcHBwcHBxcXFwcHBwcHBvb29wcHBwcHBvb29wcHBwcHCQV+RjAAAArHRSTlMAAQIDBAUGBggKDA0NDg8PEBEREhMUFRYWFxgZGhsbHB0dHh8gISIjJCUmJykrKy0vMDIyMzQ1NjY4Ozw9PkBDRUZMUlRWV1hZW2Rnb3Z3e3x9gIaKi42Njo+RkpWWl5manJ+foqOkpqipq6ytrrCxsrO1t7i4uru9vsDBwsPExcbHyczMzc7P0NPU2Nra29zd39/h4uXm5+nq7e7w8vP19vf4+fn6+/z8/f7+3+FbNgAAAe9JREFUOMuN02dXE0EUBuDZTSSKWVsMokajYAsiNuyKBUWMil1RYi+IvYuxABbAhopRFIySjBkyO++P9AOHk93N7I7329zznJlz3zmXEEctG8CPxweW6MSr6jKA4D+PzPRC+s6mE2+Hke9d46l8/mDDixGRWk68y2ccpeL1FIUigeMmP6ZCZGIP0lGlqhfYr0SB73hi72jloSJ1GYOazdR97FzoRAchSq1mY0rwpxUOtBeYZTEb+gWQb59vR3EgUjDrPgsO5POPoq5Iq+0zs13AQzbyIOKCtJUfTNocB9ZeZezebDmqeW/SlmAjEJt2jbE75VL0zKQJgzQCMRK6ydhJKXozdMYgo4iEb/06J0WLthhkDJHw1jL5dDopIKK75WRF5P+R5reicXK0atfkAorsmStFX9JnjTE0ryN9WoqSnCaMURR9zrOHpGhBF6ctwTgwJ5Lk9Pwk+XSLX3LavA9Y3c7pxaluEcRe8WwP0MFzl0LuOS3t5hzgudbpXmFW93Ig1xa2tBqAakfgNe84u2E1ZAew2fkttd1tZbbGCoF40eKFS+3n8UO4riuX+gp+VynRJobWgAr57opcU4lKVX3D8OEJPoXaPij+JnfPCPg9B9j2iSOTup+o97yr8kLGFMCfoKcqWX+q8+vA7aL3/gGiXb7ce59HPAAAAABJRU5ErkJggg=="},2512:function(t,e,n){"use strict";n("6271")},2532:function(t,e,n){"use strict";var a=n("23e7"),s=n("5a34"),i=n("1d80"),o=n("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"356a":function(t,e,n){t.exports=n.p+"img/sunswap.d5b578aa.svg"},3952:function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"stop","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"owner_","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"wad","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"src","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"stopped","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"authority_","type":"address"}],"name":"setAuthority","outputs":[{"name":"result","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"wad","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"push","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"symbol_","type":"string"}],"name":"setSymbol","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"move","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"start","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"name_","type":"string"}],"name":"setName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"src","type":"address"},{"name":"guy","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"wad","type":"uint256"}],"name":"pull","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"symbol_","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"},{"anonymous":true,"inputs":[{"indexed":true,"name":"sig","type":"bytes4"},{"indexed":true,"name":"guy","type":"address"},{"indexed":true,"name":"foo","type":"bytes32"},{"indexed":true,"name":"bar","type":"bytes32"},{"indexed":false,"name":"sad","type":"uint256"},{"indexed":false,"name":"fax","type":"bytes"}],"name":"LogNote","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Transfer","type":"event"}]')},"44e7":function(t,e,n){var a=n("861d"),s=n("c6b6"),i=n("b622"),o=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==s(t))}},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},6271:function(t,e,n){},"6ca2":function(t,e,n){},"8d5b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAQCAQAAACrMwdZAAAAAXNSR0IArs4c6QAAAU5JREFUGBmVwU9oznEcAODn+9pmm1ptbFajHRQpubhJaQdKzYGSHFZqpDg4KCcuHOTCgVJy4DIXN2nJgQOTXZaWUIvtoDT/2rK332u/9/ehKP/2bu+eh9umHNOqfitsMuytvWTCnFPa1KfBViPCvHuMyIU5p7VbWoNtngph1iC9npgXys7qtLhG240Khc9OKvlhvYcqQtk53Wpr0mdMKEw7oeSXde7LhLILeixspd2eC4V3jir5Q4+7ykLmkl7/a9ZvXChMOiz5R7c7vgqZKzb4W7P9XgiFCQOSBaw1ZFbIXLPRby0OeilUvXJIUkOXm2aEihs2+6nVgNdC1bgDkkV0ue6LUHHLFqxyxIRQNWafZAmdrvokVAzZ4bg3Qu6Zfkkd1rjso/DNBzNC7rE9kjqtdtG0EELukV2SZehw3nsh90CfZJnanTFl2E5JDd8B8dZ4l22NkFAAAAAASUVORK5CYII="},"90bd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACoF8tmAAAMMUlEQVRoBeVbCVRU1xn+38zAsIsgAoKKCioaV9QBBZeYNNoobm1OtMnRpEkaU41GRRNbU9fkxO3Y1tajbT0aE9PTNGZxt0k1ggIKajSCgEZc2QVkHZiZ1/+/b+b5ZnizPGaMtr3nDO++++797/3u8m/3h4OHlHImJ/jpyyGZB0gw8aY+HMf14YGPAJ4L5IAPpG554OqA4+s44Ep5ni9QcaoCDiBX2xkyhu3PbXwYQ0P6nkunRo7szBubZyHI6cDzOnx6t4c6DqoFOC4bn/s4tc/eUadPl7eHjlwbjwA+NXLIaJOBS+M5mIBANXIdtbuM4wwcD0dUGn7DqNPnT7abjrmhW4AzdAnjcJuuxu2Y7O5AXGmPxyIDONWKlKycE67Ul6vTLsA5KQmRTS2mTTwPM+WIPuwyjoNPfL1Vi4el55Yo7Usx4IzEYRNNJtMnyHI6KO3Ms/W5WpVKNTM5K+ewEroqJZXTdQmLeZPxwKMHS6PmO9BYaExKMLi0wkUTJ2pLqkq3I+HZSoj/iHV3R4ZG/Cru8GG9sz6dAj6ZkhIG+oYvcUaTnBF7tN+5TND6Txmdnl7haBwOtzSt7H8HWIKIC4ILw8bsALFDwMI2ftxXVoqOTzIfPWmhVd4uYDMzeFzPrBUIm5fZjhiZ7Bkm0UMcEFXDNhPSb9MWUGm8oKGoEOrxR8/GG8UARqNNv4/uFUGZOJV6kpzIagOYlIpGPZ9vT/RETJkGcctXWKExtbZC4/UfGPgHE1EEhtoaq3o/7gtX66fl4m2VkzaA03VD9jrSoFS+vqA7eAw0/v5Ox68vL4eGq0VWE9F08wbOv8lpW09UII0sJfv8LCktK8DpicPG4lY+Lq0gl49dthwip/9M/MTjdi757FOgp39cb/zFgVeHYPG7NGPS66Hhh2viJNCOoEkx1NVJq3ksj1t7nFT3tgasG5ruiiHg36cvDP1wLxuUydDKzrSxuRkK16yEyq+PsXLvsDAz+N4QQJMQGwe+3boDp1bLgtGXlYo8gU1CYSE03b6FJws5iRuJDI6U7HMpFhIi4JNJw8eA0XDC8sHZc/CuPRAY3x/KDnwFvt1jIGjAQNbk5s6/wI3t22Sbq7Ra8OvRC/x7xwmTEStMhiaQ+QPatDE2N0HjtWviRJQd3A+mpqY29ZwWqDVjR2ee/ZbqiYDTRwzdj6beJKeNzRUszKulqgrOzkiF2LR3IPxZoXnliX9Dwe9+CyZcdVeSNjxC3A10JGhH+ERHoyVoLSTuX7oIl9+ar3j7o0flQMqZc5NpLAwweSqMxuY7Sox3Yl6Jh/4Faj8/yHs7DaqOfwNRv3gResxbwAZKIitvyVugL1VswbE5Uvn4QETqVOi5KA2dH+K6QD1u9e/fnAut1dWuzKVQB50IarVPFHlO2BSSW0YJWKJCW6v8qGCZRU6bwQjf+XgPXF68AAz19WyVBu/6CIIGDRY6Vfg3dPRYYfIQbHPJXShcu0qg27s3DNyxE7w7h7tOEb0wDCO2EACTD6odqfSLfaxV8AgdaLt0Yfnq06fgwi9nQ9Otm+DdsSMM+NN2CE+dooh6zNx50HfNe0BnvvbCebgw5wUo2/8lXHzjNWitqQY/ZH6DdvwNt31Xl+ki62MY1eRdNNTzf8SW8uzTAcmWykoISU4BbVhndl5rcs6w2oaaGig/cggC4uPBr2s3oNUixlR9Jssh16VjEv/eeoiYOo3RKf3qC7iyfBkYGwUHZmtVJdw7lQ6hY8aBD577sKeehurM0y5tbzwUkb8eGrVZPbtjl3Em4Oc4wOX0U2jKaPDt2hXu/p0cIYJSQfK2/OgR8ArqAIH9n4CgJwawX1XGSeBbWtrQ1EZEwoCt2yB4aAKT59f/sAWK/4zrYKOktOJkVp04DqEpY4CYXdjTz0BNzlloqXRoFVJ/alMjd1L9cnSX55A7j28zAhcLSI+Oem4mKhodmPhoKr7+oCXKUNriLbgyHROT2FYMHfck1GRnodpZK9ajc05b3zcqGs9pHeQvW4I75KD43TbDm3hoRmYYOmYMaJBpEui6i985ZZDI/PLVc6IiXkGC7eMs2JA3GEAbGYkyuR9oAgLZVrYdYP2VfLh//hzb/rQVO//0WagvKIDmO7chfPIUto1JVaVzf2neXKj7/pJAAsUSKSvBw4ZD2DMTIOr5WRDzxnxkZm9C2PinUBoIp1Dl7Q3e4eFQfsj+JBFBXNjbXLpuaCZqV4m2g1TyHtA3Hobs/hgZPQ9np08G/d27ss2JsfXfuAX8e8WybVudlQkhowQPL4mxW6i0eCM/IK2M1FNSUtQonuQSHRliapRotS+89CK03rsnV1UswxXO4k7qhlxH6DFiaTszJIJolW/t2gnF27bapUJyu8+qtYyR2a0k+cDjGSYVs6EIjZCrZI7i81oRxLw+DzrjqpM29t2rL0NDYYGklZ0sB8UauuuhxXY3kYgiwOGTU6F4xza79jFx3Lyli6Hfhs2M8Uj7bcVzzawrsrDM4BrR0KDVlKbo2S8xsLSjCla+6xpYIoBYNXSx5T5cYEpIzwWLwDu0E1s90rzsJhyoBQRx7ZJ//oMBbalwymkhBLkzyWlKN/+6nWl4dvux+UBYrZVVmwpKXq00r6nO9RgSQ5Sqvj3OZKkrYP169oK+q9cxVbPim68R8A4lQ2R1VezKUnEz+Qai5qVLFDUv+ZoAPpGCZqYvcU3X1qB9TQyPeEB9wRUoXPWuPdJ2ywmriu5n7dZQ+IHED/1I2Y9IFbQlORIcihGvkBD2iTiss8SpNdDvgw3gExWFMr0KLqNRYtK7ZolZ0UasKrqMtip086Xk888YhQjSn9Xy2irJYpoUYjr6sjKnPfZKWwYdhiSACTU0Yngt5c7byBElrCrs1AV+Ltdcvqzi2BGm+zLmhQxGLpGiQqn1XpWsmilt0+Xnz4PFGit6fy0qJRelnxXlCauKwgwUtXJSmcROOYKmFDlNnnlZGFazk/MbPHwE9Fy4iNG6/dGHqEnhPZ4bibDiloZcN2jINi01b+tgXZIs8/Ixr7Aj54APGiN90XLiNBq0kDLg+tbfy/alpJCwqiiABDNtzRcllGzqOmNelhW2x6HV/gGMI3sFBTF/95UV76DS4J62QBgJq4pFy2AAic2Y3X4tMTsH5JiXZYVlOTQaDH3XvQ9+MT2ANK/LixeCsaHB7fEgl8wmrEzxQPSC68J9siKFCnT/0HmWY15aBzK4x/yFEJI0illh+cuXMotKJOpGxoJRAIyhQTgDBjfotWlql3nhCpKHhJLtCodPSoXoWS+wb9c2b4BaNOw9kigSiDBiYoDJm0ehQR4hLiFS+rnF54Wal5lRadH5ZnHGS5lW0MBBEPv2b1jrkn2fspsMCSm3soTNEusl6tIUB+UWVZnG9VfymBpI/uWIKYKIsjAsulqxnE1y1cR/sAlUXl5Qk5sDVzeul6HW/iIpNhEwBX2h9pPRfrLyLUXNC81G0rxEhmWWweR/7oc6sjeqmk3oAclHH7cnr14JkzSgTQRMw0XVS7lGLo9TLGXMC33Y3p3CIDR5NFhWWI++Zkp9Vq6BAPQ1G5AT5yFHNtx/4OsSibiTwUA2aXMrwMnZucdRxUXXo+cSMS9SNylFTp/xYIXRaOj26uvQadx4dHSaoGDFciZzPdczLiBdl9pE7VkBps4owg2renSaS/YJBkXwiEQIGjyEYSLvSPdXXmN5cseSv9mziasVsFhTbQOYbswpwg3lluBgtq7frjcp8/LrHsNoEFemVHb4INzes5vlPfWHxk4YbG//iX4bwFTIYiM41VLKeyqVmEWUlN59dMcWrVstLfJMHscuF99BxGUB04eU7NxN+PDY1FccPQRGyd0u2cF5aYuAx/gQD6fd5rHLkrULmGpTOB+e50zZlgoLpcyLogXyli5i9rBCMk6qc5nCmO1XcwiYxS5iOJ+nQFtkMoVGkEXl2YQLg2N1Fm+J59t58mRwadhPJohiynnPLtfwXHCptEsW4cab1qNl6nBnSNs8zDxxY7xgWurozNr279IKSxv9XwWIE3Bi9xTh5mmNTDqpzvLUN43Bnuhx1F7xCkuJUSAb6oVr0BsoXAFKPz6EPDNuHsU/edhioRgvzmhc8jD/jYdXqzdaYq1s+1fy7tYK23aUpdOFG6B1JjK1/+1/1LIFTu+P67/i/QdE1iM05TrP3gAAAABJRU5ErkJggg=="},"99f3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"join-fund-pool"},[a("div",{staticClass:"container-box"},[a("div",{staticClass:"form-container"},[a("div",{staticClass:"liquidity"},[a("span",[t._v(t._s(t.$t("joinFundPool.text15")))]),a("img",{attrs:{src:n("1308")}})]),a("div",{staticClass:"tokens"},[a("div",{staticClass:"token"},[a("div",{staticClass:"symbol select",on:{click:function(e){return t.openSearch(0)}}},[a("span",[t._v(t._s(t.token0.symbol))]),a("img",{attrs:{src:n("8d5b")}})]),a("span",[t._v(t._s(t.balance0.toFixed(6)))])]),a("div",{staticClass:"logos"},[a("img",{attrs:{src:""+t.imgPath+t.token0.logoURI}}),a("img",{attrs:{src:""+t.imgPath+t.token1.logoURI}})]),a("div",{staticClass:"token"},[a("div",{staticClass:"symbol select",on:{click:function(e){return t.openSearch(1)}}},[a("span",[t._v(t._s(t.token1.symbol))]),a("img",{attrs:{src:n("8d5b")}})]),a("span",[t._v(t._s(t.balance1.toFixed(6)))])])]),a("div",{staticClass:"inputs"},[a("van-field",{attrs:{type:"number",placeholder:"0.00"},on:{input:t.inputAmount0},model:{value:t.amount0,callback:function(e){t.amount0=e},expression:"amount0"}}),a("span",[t._v("+")]),a("van-field",{attrs:{type:"number",placeholder:"0.00"},on:{input:t.inputAmount1},model:{value:t.amount1,callback:function(e){t.amount1=e},expression:"amount1"}})],1),a("div",{staticClass:"rate"},[a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1 "+t._s(t.token0.symbol)+" = "+t._s(t.rate1)+" "+t._s(t.token1.symbol))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1 "+t._s(t.token1.symbol)+" = "+t._s(t.rate0)+" "+t._s(t.token0.symbol))]),a("img",{attrs:{src:n("1b07")},on:{click:function(e){t.rateChanged=!t.rateChanged}}})]),a("div",{staticClass:"assetspool"},[t._v(t._s(t.$t("mkHeader.text3"))+" $ "+t._s(t.reserveUSD))]),a("span",[t._v(t._s(t.$t("joinFundPool.text6"))+" "+t._s(t.poolProp))])]),a("van-button",{attrs:{type:"info"},on:{click:t.addLiquidity}},[t._v(t._s(t.$t("joinFundPool.text7")))])],1),t.assetsPool?a("div",{staticClass:"your-share"},[a("div",[a("div",{staticClass:"logos"},[a("img",{attrs:{src:""+t.imgPath+t.token0.logoURI}}),a("img",{attrs:{src:""+t.imgPath+t.token1.logoURI}})]),a("div",{staticClass:"lp"},[a("span",[t._v("LP: "+t._s(t.assetsPool.lp.toFixed(6)))]),a("span",[t._v(t._s(t.assetsPool.myShare)+"%")])])]),a("div",[a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.token0.symbol)+"： "+t._s(t.assetsPool.amount0))]),a("span",[t._v(t._s(t.token1.symbol)+"： "+t._s(t.assetsPool.amount1))])]),a("van-button",{attrs:{type:"info"},on:{click:function(e){t.$router.push({path:"/redemption-bsc",query:{info:JSON.stringify(t.assetsPool)}})}}},[t._v(t._s(t.$t("joinFundPool.text11")))])],1)]):t._e()]),a("search-tokens",{ref:"searchTokens",on:{select:t.select}})],1)},s=[],i=(n("99af"),n("caad"),n("a9e3"),n("b680"),n("d3b7"),n("2532"),n("96cf"),n("1da1")),o=n("5530"),r=n("b4e9"),u=n("beee"),l=n("b9cc"),p={components:{"mk-navbar":function(){return Promise.all([n.e("tokenInfo"),n.e("join-fund-pool")]).then(n.bind(null,"0861"))},"search-tokens":function(){return Promise.all([n.e("tokenInfo"),n.e("join-fund-pool")]).then(n.bind(null,"e77e"))}},data:function(){return{token0:r["f"],token1:r["g"],balance0:"0",balance1:"0",allowance0:"0",allowance1:"0",reserve0:"0",reserve1:"0",amount0:"",amount1:"",pairAddress:null,totalLiquidity:"0".toBN(),inputing:!1,rateChanged:!1,reserveUSD:"0",assetsPool:null,slipPoint:2.5,deadline:600}},computed:Object(o["a"])(Object(o["a"])({},Vuex.mapState(["imgPath"])),{},{pairContract:function(){return this.pairAddress?new this.$web3.eth.Contract(u,this.pairAddress):null},rate0:function(){return this.pairAddress?"1".toWei(this.token1.decimals).toBN().times(this.reserve0).div(this.reserve1).toFixed().fromWei(this.token0.decimals).toFixed(6):"--"},rate1:function(){return this.pairAddress?"1".toWei(this.token0.decimals).toBN().times(this.reserve1).div(this.reserve0).toFixed().fromWei(this.token1.decimals).toFixed(6):"--"},poolProp:function(){return Number(this.amount0)<=0||!this.pairAddress?"0%":"".concat(this.amount0.toWei(this.token0.decimals).toBN().div(this.reserve0.toBN().plus(this.amount0.toWei(this.token0.decimals))).times(100).toFixed().toFixed(6),"%")},waitApprove:function(){var t=[];return Number(this.allowance0)<Number(this.amount0)&&this.token0.symbol!==r["b"].symbol&&t.push(this.token0),Number(this.allowance1)<Number(this.amount1)&&this.token1.symbol!==r["b"].symbol&&t.push(this.token1),t}}),created:function(){var t=this.$route.query.token?JSON.parse(this.$route.query.token):null;this.$contracts&&this.select(t||r["g"])},methods:{openSearch:function(t){this.$refs.searchTokens.open(t)},switchToken:function(){var t=this.token0;this.token0=this.token1,this.token1=t,this.select(this.token0,0)},inputAmount0:function(){this.pairAddress&&(Number(this.amount0)<=0?this.amount1="":this.amount1=this.amount0.toWei(this.token0.decimals).toBN().times(this.reserve1).div(this.reserve0).toFixed().fromWei(this.token1.decimals).toFixed(6))},inputAmount1:function(){this.pairAddress&&(Number(this.amount1)<=0?this.amount0="":this.amount0=this.amount1.toWei(this.token1.decimals).toBN().times(this.reserve0).div(this.reserve1).toFixed().fromWei(this.token0.decimals).toFixed(6))},approve:function(){var t=this,e=new this.$web3.eth.Contract(l,this.waitApprove[0].address),n=Number(this.waitApprove[0].symbol===this.token1.symbol);e.methods.approve(r["d"],this["amount".concat(n)].toWei(this.waitApprove[0].decimals)).send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("transaction.text7"),forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.methods.allowance(t.$address,r["d"]).call({from:t.$address});case 2:t["allowance".concat(n)]=a.sent.fromWei(t.waitApprove[0].decimals),vant.Toast.clear(),t.waitApprove.length>0?t.approve():t.addLiquidity();case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail(t.$t("transaction.text13"))}))},addLiquidity:function(){var t=this;if(Number(this.balance0)<Number(this.amount0))return vant.Toast.fail("".concat(this.token0.symbol).concat(this.$t("joinFundPool.text13")));if(Number(this.balance1)<Number(this.amount1))return vant.Toast.fail("".concat(this.token1.symbol).concat(this.$t("joinFundPool.text13")));if(this.waitApprove.length>0)return this.approve();if([this.token0.symbol,this.token1.symbol].includes(r["b"].symbol))return this.addLiquidityETH();var e=this.amount0.toWei(this.token0.decimals),n=this.amount1.toWei(this.token1.decimals),a=e.toBN().div(100).times(this.slipPoint).toFixed(0),s=n.toBN().div(100).times(this.slipPoint).toFixed(0),i=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.addLiquidity(this.token0.address,this.token1.address,e,n,a,s,this.$address,i).send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("transaction.text7"),forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(e){vant.Toast.clear(),t.amount0="",t.amount1="",t.select(t.token1)})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail(t.$t("transaction.text13"))}))},addLiquidityETH:function(){var t=this,e=Number(this.token0.symbol===r["b"].symbol),n=Number(!(this.token0.symbol===r["b"].symbol)),a=this["amount".concat(e)].toWei(this["token".concat(e)].decimals),s=a.toBN().div(100).times(this.slipPoint).toFixed(0),i=this["amount".concat(n)].toWei(this["token".concat(n)].decimals),o=i.toBN().div(100).times(this.slipPoint).toFixed(0),u=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.addLiquidityETH(this["token".concat(e)].address,a,s,o,this.$address,u).send({from:this.$address,value:i}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("transaction.text7"),forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(e){vant.Toast.clear(),t.amount0="",t.amount1="",t.select(t.token1)})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail(t.$t("transaction.text13"))}))},select:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this["token".concat(Number(!n))];if(t.symbol===a.symbol)return this.switchToken();this["token".concat(n)]=t;var s=new this.$web3.BatchRequest,i=new this.$web3.eth.Contract(l,this.token0.address),o=new this.$web3.eth.Contract(l,this.token1.address);this.token0.symbol===r["b"].symbol?s.add(this.$web3.eth.getBalance.request(this.$address,"latest")):s.add(i.methods.balanceOf(this.$address).call.request({from:this.$address})),this.token1.symbol===r["b"].symbol?s.add(this.$web3.eth.getBalance.request(this.$address,"latest")):s.add(o.methods.balanceOf(this.$address).call.request({from:this.$address})),s.add(i.methods.allowance(this.$address,r["d"]).call.request({from:this.$address})),s.add(o.methods.allowance(this.$address,r["d"]).call.request({from:this.$address})),s.add(this.$Factory.methods.getPair(this.token0.address,this.token1.address).call.request({from:this.$address})),s.requestManager.sendBatch(s.requests,(function(t,n){if(t)console.log(n),console.log(t);else{var a=n[4].result.decode(["address"]);if(e.balance0=n[0].result.fromWei(e.token0.decimals),e.balance1=n[1].result.fromWei(e.token1.decimals),e.allowance0=n[2].result.toBN().toFixed().fromWei(e.token0.decimals),e.allowance1=n[3].result.toBN().toFixed().fromWei(e.token1.decimals),e.pairAddress=0!==Number(a)?a:null,e.pairContract){var s=new e.$web3.BatchRequest;s.add(e.pairContract.methods.getReserves().call.request({from:e.$address})),s.add(e.pairContract.methods.totalSupply().call.request({from:e.$address})),s.add(e.pairContract.methods.balanceOf(e.$address).call.request({from:e.$address})),s.requestManager.sendBatch(s.requests,(function(t,n){if(!t){var s=n[0].result.decode([{type:"uint112",name:"_reserve0"},{type:"uint112",name:"_reserve1"}]),i=s._reserve0,o=s._reserve1,u=e.token0.address.toBN().lt(e.token1.address.toBN()),l=n[2].result.toBN();e.reserve0=u?i:o,e.reserve1=u?o:i,e.totalLiquidity=n[1].result.toBN(),Object(r["k"])(a.toLowerCase()).then((function(t){e.reserveUSD=Math.floor(t.reserveUSD)})),l.gt(0)&&(e.assetsPool={logo0:e.token0.logoURI,logo1:e.token1.logoURI,symbol0:e.token0.symbol,symbol1:e.token1.symbol,amount0:l.times(e.reserve0).div(e.totalLiquidity).toFixed(0).fromWei(e.token0.decimals),amount1:l.times(e.reserve1).div(e.totalLiquidity).toFixed(0).fromWei(e.token1.decimals),reserve0:e.reserve0,reserve1:e.reserve1,lp:l.toFixed().fromWei(18),myShare:l.div(e.totalLiquidity).times(100).toFixed().toFixed(6),address0:e.token0.address,address1:e.token1.address,decimals0:e.token0.decimals,decimals1:e.token1.decimals,address:a})}}))}}}))}}},d=p,c=d,y=(n("ad37"),n("2877")),m=Object(y["a"])(c,a,s,!1,null,"156bb223",null);e["default"]=m.exports},a981:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"provider","type":"address"},{"indexed":true,"internalType":"uint256","name":"trx_amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"token_amount","type":"uint256"}],"name":"AddLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"provider","type":"address"},{"indexed":true,"internalType":"uint256","name":"trx_amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"token_amount","type":"uint256"}],"name":"RemoveLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":true,"internalType":"uint256","name":"trx_sold","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"tokens_bought","type":"uint256"}],"name":"TokenPurchase","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"trx_bought","type":"uint256"}],"name":"TrxPurchase","type":"event"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":false,"inputs":[{"internalType":"uint256","name":"min_liquidity","type":"uint256"},{"internalType":"uint256","name":"max_tokens","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"factoryAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"input_amount","type":"uint256"},{"internalType":"uint256","name":"input_reserve","type":"uint256"},{"internalType":"uint256","name":"output_reserve","type":"uint256"}],"name":"getInputPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"output_amount","type":"uint256"},{"internalType":"uint256","name":"input_reserve","type":"uint256"},{"internalType":"uint256","name":"output_reserve","type":"uint256"}],"name":"getOutputPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"}],"name":"getTokenToTrxInputPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"trx_bought","type":"uint256"}],"name":"getTokenToTrxOutputPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"trx_sold","type":"uint256"}],"name":"getTrxToTokenInputPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"}],"name":"getTrxToTokenOutputPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"min_trx","type":"uint256"},{"internalType":"uint256","name":"min_tokens","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"tokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"internalType":"uint256","name":"min_tokens_bought","type":"uint256"},{"internalType":"uint256","name":"min_trx_bought","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"exchange_addr","type":"address"}],"name":"tokenToExchangeSwapInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"},{"internalType":"uint256","name":"max_tokens_sold","type":"uint256"},{"internalType":"uint256","name":"max_trx_sold","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"exchange_addr","type":"address"}],"name":"tokenToExchangeSwapOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"internalType":"uint256","name":"min_tokens_bought","type":"uint256"},{"internalType":"uint256","name":"min_trx_bought","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"address","name":"exchange_addr","type":"address"}],"name":"tokenToExchangeTransferInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"},{"internalType":"uint256","name":"max_tokens_sold","type":"uint256"},{"internalType":"uint256","name":"max_trx_sold","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"address","name":"exchange_addr","type":"address"}],"name":"tokenToExchangeTransferOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"internalType":"uint256","name":"min_tokens_bought","type":"uint256"},{"internalType":"uint256","name":"min_trx_bought","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"token_addr","type":"address"}],"name":"tokenToTokenSwapInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"},{"internalType":"uint256","name":"max_tokens_sold","type":"uint256"},{"internalType":"uint256","name":"max_trx_sold","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"token_addr","type":"address"}],"name":"tokenToTokenSwapOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"internalType":"uint256","name":"min_tokens_bought","type":"uint256"},{"internalType":"uint256","name":"min_trx_bought","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"address","name":"token_addr","type":"address"}],"name":"tokenToTokenTransferInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"},{"internalType":"uint256","name":"max_tokens_sold","type":"uint256"},{"internalType":"uint256","name":"max_trx_sold","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"address","name":"token_addr","type":"address"}],"name":"tokenToTokenTransferOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"internalType":"uint256","name":"min_trx","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"tokenToTrxSwapInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"trx_bought","type":"uint256"},{"internalType":"uint256","name":"max_tokens","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"tokenToTrxSwapOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_sold","type":"uint256"},{"internalType":"uint256","name":"min_trx","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"tokenToTrxTransferInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"trx_bought","type":"uint256"},{"internalType":"uint256","name":"max_tokens","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"tokenToTrxTransferOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"min_tokens","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"trxToTokenSwapInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"trxToTokenSwapOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"min_tokens","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"trxToTokenTransferInput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokens_bought","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"trxToTokenTransferOutput","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"}]')},ab13:function(t,e,n){var a=n("b622"),s=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[s]=!1,"/./"[t](e)}catch(a){}}return!1}},ad37:function(t,e,n){"use strict";n("6ca2")},d81d:function(t,e,n){"use strict";var a=n("23e7"),s=n("b727").map,i=n("1dde"),o=n("ae40"),r=i("map"),u=o("map");a({target:"Array",proto:!0,forced:!r||!u},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,n){var a=n("23e7"),s=n("83ab"),i=n("56ef"),o=n("fc6a"),r=n("06cf"),u=n("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,n,a=o(t),s=r.f,l=i(a),p={},d=0;while(l.length>d)n=s(a,e=l[d++]),void 0!==n&&u(p,e,n);return p}})},e439:function(t,e,n){var a=n("23e7"),s=n("d039"),i=n("fc6a"),o=n("06cf").f,r=n("83ab"),u=s((function(){o(1)})),l=!r||u;a({target:"Object",stat:!0,forced:l,sham:!r},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})}}]);