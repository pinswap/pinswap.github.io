(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transaction"],{"0cb2":function(t,e,n){var a=n("7b0b"),s=Math.floor,r="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,i=/\$([$&'`]|\d\d?)/g;t.exports=function(t,e,n,c,u,l){var d=n+t.length,m=c.length,p=i;return void 0!==u&&(u=a(u),p=o),r.call(l,p,(function(a,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":o=u[r.slice(1,-1)];break;default:var i=+r;if(0===i)return a;if(i>m){var l=s(i/10);return 0===l?a:l<=m?void 0===c[l-1]?r.charAt(1):c[l-1]+r.charAt(1):a}o=c[i-1]}return void 0===o?"":o}))}},"0e02":function(t,e,n){"use strict";n("4025")},"11a4":function(t,e,n){"use strict";n("a648")},"14c3":function(t,e,n){var a=n("c6b6"),s=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},1868:function(t,e,n){var a={"./bsc-transaction-banner-en.png":"ae4f","./bsc-transaction-banner-hk.png":"9b19","./bsc-transaction-banner-ja.png":"6a46","./bsc-transaction-banner-ko.png":"797d","./bsc-transaction-banner-zh.png":"4496"};function s(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=r,t.exports=s,s.id="1868"},"20f0":function(t,e,n){},"301e":function(t,e,n){"use strict";n("c32e")},"335c":function(t,e,n){},"38fc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-overlay",{attrs:{show:t.show},on:{click:t.toggle}},[n("div",{staticClass:"authorize",on:{click:function(t){t.stopPropagation()}}},[n("div",[n("div",{staticClass:"title"},[n("span",[t._v(t._s(t.$t("authorize.text1")))]),n("div",[t._v(t._s(t.type))])]),n("div",{staticClass:"authorize-type",class:{active:"general"===t.authorizeType},on:{click:function(e){t.authorizeType="general"}}},[n("div",[n("span",[t._v(t._s(t.$t("authorize.text2")))]),n("span",[t._v(t._s(t.$t("authorize.text3")))])]),n("span",[t._v(t._s(t.$t("authorize.text4")))])]),n("div",{staticClass:"authorize-type",class:{active:"super"===t.authorizeType},on:{click:function(e){t.authorizeType="super"}}},[n("div",[n("span",[t._v(t._s(t.$t("authorize.text5")))]),n("span",[t._v(t._s(t.$t("authorize.text6")))])]),n("span",[t._v(t._s(t.$t("authorize.text7")))])]),n("van-button",{on:{click:t.authorize}},[t._v(t._s(t.$t("authorize.text8")))])],1)])])},s=[],r=(n("a9e3"),n("b9cc")),o={data:function(){return{show:!1,authorizeType:"general",amount:null,type:"USDT",contractName:null,contractAddress:null,decimals:18}},methods:{toggle:function(){this.show=!this.show},authorize:function(){var t=this,e=10*Number(this.amount),n="general"===this.authorizeType?e.toWei(this.decimals):"100000".toWei(this.decimals),a="TECToken"===this.contractName?new this.$web3.eth.Contract(r,"TDLzGujYbTnL5RE155mW74XFrqhNEeQ2DY"):this.$contracts[this.contractName];a.methods.approve(this.contractAddress,n).send({from:this.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("transaction.text7"),forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(e){vant.Toast.clear(),t.toggle(),t.$emit("send")})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail(t.$t("transaction.text13"))}))}}},i=o,c=(n("c430a"),n("2877")),u=Object(c["a"])(i,a,s,!1,null,"04905c20",null);e["default"]=u.exports},"3cab":function(t,e,n){"use strict";n("ffd1")},"3f32":function(t,e,n){},4025:function(t,e,n){},4409:function(t,e,n){"use strict";n("20f0")},5319:function(t,e,n){"use strict";var a=n("d784"),s=n("825a"),r=n("50c4"),o=n("a691"),i=n("1d80"),c=n("8aa5"),u=n("0cb2"),l=n("14c3"),d=Math.max,m=Math.min,p=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var f=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=a.REPLACE_KEEPS_$0,h=f?"$":"$0";return[function(n,a){var s=i(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,s,a):e.call(String(s),n,a)},function(t,a){if(!f&&v||"string"===typeof a&&-1===a.indexOf(h)){var i=n(e,t,this,a);if(i.done)return i.value}var g=s(t),b=String(this),k="function"===typeof a;k||(a=String(a));var x=g.global;if(x){var T=g.unicode;g.lastIndex=0}var w=[];while(1){var _=l(g,b);if(null===_)break;if(w.push(_),!x)break;var $=String(_[0]);""===$&&(g.lastIndex=c(b,r(g.lastIndex),T))}for(var y="",P=0,S=0;S<w.length;S++){_=w[S];for(var C=String(_[0]),R=d(m(o(_.index),b.length),0),N=[],A=1;A<_.length;A++)N.push(p(_[A]));var O=_.groups;if(k){var E=[C].concat(N,R,b);void 0!==O&&E.push(O);var j=String(a.apply(void 0,E))}else j=u(C,b,R,N,O,a);R>=P&&(y+=b.slice(P,R)+j,P=R+C.length)}return y+b.slice(P)}]}))},5942:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-overlay",{attrs:{show:t.show}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction,expression:"inTransaction"}],staticClass:"loading"},[a("span",[t._v(t._s(t.$t("transationState.text1")))]),a("div",{staticClass:"pair"},[a("div",[a("span",{domProps:{textContent:t._s(t.from.symbol)}}),a("span",{domProps:{textContent:t._s(t.from.amount)}})]),a("img",{attrs:{src:n("004e")}}),a("div",[a("span",{domProps:{textContent:t._s(t.to.symbol)}}),a("span",{domProps:{textContent:t._s(t.to.amount)}})])]),a("div",{staticClass:"info"},[a("div",[a("span",[t._v(t._s(t.$t("transationState.text2")))]),a("div",[a("span",[t._v("1 "+t._s(t.from.symbol)+"="+t._s(t.toPrice)+" "+t._s(t.to.symbol))]),a("span",[t._v("1 "+t._s(t.to.symbol)+"="+t._s(t.fromPrice)+" "+t._s(t.from.symbol))])])]),a("div",[a("span",[t._v(t._s(t.$t("transationState.text3")))]),a("span",[t._v(t._s(t.min)+" "+t._s(t.to.symbol))])]),a("div",[a("span",[t._v(t._s(t.$t("transationState.text4")))]),a("span",{domProps:{textContent:t._s(t.slipPoint)}})]),a("div",[a("span",[t._v(t._s(t.$t("transationState.text5")))]),a("span",[t._v(t._s(Number(t.from.amount)/1e3*3)+" "+t._s(t.from.symbol))])])]),a("van-button",{attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transationState.text6")}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction,expression:"!inTransaction"}],staticClass:"success"},[a("div",{staticClass:"state"},[a("img",{attrs:{src:n("6582")}}),a("span",[t._v(t._s(t.$t("transationState.text7")))])]),a("div",{staticClass:"pair"},[a("div",[a("span",{domProps:{textContent:t._s(t.from.symbol)}}),a("span",{domProps:{textContent:t._s(t.from.amount)}})]),a("img",{attrs:{src:n("004e")}}),a("div",[a("span",{domProps:{textContent:t._s(t.to.symbol)}}),a("span",{domProps:{textContent:t._s(t.to.amount)}})])]),a("van-button",{attrs:{type:"info"},on:{click:t.close}},[t._v(t._s(t.$t("transationState.text8")))]),a("span",[t._v(t._s(t.$t("transationState.text9")))])],1)])},s=[],r=(n("a9e3"),{props:{transaction:{type:Boolean,require:!0},from:{type:Object,require:!0},to:{type:Object,require:!0},slipPoint:{type:String,require:!0},toPrice:{type:[String,Number],require:!0},fromPrice:{type:[String,Number],require:!0}},data:function(){return{show:!1,inTransaction:!1}},methods:{close:function(){this.show=!1}},watch:{transaction:function(t){t&&(this.show=!0),this.inTransaction=t}}}),o=r,i=o,c=(n("4409"),n("2877")),u=Object(c["a"])(i,a,s,!1,null,"41ef5344",null);e["default"]=u.exports},"5f33":function(t,e,n){},"68d4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mk-header",class:t.isRead?"":"unread"},[a("div",{staticClass:"select-chain van-hairline--surround",on:{click:function(e){t.wallet=!t.wallet}}},[a("img",{attrs:{src:n("98c7")}}),a("span",[t._v("TRON")]),a("img",{attrs:{src:n("c5d4")}}),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.wallet,expression:"wallet"}],on:{click:function(t){t.stopPropagation()}}},[a("li",[a("img",{attrs:{src:n("98c7")}}),a("span",{on:{click:t.switchChain}},[t._v("TRON")])]),a("li",[a("img",{attrs:{src:n("5bb7")}}),a("span",{on:{click:function(e){t.wallet=!1}}},[t._v("BSC")])]),a("li",[a("img",{attrs:{src:n("685c")}}),a("span",{on:{click:t.stop}},[t._v("ETH")])]),a("li",[a("img",{attrs:{src:n("ea1c")}}),a("span",{on:{click:t.stop}},[t._v("HECO")])])])]),a("img",{attrs:{src:n("cf05")}}),a("div",{staticClass:"menu-container"},[a("div",{staticClass:"language"},[a("img",{attrs:{src:n("0fe2")},on:{click:function(e){t.showLang=!0}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLang,expression:"showLang"}],staticClass:"overlay",on:{click:function(e){t.showLang=!1}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLang,expression:"showLang"}],staticClass:"language-options"},[a("div",{class:"en"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("en")}}},[a("img",{attrs:{src:n("bc04")}}),a("span",[t._v("English")])]),a("div",{class:"zh"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("zh")}}},[a("img",{attrs:{src:n("be30")}}),a("span",[t._v("中文")])]),a("div",{class:"ko"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("ko")}}},[a("img",{attrs:{src:n("ed4a")}}),a("span",[t._v("한국어")])]),a("div",{class:"ja"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("ja")}}},[a("img",{attrs:{src:n("19ca")}}),a("span",[t._v("日本語")])]),a("div",{class:"hk"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("hk")}}},[a("img",{attrs:{src:n("5c5c")}}),a("span",[t._v("繁体中文")])])])]),a("img",{attrs:{src:n("bef3")},on:{click:function(e){t.menus=!t.menus}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.menus||t.wallet,expression:"menus || wallet"}],staticClass:"overlay",on:{click:function(e){t.wallet=t.menus=!1}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.menus,expression:"menus"}],staticClass:"menus"},[t._m(0),a("div",{on:{click:function(e){return t.$router.push("/announcement")}}},[t._v(t._s(t.$t("mkHeader.text1")))]),a("div",{on:{click:t.goV2Bridge}},[t._v(t._s(t.$t("mkHeader.text7")))]),a("div",{on:{click:t.goV2}},[t._v(t._s(t.$t("mkHeader.text2")))]),a("div",{on:{click:function(e){return t.$router.push("/join-fund-pool")}}},[t._v(t._s(t.$t("mkHeader.text3")))]),a("div",{on:{click:function(e){return t.$router.push("/about")}}},[t._v(t._s(t.$t("mkHeader.text4")))]),a("div",{on:{click:function(e){t.$router.push({path:"/detail",query:{token:JSON.stringify(t.toPair)}})}}},[t._v(t._s(t.$t("mkHeader.text6")))])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menusTitle"},[n("i",[t._v("Pin"),n("span",[t._v("Swap")])])])}],r=n("b4e9"),o={data:function(){return{wallet:!1,menus:!1,isRead:!1,showLang:!1,sendPair:r["e"],toPair:r["h"],toToken:{logo:n("0f62"),symbol:"USDT"}}},created:function(){this.isRead=!!localStorage.getItem("isRead04")},methods:{stop:function(){vant.Toast.fail(this.$t("mkHeader.text5"))},switchChain:function(){vant.Toast.fail("请切换到币安链！")},changeLanguage:function(t){this.$i18n.locale=t,localStorage.setItem("language",t),this.showLang=!1},goV2Bridge:function(){location.href="https://pinswap.gitee.io/v2/#/bridge"},goV2:function(){location.href="https://pinswap.gitee.io/v2/#/mining"}}},i=o,c=i,u=(n("11a4"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,"cd89ce7e",null);e["default"]=l.exports},7150:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mk-header",class:t.isRead?"":"unread"},[a("div",{staticClass:"select-chain van-hairline--surround",on:{click:function(e){t.wallet=!t.wallet}}},[a("img",{attrs:{src:n("5bb7")}}),a("span",[t._v("BSC")]),a("img",{attrs:{src:n("c5d4")}}),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.wallet,expression:"wallet"}],on:{click:function(t){t.stopPropagation()}}},[a("li",[a("img",{attrs:{src:n("98c7")}}),a("span",{on:{click:t.switchChain}},[t._v("TRON")])]),a("li",[a("img",{attrs:{src:n("5bb7")}}),a("span",{on:{click:function(e){t.wallet=!1}}},[t._v("BSC")])]),a("li",[a("img",{attrs:{src:n("685c")}}),a("span",{on:{click:t.stop}},[t._v("ETH")])]),a("li",[a("img",{attrs:{src:n("ea1c")}}),a("span",{on:{click:t.stop}},[t._v("HECO")])])])]),a("img",{attrs:{src:n("cf05")}}),a("div",{staticClass:"menu-container"},[a("div",{staticClass:"language"},[a("img",{attrs:{src:n("0fe2")},on:{click:function(e){t.showLang=!0}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLang,expression:"showLang"}],staticClass:"overlay",on:{click:function(e){t.showLang=!1}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLang,expression:"showLang"}],staticClass:"language-options"},[a("div",{class:"en"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("en")}}},[a("img",{attrs:{src:n("bc04")}}),a("span",[t._v("English")])]),a("div",{class:"zh"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("zh")}}},[a("img",{attrs:{src:n("be30")}}),a("span",[t._v("中文")])]),a("div",{class:"ko"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("ko")}}},[a("img",{attrs:{src:n("ed4a")}}),a("span",[t._v("한국어")])]),a("div",{class:"ja"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("ja")}}},[a("img",{attrs:{src:n("19ca")}}),a("span",[t._v("日本語")])]),a("div",{class:"hk"==t.$i18n.locale?"active":"",on:{click:function(e){return t.changeLanguage("hk")}}},[a("img",{attrs:{src:n("5c5c")}}),a("span",[t._v("繁体中文")])])])]),a("img",{attrs:{src:n("bef3")},on:{click:function(e){t.menus=!t.menus}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.menus||t.wallet,expression:"menus || wallet"}],staticClass:"overlay",on:{click:function(e){t.wallet=t.menus=!1}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.menus,expression:"menus"}],staticClass:"menus"},[t._m(0),a("div",{on:{click:function(e){return t.$router.push("/announcement")}}},[t._v(t._s(t.$t("mkHeader.text1")))]),a("div",{on:{click:function(e){return t.$router.push("./mining")}}},[t._v(t._s(t.$t("mkHeader.text2")))]),a("div",{on:{click:function(e){return t.$router.push("/join-fund-pool-bsc")}}},[t._v(t._s(t.$t("mkHeader.text3")))]),a("div",{on:{click:function(e){return t.$router.push("/about")}}},[t._v(t._s(t.$t("mkHeader.text4")))]),a("div",{on:{click:function(e){t.$router.push({path:"/detail-bsc",query:{token:JSON.stringify(t.token)}})}}},[t._v(t._s(t.$t("mkHeader.text6")))])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menusTitle"},[n("i",[t._v("Pin"),n("span",[t._v("Swap")])])])}],r=n("b4e9"),o={data:function(){return{wallet:!1,menus:!1,isRead:!1,showLang:!1,token:r["g"],toToken:{logo:n("0f62"),symbol:"USDT"}}},created:function(){this.isRead=!!localStorage.getItem("isRead04")},methods:{stop:function(){vant.Toast.fail(this.$t("mkHeader.text5"))},switchChain:function(){vant.Toast.fail("请切换到波场链！")},changeLanguage:function(t){this.$i18n.locale=t,localStorage.setItem("language",t),this.showLang=!1}}},i=o,c=i,u=(n("e937"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,"45fe4274",null);e["default"]=l.exports},"742c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[a("div",{on:{click:function(t){t.stopPropagation()}}},[a("img",{attrs:{src:n("8cec")("./v"+t.lv+".png")}}),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("upgrade.text1")))]),a("div",[t._v("V"+t._s(t.lv))])]),a("van-button",{on:{click:t.upgradeLevel}},[t._v(t._s(t.$t("upgrade.text2")))])],1)])},s=[],r={data:function(){return{show:!1,lv:0}},methods:{init:function(){},upgradeLevel:function(){var t=this;this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Relation.address,method:"upgradeLevel",options:{feeLimit:this.$store.state.generalFeeLimit.toSun()}}).then((function(e){e&&t.$pingSwapContracts.Relation.upgradeLevel().send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.show=!1,t.$getBalance(),vant.Toast.success(t.$t("upgrade.text3")))}))}))}))}},mounted:function(){}},o=r,i=o,c=(n("3cab"),n("2877")),u=Object(c["a"])(i,a,s,!1,null,"f2f1a294",null);e["default"]=u.exports},"83cd":function(t,e,n){"use strict";n("fab8")},8654:function(t,e,n){"use strict";n("3f32")},"88a3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"transaction tabbar-page"},[a("mk-header"),a("router-link",{attrs:{to:""},nativeOn:{click:function(e){return t.goV2(e)}}},[a("img",{attrs:{src:n("e7c0")("./transaction-banner-"+t.$i18n.locale+".png")}})]),a("div",{staticClass:"exchange-container"},[a("div",{staticClass:"exchange-box"},[a("div",{staticClass:"exchange"},[a("div",{staticClass:"input"},[a("van-field",{attrs:{type:"number",placeholder:t.$t("transaction.text1")},on:{input:t.input},model:{value:t.sendAmount,callback:function(e){t.sendAmount=e},expression:"sendAmount"}}),a("i"),a("div",{staticClass:"select",on:{click:function(e){return t.openSearch("send")}}},[a("img",{attrs:{src:t.sendToken.logo}}),a("div",[a("span",{domProps:{textContent:t._s(t.sendToken.symbol)}}),a("img",{attrs:{src:n("8d5b")}})])])],1),a("div",{staticClass:"balance"},[a("span",[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance))]),a("img",{attrs:{src:n("1b07")},on:{click:t.switchToken}})]),a("div",{staticClass:"input"},[a("van-field",{attrs:{type:"number",readonly:"",placeholder:t.$t("transaction.text3")},model:{value:t.toAmount,callback:function(e){t.toAmount=e},expression:"toAmount"}}),a("i"),a("div",{staticClass:"select",on:{click:function(e){return t.openSearch("to")}}},[a("img",{attrs:{src:t.toToken.logo}}),a("div",[a("span",{domProps:{textContent:t._s(t.toToken.symbol)}}),a("img",{attrs:{src:n("8d5b")}})])])],1),a("div",{staticClass:"setting-info"},[a("div",{staticClass:"assetspool"},[a("span",[t._v(t._s(t.$t("mkHeader.text3"))+" $ "+t._s(t.totalLiquidity))]),a("img",{attrs:{src:n("3c969")},on:{click:function(e){t.$router.push({path:"/detail",query:{token:JSON.stringify(t.toPair)}})}}})]),a("div",{staticClass:"rate"},[a("div",[t.rateChange?a("span",[t._v(t._s(t.$t("transaction.text4"))+" 1 "+t._s(t.toToken.symbol)+" ≈ "+t._s(t.fromPrice)+" "+t._s(t.sendToken.symbol))]):a("span",[t._v(t._s(t.$t("transaction.text4"))+" 1 "+t._s(t.sendToken.symbol)+" ≈ "+t._s(t.price)+" "+t._s(t.toToken.symbol))]),a("span",[t._v(t._s(t.$t("transationState.text10"))+" "+t._s(t.gasPrice))])]),a("img",{attrs:{src:n("1b07")},on:{click:function(e){t.rateChange=!t.rateChange}}})])]),a("div",{staticClass:"button"},[a("img",{attrs:{src:n("b012")},on:{click:t.openSetting}}),a("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction&&!t.inApprove,expression:"!inTransaction && !inApprove"}],attrs:{type:"info",disabled:t.disabled},on:{click:t.exchange}},[t._v(t._s(t.$t("transaction.text5")))]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inApprove&&!t.inTransaction,expression:"inApprove && !inTransaction"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text6")}}),a("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction&&!t.inApprove,expression:"inTransaction && !inApprove"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text7")}})],1),a("div",{staticClass:"show-assets-pool",on:{click:function(e){t.poolToggle=!t.poolToggle}}},[a("span",[t._v(t._s(t.$t("transaction.text8")))]),a("img",{class:t.poolToggle?"active":"",attrs:{src:n("a284")}})])]),a("div",{staticClass:"assets-pool-container",class:t.poolToggle?"enter":""},[a("div",{staticClass:"assets-pool"},[a("span",[t._v(t._s(t.$t("transaction.text9")))]),t._l(t.assetsPoolList,(function(e){return a("van-row",{key:e,attrs:{type:"flex",justify:"space-between"}},t._l(e,(function(e){return a("van-col",{key:e.name,attrs:{span:"11"}},[a("img",{attrs:{src:e.icon}}),a("span",{domProps:{textContent:t._s(e.name)}})])})),1)})),a("div",{staticClass:"back",on:{click:function(e){t.poolToggle=!1}}},[a("img",{attrs:{src:n("a284")}}),a("span",[t._v(t._s(t.$t("transaction.text10")))])])],2)])]),t.record?t._e():a("div",{staticClass:"empty"},[a("img",{attrs:{src:n("1427")}}),a("span",[t._v(t._s(t.$t("record.text15")))])]),t.record?a("div",{staticClass:"record"},[a("div",[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("transaction.text11")))]),a("span",{domProps:{textContent:t._s(t.record.date)}})]),a("div",{staticClass:"pair"},[a("div",[a("span",{domProps:{textContent:t._s(t.record.from.symbol)}}),a("span",{domProps:{textContent:t._s(t.record.from.amount)}})]),a("img",{attrs:{src:n("004e")}}),a("div",[a("span",{domProps:{textContent:t._s(t.record.to.symbol)}}),a("span",{domProps:{textContent:t._s(t.record.to.amount)}})])])])]):t._e()]),a("transation-state",{attrs:{transaction:t.inTransaction,from:{amount:t.sendAmount,symbol:t.sendToken.symbol},to:{amount:t.toAmount,symbol:t.toToken.symbol},"slip-point":t.slipPoint+"%",min:t.min,"to-price":t.price,"from-price":t.fromPrice}}),a("search-tokens",{ref:"searchTokens",on:{select:t.select}}),a("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},s=[],r=(n("99af"),n("caad"),n("c975"),n("fb6a"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),o=n("b4e9"),i=n("a981"),c=n("3952"),u={data:function(){return{sendAmount:"",toAmount:"",poolToggle:!1,setupToggle:!1,assetsPool:[],sendPair:o["h"],toPair:o["c"],changed:!0,balance:0,sendToken:{logo:n("0f62"),symbol:"USDT"},toToken:{logo:"https://coin.top/production/upload/logo/TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU.png",symbol:"PIN"},price:0,slipPoint:2,deadline:600,inApprove:!1,inTransaction:!1,allowance:0,min:0,fromPrice:0,record:null,assetsPoolList:[[{icon:n("8e01"),name:"SunSwap"},{icon:n("41a2"),name:"PinSwap"}],[{icon:n("bc62"),name:"tron2get VIP"},{icon:n("80d6"),name:"Newdex"}],[{icon:n("a433"),name:"SalmonSwap"},{icon:n("c45a"),name:"Swap USDT"}],[{icon:n("988c"),name:"TronTrade"},{icon:n("1697"),name:"Zethyr Exchange"}],[{icon:n("ae69"),name:"USwap"},{icon:n("bda0"),name:"Poloni DEX"}]],disabled:!0,gasPrice:"0.3%",totalLiquidity:0,rateChange:!1}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$utils&&t.init();case 1:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=localStorage.getItem("record"),n&&(t.record=JSON.parse(n)),a=t.$route.query,a.token?t.select({token:JSON.parse(a.token),who:"to"}):t.select({token:t.toPair,who:"to"});case 4:case"end":return e.stop()}}),e)})))()},goV2:function(){location.href="https://pinswap.gitee.io/v2/#/bridge"},noAccess:function(){return vant.Toast.fail("请切换到币安链！")},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},select:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=t.token,s=t.who,n.t0=s,n.next="send"===n.t0?4:"to"===n.t0?13:23;break;case 4:if(![e.toToken.symbol,e.toToken.tokenSymbol].includes(a.tokenSymbol)){n.next=8;break}return n.abrupt("return",e.switchToken());case 8:if("TRX"!==a.tokenSymbol){n.next=11;break}return e.sendPair=null,n.abrupt("break",23);case 11:return e["TRX"===e.toToken.symbol?"toPair":"sendPair"]=a,n.abrupt("break",23);case 13:if(![e.sendToken.symbol,e.sendToken.tokenSymbol].includes(a.tokenSymbol)){n.next=17;break}return n.abrupt("return",e.switchToken());case 17:if("TRX"!==a.tokenSymbol){n.next=21;break}return e.toPair=e.sendPair,e.sendPair=null,n.abrupt("break",23);case 21:return e.toPair=a,n.abrupt("break",23);case 23:if(e["send"===s?"sendToken":"toToken"]={logo:a.tokenLogoUrl,symbol:a.tokenSymbol},e.input(),![e.sendToken.symbol,e.toToken.symbol].includes("TRX")){n.next=38;break}if("TRX"!==e.sendToken.symbol){n.next=32;break}return n.next=29,e.getTrxToToken(1);case 29:n.t2=n.sent,n.next=35;break;case 32:return n.next=34,e.getTokenToTrx(1);case 34:n.t2=n.sent;case 35:n.t1=n.t2,n.next=41;break;case 38:return n.next=40,e.getTokenToToken(1);case 40:n.t1=n.sent;case 41:if(e.price=n.t1,![e.sendToken.symbol,e.toToken.symbol].includes("TRX")){n.next=55;break}if("TRX"!==e.sendToken.symbol){n.next=49;break}return n.next=46,e.getTokenToTrx(1);case 46:n.t4=n.sent,n.next=52;break;case 49:return n.next=51,e.getTrxToToken(1);case 51:n.t4=n.sent;case 52:n.t3=n.t4,n.next=58;break;case 55:return n.next=57,e.getTokenToToken(1,"to");case 57:n.t3=n.sent;case 58:if(e.fromPrice=n.t3,"TRX"===e.toPair.tokenSymbol){n.next=67;break}return n.next=62,Object(o["q"])(e.toPair.address);case 62:r=n.sent,i=r.data,e.totalLiquidity=Math.floor(i.totalLiquidity),n.next=72;break;case 67:return n.next=69,Object(o["q"])(e.sendPair.address);case 69:c=n.sent,u=c.data,e.totalLiquidity=Math.floor(u.totalLiquidity);case 72:if("TRX"===e.sendToken.symbol){n.next=80;break}return l="TRX"===e.toToken.symbol?"toPair":"sendPair",n.next=76,e.$utils.call({contractAddress:e[l].tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 76:return e.balance=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e[l].tokenDecimal),n.next=79,e.getAllowance();case 79:e.allowance=n.sent;case 80:case"end":return n.stop()}}),n)})))()},exchange:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.sendAmount>t.balance)){e.next=2;break}return e.abrupt("return",vant.Toast.fail(t.$t("transaction.text12")));case 2:if("TRX"!==t.sendToken.symbol){e.next=6;break}t.sendTrxToToken(),e.next=11;break;case 6:if(n="TRX"===t.toToken.symbol?t.toPair.tokenDecimal:t.sendPair.tokenDecimal,!t.sendAmount.toSun(n).tronToBN().isGreaterThan(t.allowance)){e.next=10;break}return e.next=10,t.approve();case 10:"TRX"===t.toToken.symbol?t.sendTokenToTrx():t.sendTokenToToken();case 11:case"end":return e.stop()}}),e)})))()},switchToken:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if([t.sendToken.symbol,t.toToken.symbol].includes("TRX")||(n=[t.toPair,t.sendPair],t.sendPair=n[0],t.toPair=n[1]),a=[t.toToken,t.sendToken],t.sendToken=a[0],t.toToken=a[1],t.input(),![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){e.next=18;break}if("TRX"!==t.sendToken.symbol){e.next=12;break}return e.next=9,t.getTrxToToken(1);case 9:e.t1=e.sent,e.next=15;break;case 12:return e.next=14,t.getTokenToTrx(1);case 14:e.t1=e.sent;case 15:e.t0=e.t1,e.next=21;break;case 18:return e.next=20,t.getTokenToToken(1);case 20:e.t0=e.sent;case 21:if(t.price=e.t0,![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){e.next=35;break}if("TRX"!==t.sendToken.symbol){e.next=29;break}return e.next=26,t.getTokenToTrx(1);case 26:e.t3=e.sent,e.next=32;break;case 29:return e.next=31,t.getTrxToToken(1);case 31:e.t3=e.sent;case 32:e.t2=e.t3,e.next=38;break;case 35:return e.next=37,t.getTokenToToken(1,"to");case 37:e.t2=e.sent;case 38:if(t.fromPrice=e.t2,"TRX"===t.sendToken.symbol||"TRX"===t.toToken.symbol){e.next=48;break}return e.next=42,t.$utils.call({contractAddress:t.sendPair.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 42:return t.balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun((t.sendPair||t.toPair).tokenDecimal),e.next=45,t.getAllowance();case 45:t.allowance=e.sent,e.next=60;break;case 48:if("TRX"===t.sendToken.symbol){e.next=57;break}return e.next=51,t.$utils.call({contractAddress:t.toPair.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 51:return t.balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun((t.sendPair||t.toPair).tokenDecimal),e.next=54,t.getAllowance();case 54:t.allowance=e.sent,e.next=60;break;case 57:return e.next=59,tronWeb.trx.getBalance(t.$address);case 59:t.balance=e.sent.fromSun();case 60:case"end":return e.stop()}}),e)})))()},input:function(){var t=this;if(""===this.sendAmount)return this.toAmount="",this.disabled=!0,!1;if(!this.changed)return!1;this.changed=!1,this.disabled=!1,this.gasPrice="".concat(this.sendAmount/1e3*3," ").concat(this.sendToken.symbol);var e=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.sendAmount.length>0)){n.next=18;break}if(![t.sendToken.symbol,t.toToken.symbol].includes("TRX")){n.next=14;break}if("TRX"!==t.sendToken.symbol){n.next=8;break}return n.next=5,t.getTrxToToken(t.sendAmount);case 5:n.t1=n.sent,n.next=11;break;case 8:return n.next=10,t.getTokenToTrx(t.sendAmount);case 10:n.t1=n.sent;case 11:n.t0=n.t1,n.next=17;break;case 14:return n.next=16,t.getTokenToToken(t.sendAmount);case 16:n.t0=n.sent;case 17:t.toAmount=n.t0;case 18:t.changed=!0,clearTimeout(e);case 20:case"end":return n.stop()}}),n)}))),1e3)},getAllowance:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="TRX"===t.toToken.symbol?t.toPair.tokenAddress:t.sendPair.tokenAddress,a="TRX"===t.toToken.symbol?t.toPair.address:t.sendPair.address,e.next=4,t.$utils.call({contractAddress:n,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:a}]});case 4:return e.abrupt("return",e.sent.constant_result[0].decode(["uint256"]).toString());case 5:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t.sendToken.symbol,t.toToken.symbol].includes("TRX")?"toPair":"sendPair",a=tronWeb.contract(c,t[n].tokenAddress),e.abrupt("return",new Promise((function(e){a.approve(t[n].address,t.sendAmount.toSun(t[n].tokenDecimal)).send().then(function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,t.listeningTransaction(a,"inApprove");case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())})));case 3:case"end":return e.stop()}}),e)})))()},getTrxToToken:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$utils.call({contractAddress:n["send"===e?"sendPair":"toPair"].address,method:"getTrxToTokenInputPrice(uint256)",parameter:[{type:"uint256",value:t.toSun()}]});case 2:return a.abrupt("return",a.sent.constant_result[0].decode(["uint256"]).toString().fromSun(n["send"===e?"sendPair":"toPair"].tokenDecimal));case 3:case"end":return a.stop()}}),a)})))()},getTokenToTrx:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$utils.call({contractAddress:n["send"===e?"sendPair":"toPair"].address,method:"getTokenToTrxInputPrice(uint256)",parameter:[{type:"uint256",value:t.toSun(n["send"===e?"sendPair":"toPair"].tokenDecimal)}]});case 2:return a.abrupt("return",a.sent.constant_result[0].decode(["uint256"]).toString().fromSun());case 3:case"end":return a.stop()}}),a)})))()},getTokenToToken:function(t){var e=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.length>1&&void 0!==e[1]?e[1]:"send",a.next=3,n.getTokenToTrx(t,s);case 3:return r=a.sent,a.next=6,n.getTrxToToken(r,"send"===s?"to":"send");case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),a)})))()},sendTrxToToken:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(i,t.toPair.address),a=t.toAmount.toSun(t.toPair.tokenDecimal).tronToBN(),s=a.minus(a.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),o=s.indexOf("."),c=o>0?s.slice(0,o):s,u=Math.floor((new Date).getTime()/1e3)+t.deadline,t.min=c.fromSun(t.toPair.tokenDecimal),n.trxToTokenSwapInput(c,u).send({callValue:t.sendAmount.toSun(),feeLimit:"100".toSun()}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}s=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},s[t.$address]&&Number(s[t.$address].time)===a?s[t.$address]={time:a,amount:Number(s[t.$address].amount)+Number(t.toAmount)}:s[t.$address]={time:a,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(s));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))()},sendTokenToTrx:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(i,t.toPair.address),a=t.sendAmount.toSun(t.toPair.tokenDecimal),s=t.toAmount.toSun().tronToBN(),o=s.minus(s.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),c=o.indexOf("."),u=c>0?o.slice(0,c):o,l=Math.floor((new Date).getTime()/1e3)+t.deadline,t.min=u.fromSun(),n.tokenToTrxSwapInput(a,u,l).send({feeLimit:"100".toSun()}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}s=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},s[t.$address]&&Number(s[t.$address].time)===a?s[t.$address]={time:a,amount:Number(s[t.$address].amount)+Number(t.toAmount)}:s[t.$address]={time:a,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(s));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))()},sendTokenToToken:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s,o,c,u,l,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=tronWeb.contract(i,t.sendPair.address),a=t.sendAmount.toSun(t.sendPair.tokenDecimal),s=t.toAmount.toSun(t.toPair.tokenDecimal).tronToBN(),o=s.minus(s.dividedBy(100).multipliedBy(t.slipPoint)).toFixed(),c=o.indexOf("."),u=c>0?o.slice(0,c):o,l="1".toSun(),d=Math.floor((new Date).getTime()/1e3)+t.deadline,m=t.toPair.tokenAddress,t.min=u.fromSun(t.toPair.tokenDecimal),n.tokenToTokenSwapInput(a,u,l,d,m).send({feeLimit:"100".toSun()}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=86400*Math.floor((new Date).getTime()/1e3/86400),e.next=3,t.listeningTransaction(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0="PIN"===t.toToken.symbol;case 6:if(!e.t0){e.next=10;break}s=localStorage.getItem("swap")?JSON.parse(localStorage.getItem("swap")):{},s[t.$address]&&Number(s[t.$address].time)===a?s[t.$address]={time:a,amount:Number(s[t.$address].amount)+Number(t.toAmount)}:s[t.$address]={time:a,amount:t.toAmount},localStorage.setItem("swap",JSON.stringify(s));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})))()},listeningTransaction:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inTransaction";return this[n]=!0,new Promise(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(s){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=setInterval(Object(r["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,tronWeb.trx.getTransaction(t);case 2:r=a.sent,r.ret&&("SUCCESS"===r.ret[0].contractRet?(e[n]=!1,"inTransaction"===n&&(i={date:e.formatDate(r.raw_data.timestamp),from:{symbol:e.sendToken.symbol,amount:e.sendAmount},to:{symbol:e.toToken.symbol,amount:e.toAmount}},localStorage.setItem("record",JSON.stringify(i)),e.record=i),s(!0)):s(!1),clearInterval(o));case 4:case"end":return a.stop()}}),a)}))),2e3);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},formatDate:function(t){function e(t){return t<10?"0".concat(t):t}var n=new Date(t),a=n.getFullYear(),s=e(n.getMonth()+1),r=e(n.getDate()),o=e(n.getHours()),i=e(n.getMinutes());return"".concat(a,"/").concat(s,"/").concat(r," ").concat(o,":").concat(i)}},components:{"mk-header":function(){return Promise.resolve().then(n.bind(null,"68d4"))},"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))},"transation-state":function(){return Promise.resolve().then(n.bind(null,"5942"))}}},l=u,d=l,m=(n("98b6"),n("2877")),p=Object(m["a"])(d,a,s,!1,null,"1c1c2feb",null);e["default"]=p.exports},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"8cec":function(t,e,n){var a={"./v0.png":"80fc","./v1.png":"37f9","./v1not.png":"627d","./v2.png":"81fb","./v2not.png":"9622","./v3.png":"6905","./v3not.png":"0bd6","./verify_status.png":"aef1","./version.png":"68da"};function s(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=r,t.exports=s,s.id="8cec"},9263:function(t,e,n){"use strict";var a=n("ad6d"),s=n("9f7f"),r=RegExp.prototype.exec,o=String.prototype.replace,i=r,c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=s.UNSUPPORTED_Y||s.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=c||l||u;d&&(i=function(t){var e,n,s,i,d=this,m=u&&d.sticky,p=a.call(d),f=d.source,v=0,h=t;return m&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(f="(?: "+f+")",h=" "+h,v++),n=new RegExp("^(?:"+f+")",p)),l&&(n=new RegExp("^"+f+"$(?!\\s)",p)),c&&(e=d.lastIndex),s=r.call(m?n:d,h),m?s?(s.input=s.input.slice(v),s[0]=s[0].slice(v),s.index=d.lastIndex,d.lastIndex+=s[0].length):d.lastIndex=0:c&&s&&(d.lastIndex=d.global?s.index+s[0].length:e),l&&s&&s.length>1&&o.call(s[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)})),s}),t.exports=i},"98b6":function(t,e,n){"use strict";n("b7d5")},"9f7f":function(t,e,n){"use strict";var a=n("d039");function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a648:function(t,e,n){},a942:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"transaction tabbar-page"},[a("mk-header"),a("router-link",{attrs:{to:"/mining"}},[a("img",{attrs:{src:n("1868")("./bsc-transaction-banner-"+t.$i18n.locale+".png")}})]),a("div",{staticClass:"exchange-container"},[a("div",{staticClass:"exchange-box"},[a("div",{staticClass:"exchange"},[a("div",{staticClass:"input"},[a("van-field",{attrs:{type:"number",placeholder:t.$t("transaction.text1")},on:{input:t.input},model:{value:t.amount0,callback:function(e){t.amount0=e},expression:"amount0"}}),a("i"),a("div",{staticClass:"select",on:{click:function(e){return t.openSearch(0)}}},[a("img",{attrs:{src:""+t.imgPath+t.token0.logoURI}}),a("div",[a("span",{domProps:{textContent:t._s(t.token0.symbol)}}),a("img",{attrs:{src:n("8d5b")}})])])],1),a("div",{staticClass:"balance"},[a("span",{on:{click:t.allBalance}},[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance.toFixed(2)))]),a("img",{attrs:{src:n("1b07")},on:{click:t.switchToken}})]),a("div",{staticClass:"input"},[a("van-field",{attrs:{type:"number",readonly:"",placeholder:t.$t("transaction.text3")},model:{value:t.amount1,callback:function(e){t.amount1=e},expression:"amount1"}}),a("i"),a("div",{staticClass:"select",on:{click:function(e){return t.openSearch(1)}}},[a("img",{attrs:{src:""+t.imgPath+t.token1.logoURI}}),a("div",[a("span",{domProps:{textContent:t._s(t.token1.symbol)}}),a("img",{attrs:{src:n("8d5b")}})])])],1),a("div",{staticClass:"setting-info"},[a("div",{staticClass:"rate"},[a("div",[t.rateChange?a("span",[t._v(t._s(t.$t("transaction.text4"))+" 1 "+t._s(t.token1.symbol)+" ≈ "+t._s(t.rate0)+" "+t._s(t.token0.symbol))]):a("span",[t._v(t._s(t.$t("transaction.text4"))+" 1 "+t._s(t.token0.symbol)+" ≈ "+t._s(t.rate1)+" "+t._s(t.token1.symbol))]),a("span",[t._v(t._s(t.$t("transationState.text10"))+" "+t._s(t.gasPrice))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"PIN"===t.token0.symbol,expression:"token0.symbol === 'PIN'"}]},[t._v(t._s(t.$t("transaction.text14"))+" "+t._s(t.burn))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.path.length>2,expression:"path.length > 2"}]},[a("span",[t._v(t._s(t.$t("transaction.text15")))]),a("div",[a("span",[t._v(t._s(t.token0.symbol))]),a("img",{attrs:{src:n("097a")}}),a("span",[t._v(t._s(t.path[1].symbol))]),a("img",{attrs:{src:n("097a")}}),a("span",[t._v(t._s(t.token1.symbol))])])])]),a("img",{attrs:{src:n("1b07")},on:{click:function(e){t.rateChange=!t.rateChange}}})])]),a("div",{staticClass:"button"},[a("img",{attrs:{src:n("b012")},on:{click:t.openSetting}}),a("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.inTransaction&&!t.inApprove,expression:"!inTransaction && !inApprove"}],attrs:{type:"info",disabled:t.disabled},on:{click:t.exchange}},[t._v(t._s(t.$t("transaction.text5")))]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inApprove&&!t.inTransaction,expression:"inApprove && !inTransaction"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text6")}}),a("van-button",{directives:[{name:"show",rawName:"v-show",value:t.inTransaction&&!t.inApprove,expression:"inTransaction && !inApprove"}],staticClass:"inTransaction",attrs:{loading:"","loading-type":"spinner","loading-text":t.$t("transaction.text7")}})],1),a("div",{staticClass:"show-assets-pool",on:{click:function(e){t.poolToggle=!t.poolToggle}}},[a("span",[t._v(t._s(t.$t("transaction.text8")))]),a("img",{class:t.poolToggle?"active":"",attrs:{src:n("a284")}})])]),a("div",{staticClass:"assets-pool-container",class:t.poolToggle?"enter":""},[a("div",{staticClass:"assets-pool"},[a("span",[t._v(t._s(t.$t("transaction.text9")))]),t._l(t.assetsPoolList,(function(e){return a("van-row",{key:e,attrs:{type:"flex",justify:"space-between"}},t._l(e,(function(e){return a("van-col",{key:e.name,attrs:{span:"11"}},[a("img",{attrs:{src:e.icon}}),a("span",{domProps:{textContent:t._s(e.name)}})])})),1)})),a("div",{staticClass:"back",on:{click:function(e){t.poolToggle=!1}}},[a("img",{attrs:{src:n("a284")}}),a("span",[t._v(t._s(t.$t("transaction.text10")))])])],2)])]),t.records.length<=0?a("div",{staticClass:"empty"},[a("img",{attrs:{src:n("1427")}}),a("span",[t._v(t._s(t.$t("record.text15")))])]):t._e(),t._l(t.records,(function(e){return a("div",{key:e.date,staticClass:"record"},[a("div",[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("transaction.text11")))]),a("span",{domProps:{textContent:t._s(e.date)}})]),a("div",{staticClass:"pair"},[a("div",[a("span",{domProps:{textContent:t._s(e.symbol0)}}),a("span",{domProps:{textContent:t._s(e.amount0)}})]),a("img",{attrs:{src:n("004e")}}),a("div",[a("span",{domProps:{textContent:t._s(e.symbol1)}}),a("span",{domProps:{textContent:t._s(e.amount1)}})])])])])}))],2),a("transation-state",{attrs:{transaction:t.inTransaction,from:{amount:t.amount0,symbol:t.token0.symbol},to:{amount:t.amount1,symbol:t.token1.symbol},"slip-point":t.slipPoint+"%",min:t.amountOutMin,"to-price":t.rate1,"from-price":t.rate0}}),a("search-tokens",{ref:"searchTokens",on:{select:t.select}}),a("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},s=[];n("99af"),n("4160"),n("d81d"),n("fb6a"),n("a9e3"),n("b680"),n("d3b7"),n("159b");function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function o(t){if(Array.isArray(t))return r(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("3ca3"),n("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("b0c0"),n("25f0");function c(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return o(t)||i(t)||c(t)||u()}n("96cf");var d=n("1da1"),m=n("5530"),p=n("b4e9"),f=n("b9cc"),v=n("beee"),h={data:function(){return{token0:p["g"],token1:p["f"],balance:0,pairAddress:null,pairContract:null,reserve0:"0".toBN(),reserve1:"0".toBN(),rate0:"--",rate1:"--",rateChange:!1,records:[],amount0:"",amount1:"",poolToggle:!1,setupToggle:!1,assetsPool:[],changed:!0,slipPoint:2,deadline:600,inApprove:!1,inTransaction:!1,allowance:0,amountOutMin:0,assetsPoolList:[[{icon:n("41a2"),name:"PinSwap"},{icon:n("3228"),name:"PancankeSwap"}]],disabled:!0,gasPrice:"0.3%",burn:"5%",path:[p["g"],p["f"]],inputing:!1}},computed:Object(m["a"])(Object(m["a"])({},Vuex.mapState(["imgPath"])),{},{invalidPair:function(){return!this.pairAddress||this.reserve0.lt("0.1".toWei(this.token0.decimals))||this.reserve1.lt("0.1".toWei(this.token1.decimals))}}),created:function(){this.$contracts&&this.init()},methods:{init:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.$route.query,a=n.token?JSON.parse(n.token):p["f"],t.select(a),t.getTradeList();case 4:case"end":return e.stop()}}),e)})))()},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},allBalance:function(){if("BNB"===this.token0.symbol)return!1;this.amount0=this.balance,this.input()},select:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"PIN"===t.symbol&&(this.slipPoint=10);var a=this["token".concat(Number(!n))];if(a.symbol===t.symbol)return this.switchToken();this["token".concat(n)]=t;var s=new this.$web3.BatchRequest,r=new this.$web3.eth.Contract(f,this.token0.address);this.token0.symbol===p["b"].symbol?s.add(this.$web3.eth.getBalance.request(this.$address,"latest")):s.add(r.methods.balanceOf(this.$address).call.request({from:this.$address})),s.add(this.$Factory.methods.getPair(this.token0.address,this.token1.address).call.request({from:this.$address})),s.add(r.methods.allowance(this.$address,p["d"]).call.request({from:this.$address})),s.requestManager.sendBatch(s.requests,(function(t,n){if(!t){var a=n[1].result.decode(["address"]);e.balance=n[0].result.fromWei(e.token0.decimals),e.pairAddress=0!==Number(a)?a:null,e.pairContract=0!==Number(a)?new e.$web3.eth.Contract(v,a):null,e.allowance=n[2].result.fromWei(e.token0.decimals),e.pairContract?(e.pairContract.methods.getReserves().call((function(t,n){var a=e.token0.address.toBN().lt(e.token1.address.toBN());e.reserve0=(a?n._reserve0:n._reserve1).toBN(),e.reserve1=(a?n._reserve1:n._reserve0).toBN();var s="1".toWei(e.token0.decimals).toBN().times(997),r=s.times(e.reserve1),o=e.reserve0.times(1e3).plus(s),i="1".toWei(e.token1.decimals).toBN().times(997),c=i.times(e.reserve0),u=e.reserve1.times(1e3).plus(i);e.rate0=c.div(u).toFixed(0).fromWei(e.token0.decimals).toFixed(6),e.rate1=r.div(o).toFixed(0).fromWei(e.token1.decimals).toFixed(6),e.input()})),e.path=[e.token0,e.token1]):e.searchPair()}}))},searchPair:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n,a,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<p["o"].length)){e.next=18;break}return e.next=4,t.hasPair(p["o"][n].address);case 4:if(a=e.sent,s=a.hasPair,r=a.pairAddr,!s){e.next=15;break}return t.path=[t.token0,p["o"][n],t.token1],t.pairAddress=r,t.getAmountsOut(1,t.path).then((function(e){t.rate1=e.toFixed(6)})),o=l(t.path),t.getAmountsOut(1,o.reverse()).then((function(e){t.rate0=e.toFixed(6)})),t.input(),e.abrupt("return",!1);case 15:n++,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))()},hasPair:function(t){var e=this;return new Promise((function(n){var a=new e.$web3.BatchRequest;a.add(e.$Factory.methods.getPair(e.token0.address,t).call.request({from:e.$address})),a.add(e.$Factory.methods.getPair(e.token1.address,t).call.request({from:e.$address})),a.requestManager.sendBatch(a.requests,(function(t,e){if(!t){var a=e[0].result.decode(["address"]),s=e[1].result.decode(["address"]);n({hasPair:0!==Number(a)&&0!==Number(s),pairAddr:a})}}))}))},exchange:function(){if(this.amount0.toBN().gt(this.balance))return vant.Toast.fail(this.$t("transaction.text12"));this.token0.symbol===p["b"].symbol?this.swapExactETHForTokens():this.amount0.toBN().gt(this.allowance)?this.approve():this.sendTokenTransaction()},sendTokenTransaction:function(){this.token1.symbol===p["b"].symbol?this.swapExactTokensForETH():this.swapExactTokensForTokens()},switchToken:function(){var t=this.token0;this.token0=this.token1,this.token1=t,this.select(t)},input:function(){var t=this;if(this.inputing)return!1;if(this.invalidPair)return this.disabled=!0,void(this.amount1="");if(Number(this.amount0)<=0)return this.amount1="",this.gasPrice="0.3%",this.burn="5%",this.disabled=!0,void(this.inputing=!1);this.inputing=!0;var e=setTimeout((function(){if(Number(t.amount0)<=0)return t.amount1="",t.gasPrice="0.3%",t.burn="5%",t.disabled=!0,t.inputing=!1,clearTimeout(e),!1;t.getAmountsOut(t.amount0,t.path).then((function(n){t.amount1=n,t.inputing=!1,clearTimeout(e)}))}),500);this.disabled=!1,this.gasPrice="".concat(this.amount0.toBN().times(.003).toFixed().toFixed(this.token0.decimals)," ").concat(this.token0.symbol),this.burn="".concat(this.amount0.toBN().times(.05).toFixed().toFixed(this.token0.decimals)," ").concat(this.token0.symbol)},getAmountsOut:function(t,e){var n=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$Router.methods.getAmountsOut(t.toWei(e[0].decimals),e.map((function(t){return t.address}))).call({from:n.$address});case 2:return s=a.sent,r=e.length-1,a.abrupt("return",s[r].fromWei(e[r].decimals).toFixed(e[r].decimals));case 5:case"end":return a.stop()}}),a)})))()},approve:function(){var t=this;if(this.amount0.toBN().gt(this.balance))return vant.Toast.fail(this.$t("transaction.text12"));var e=new this.$web3.eth.Contract(f,this.token0.address);e.methods.approve(p["d"],this.amount0.toWei(this.token0.decimals).toBN().times(10).toFixed()).send({from:this.$address}).on("transactionHash",(function(e){t.inApprove=!0})).on("receipt",function(){var n=Object(d["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.methods.allowance(t.$address,p["d"]).call.request({from:t.$address});case 2:t.allowance=n.sent,t.inApprove=!1;case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).on("error",(function(e){t.inApprove=!1,vant.Toast.fail(t.$t("transaction.text13"))}))},swapExactTokensForTokens:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.amount1.toWei(this.token1.decimals).toBN(),a=n.minus(n.div(100).times(this.slipPoint)).toFixed(0);this.amountOutMin=a.fromWei(this.token1.decimals).toFixed(this.token1.decimals),this.$Router.methods.swapExactTokensForTokensSupportingFeeOnTransferTokens(this.amount0.toWei(this.token0.decimals),a,this.path.map((function(t){return t.address})),this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.inTransaction=!0})).on("receipt",(function(e){t.inTransaction=!1})).on("error",(function(e){t.inTransaction=!1,vant.Toast.fail(t.$t("transaction.text13"))}))},swapExactTokensForETH:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.amount1.toWei(this.token1.decimals).toBN(),a=n.minus(n.div(100).times(this.slipPoint)).toFixed(0);this.amountOutMin=a.fromWei(this.token1.decimals).toFixed(this.token1.decimals),this.$Router.methods.swapExactTokensForETHSupportingFeeOnTransferTokens(this.amount0.toWei(this.token0.decimals),a,this.path.map((function(t){return t.address})),this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.inTransaction=!0})).on("receipt",(function(e){t.inTransaction=!1})).on("error",(function(e){t.inTransaction=!1,vant.Toast.fail(t.$t("transaction.text13"))}))},swapExactETHForTokens:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.amount1.toWei(this.token1.decimals).toBN(),a=n.minus(n.div(100).times(this.slipPoint)).toFixed(0);this.amountOutMin=a.fromWei(this.token1.decimals).toFixed(this.token1.decimals),this.$Router.methods.swapExactETHForTokensSupportingFeeOnTransferTokens(a,this.path.map((function(t){return t.address})),this.$address,e).send({from:this.$address,value:this.amount0.toWei(this.token0.decimals)}).on("transactionHash",(function(e){t.inTransaction=!0})).on("receipt",(function(e){t.inTransaction=!1})).on("error",(function(e){t.inTransaction=!1,vant.Toast.fail(t.$t("transaction.text13"))}))},getTradeList:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,Object(p["l"])(t.$address);case 3:a=e.sent.slice(0,3),a.forEach((function(e){var a;a="0x7ff36ab5"===e.input.slice(0,10)?Object(m["a"])(Object(m["a"])({},e.input.slice(10).decode([{type:"uint",name:"amountOutMin"},{type:"address[]",name:"path"}])),{},{amountIn:e.value,date:t.formatDate(e.timeStamp)}):Object(m["a"])(Object(m["a"])({},e.input.slice(10).decode([{type:"uint",name:"amountIn"},{type:"uint",name:"amountOutMin"},{type:"address[]",name:"path"}])),{},{date:t.formatDate(e.timeStamp)}),n.push(a)})),s=new t.$web3.BatchRequest,s.add(t.$web3.eth.getBlockNumber.request()),n.forEach((function(e){var n=new t.$web3.eth.Contract(f,e.path[0]),a=new t.$web3.eth.Contract(f,e.path[e.path.length-1]);s.add(n.methods.symbol().call.request({from:t.address})),s.add(n.methods.decimals().call.request({from:t.address})),s.add(a.methods.symbol().call.request({from:t.address})),s.add(a.methods.decimals().call.request({from:t.address}))})),s.requestManager.sendBatch(s.requests,function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(a,s){var r,o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){for(r=[],o=0,i=1;i<s.length;i+=4)c=s[i].result.decode(["string"]),u=s[i+2].result.decode(["string"]),r.push({amount0:n[o].amountIn.fromWei(s[i+1].result.decode(["uint8"])).toFixed(6),symbol0:c==="W".concat(p["b"].symbol)?p["b"].symbol:c,amount1:n[o].amountOutMin.fromWei(s[i+3].result.decode(["uint8"])).toFixed(6),symbol1:u==="W".concat(p["b"].symbol)?p["b"].symbol:u,date:n[o].date}),o++;t.records=r}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))()},formatDate:function(t){function e(t){return t<10?"0".concat(t):t}var n=new Date(1e3*t),a=n.getFullYear(),s=e(n.getMonth()+1),r=e(n.getDate()),o=e(n.getHours()),i=e(n.getMinutes());return"".concat(a,"/").concat(s,"/").concat(r," ").concat(o,":").concat(i)}},components:{"mk-header":function(){return Promise.resolve().then(n.bind(null,"7150"))},"search-tokens":function(){return Promise.resolve().then(n.bind(null,"e77e"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))},"transation-state":function(){return Promise.resolve().then(n.bind(null,"5942"))}}},g=h,b=g,k=(n("301e"),n("d2e5"),n("2877")),x=Object(k["a"])(b,a,s,!1,null,"659755b1",null);e["default"]=x.exports},ac1f:function(t,e,n){"use strict";var a=n("23e7"),s=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},b7d5:function(t,e,n){},c32e:function(t,e,n){},c430a:function(t,e,n){"use strict";n("335c")},cbc1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[a("div",{staticClass:"winning",on:{click:function(t){t.stopPropagation()}}},[a("img",{attrs:{src:n("992d")}}),a("div",[a("div",{staticClass:"winningTitle"},[a("span",[t._v(t._s(t.luckyNumber))]),a("div",[t._v(t._s(t.$t("winning.text1")))])]),a("div",{staticClass:"winningInfo"},[a("div",[a("span",[t._v(t._s(t.$t("winning.text2")))]),a("span",[t._v(t._s(t.luckyBlock))])]),a("div",[a("span",[t._v(t._s(t.$t("winning.text3")))]),a("span",{domProps:{innerHTML:t._s(t.hash)}})])]),a("div",{staticClass:"winningList"},[a("div",[a("span",[t._v(t._s(t.$t("winning.text4")))]),a("span",[t._v(t._s(t.$t("winning.text5")))]),a("span",[t._v(t._s(t.$t("winning.text6")))])]),t._l(t.list,(function(e,n){return a("div",{key:n},[a("span",[t._v(t._s(e.address))]),a("span",[t._v(t._s(e.index))]),a("span",[t._v(t._s(e.amount))])])}))],2),a("van-button",{on:{click:t.doSettlement}},[t._v(t._s(t.$t("winning.text7")))])],1)])])},s=[],r=(n("96cf"),n("1da1")),o={data:function(){return{show:!1,list:[],luckyNumber:"",luckyBlock:"",hash:""}},methods:{doSettlement:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("cancelGetData"),n=t.$contracts.Pin.methods.doSettlement(t.$route.query.id),n.call({from:t.$address},(function(e,a){e||n.send({from:t.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:t.$t("transaction.text7"),forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(e){vant.Toast.clear(),t.$getBalance(),t.$emit("refreshData"),vant.Toast.success(t.$t("winning.text8"))})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail(t.$t("transaction.text13"))}))}));case 3:case"end":return e.stop()}}),e)})))()},display:function(t,e,n,a){this.luckyNumber=t,this.luckyBlock=e,this.hash=n,this.list=a,this.show=!0}}},i=o,c=i,u=(n("83cd"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,"3155cc5c",null);e["default"]=l.exports},d2e5:function(t,e,n){"use strict";n("dcab")},d701:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start"},[n("img",{attrs:{src:t.url}})])},s=[],r=(n("ac1f"),n("5319"),{data:function(){return{url:n("7c84")}},created:function(){var t=this,e=n("7c84"),a=setInterval((function(){t.$contracts?(clearInterval(a),t.$router.replace("/transaction-bsc")):t.$utils&&(clearInterval(a),t.$router.replace("/transaction")),t.url="",t.$nextTick((function(){t.url=e}))}),2e3)}}),o=r,i=(n("0e02"),n("2877")),c=Object(i["a"])(o,a,s,!1,null,"23cdb8cb",null);e["default"]=c.exports},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),s=n("d039"),r=n("b622"),o=n("9263"),i=n("9112"),c=r("species"),u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),m=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var f=r(t),v=!s((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=v&&!s((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!v||!h||"replace"===t&&(!u||!l||m)||"split"===t&&!p){var g=/./[f],b=n(f,""[t],(function(t,e,n,a,s){return e.exec===o?v&&!s?{done:!0,value:g.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),k=b[0],x=b[1];a(String.prototype,t,k),a(RegExp.prototype,f,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}d&&i(RegExp.prototype[f],"sham",!0)}},d81d:function(t,e,n){"use strict";var a=n("23e7"),s=n("b727").map,r=n("1dde"),o=n("ae40"),i=r("map"),c=o("map");a({target:"Array",proto:!0,forced:!i||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},dcab:function(t,e,n){},e531:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-overlay",{attrs:{show:t.show},on:{click:t.swithShow}},[a("div",{staticClass:"fastJoin",on:{click:function(t){t.stopPropagation()}}},[a("div",[a("div",{staticClass:"fastJoinTitle"},[a("span",[t._v(t._s(t.$t("fastJoin.text1")))]),a("div",[t._v(t._s(t.$t("fastJoin.text2")))])]),a("div",{staticClass:"fastJoinStep"},[a("div",[a("div",[a("span",[t._v(t._s(t.$t("fastJoin.text3")))]),a("div"),a("span",[t._v(t._s(t.$t("fastJoin.text4")))])]),a("div",[a("span",[t._v(t._s(t.$t("fastJoin.text5")))]),a("div"),a("span",[t._v(t._s(t.$t("fastJoin.text6")))])]),a("div",[a("span",[t._v(t._s(t.$t("fastJoin.text7")))]),a("div"),a("span",[t._v(t._s(t.$t("fastJoin.text8")))])])])]),a("div",{staticClass:"fastJoinInput"},[a("span",[t._v(t._s(t.$t("fastJoin.text9")))]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.earnestAmount,expression:"earnestAmount"}],attrs:{type:"number",disabled:"disabled"},domProps:{value:t.earnestAmount},on:{input:function(e){e.target.composing||(t.earnestAmount=e.target.value)}}}),a("div",{staticClass:"bule",on:{click:function(e){return t.$router.push("/margin")}}},[a("span",[t._v(t._s(t.$t("record.text12")))]),a("img",{attrs:{src:n("93cf")}})])])]),a("div",{staticClass:"fastJoinInput"},[a("span",[t._v(t._s(t.$t("fastJoin.text11")))]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"number",placeholder:"0",disabled:"disabled"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),a("div",[a("span",[t._v("PIN")])])])]),a("van-button",{directives:[{name:"ButClickLimit",rawName:"v-ButClickLimit"}],attrs:{disabled:Boolean(t.time)},on:{click:t.match}},[t.time?t._e():a("span",[t._v(t._s(t.$t("fastJoin.text13")))]),t.time?a("span",[t._v(t._s(t.$t("fastJoin.text21")))]):t._e(),t.time?a("van-count-down",{attrs:{time:t.time}}):t._e()],1)],1)]),a("self-authorize",{ref:"authorize",on:{send:t.match}})],1)},s=[],r=(n("a9e3"),n("b680"),n("d3b7"),n("96cf"),n("1da1")),o=n("5530"),i={components:{"self-authorize":function(){return Promise.resolve().then(n.bind(null,"38fc"))}},data:function(){return{show:!1,active:"",earnestAmount:"",value:50,time:0,isJoin:!1}},computed:Object(o["a"])({},Vuex.mapState(["orderResult"])),created:function(){this.$contracts&&this.init()},methods:{swithShow:function(){this.show=!this.show},init:function(){var t=this;this.$contracts.Pin.methods.players(this.$address).call({from:this.$address},(function(e,n){e||(t.earnestAmount=n.earnestAmount.fromWei().toFixed(4))})),this.$contracts.Pin.methods.stalls(0).call({from:this.$address},(function(e,n){e||(t.value=n.payment.fromWei())}))},match:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Number(t.value),a=Number(t.earnestAmount),e.next=4,t.$contracts.PinToken.methods.allowance(t.$address,t.$contracts.Pin._address).call({from:t.$address});case 4:if(s=e.sent.fromWei(),""!=n){e.next=9;break}return e.abrupt("return",vant.Toast.fail(t.$t("fastJoin.text14")));case 9:if(a&&!(n>a)){e.next=13;break}return e.abrupt("return",vant.Toast.fail(t.$t("fastJoin.text16")));case 13:if(!(n>s)){e.next=18;break}return t.$refs.authorize.amount=n,t.$refs.authorize.contractName="PinToken",t.$refs.authorize.contractAddress=t.$contracts.Pin._address,e.abrupt("return",t.$refs.authorize.toggle());case 18:t.doPin(0);case 19:case"end":return e.stop()}}),e)})))()},doPin:function(t){var e=this;if(this.orderResult)return vant.Toast.fail(this.$t("fastJoin.text18"));var n=this.$contracts.Pin.methods.doPin(t);n.call({from:this.$address},(function(t,a){t||n.send({from:e.$address}).on("transactionHash",(function(t){vant.Toast.loading({message:e.$t("transaction.text7"),forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(t){vant.Toast.clear(),e.swithShow(),e.$store.commit("orderResult",!0),vant.Toast.success(e.$t("fastJoin.text19")),e.$getBalance(),e.$nextTick((function(){e.$emit("refreshList")}))})).on("error",(function(t){vant.Toast.clear(),vant.Toast.fail(e.$t("transaction.text13"))}))}))},getSpecifyTime:function(t,e){var n=new Date(new Date(1e3*t).toLocaleDateString()).getTime()/1e3;return n+60*e*60}}},c=i,u=c,l=(n("8654"),n("2877")),d=Object(l["a"])(u,a,s,!1,null,"35b940d3",null);e["default"]=d.exports},e7c0:function(t,e,n){var a={"./transaction-banner-en.png":"5ca4","./transaction-banner-hk.png":"49b4","./transaction-banner-ja.png":"162d","./transaction-banner-ko.png":"e0e0","./transaction-banner-zh.png":"f809"};function s(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=r,t.exports=s,s.id="e7c0"},e937:function(t,e,n){"use strict";n("5f33")},fab8:function(t,e,n){},ffd1:function(t,e,n){}}]);